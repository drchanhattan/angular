import{$ as Ue,$a as Uv,$b as ld,A as Co,Aa as Re,Ab as Q,Ac as ti,B as an,Ba as kc,Bb as ve,Bc as is,C as Rc,Ca as $e,Cb as pt,Cc as fr,D as Qh,Da as lr,Db as Wv,E as Dc,Ea as kv,Eb as ye,F as So,Fa as xc,Fb as Gv,G as yi,Ga as xv,Gb as Ie,H as Oe,Ha as In,Hb as $t,I as Xh,Ia as Ci,Ib as lt,J as wi,Ja as Po,Jb as ad,K as or,Ka as Yr,Kb as Vn,L as Kr,La as Qr,Lb as Zn,M as Jh,Ma as Mv,Mb as mt,N as Ft,Na as Ov,Nb as gt,O as Ao,Oa as Nv,Ob as Jr,P as Zh,Pa as Fv,Pb as we,Q as Ro,Qa as Vv,Qb as Ln,R as bi,Ra as Lv,Rb as Mo,S as Ii,Sa as jv,Sb as _t,T as ed,Ta as Ht,Tb as ce,U as Cv,Ua as id,Ub as Lc,V as Sv,Va as Mc,Vb as Zr,W as Av,Wa as ko,Wb as Hv,X as Pc,Xa as se,Xb as jc,Y as cn,Ya as N,Yb as Uc,Z as St,Za as rd,Zb as cd,_ as je,_a as Xr,_b as hr,a as O,aa as Ne,ab as Oc,ac as Kv,b as le,ba as ar,bb as Nc,bc as vt,ca as j,cb as Fc,cc as Yv,d as be,da as xe,db as sd,dc as Qv,e as $h,ea as Rv,eb as ee,ec as ln,f as S,fa as Y,fb as Bv,fc as Bc,g as zt,ga as td,gb as zv,gc as ei,h as bv,ha as k,hb as Nn,hc as Xv,i as vn,ia as U,ib as ur,ic as es,j as qh,ja as yn,jb as od,jc as Jv,k as Wh,ka as Do,kb as Vc,kc as Zv,l as re,la as ae,lb as Kt,lc as te,m as Ct,ma as Me,mb as Fn,mc as ts,n as Ac,na as nt,nb as $v,nc as zc,o as Iv,oa as wn,ob as qv,oc as ey,p as Ev,pa as Dv,pb as it,pc as ns,q as vi,qa as Ei,qb as Vt,qc as Yt,r as Gh,ra as bn,rb as ue,rc as ty,s as Hh,sa as Ti,sb as xo,sc as ny,t as Kh,ta as Be,tb as At,tc as $c,u as Nt,ua as ze,ub as Fe,uc as qc,v as K,va as Pv,vb as En,w as sr,wa as On,wb as Si,x as Yh,xa as nd,xb as Ai,xc as Oo,y as Tv,ya as ct,yb as Ri,yc as dr,z as J,za as cr,zb as $}from"./chunk-CEGIAQTS.js";var aw=be((hf,df)=>{"use strict";(function(n,e){typeof hf=="object"&&typeof df<"u"?df.exports=e():typeof define=="function"&&define.amd?define(e):n.lozad=e()})(hf,function(){"use strict";var n=typeof document<"u"&&document.documentMode,e={rootMargin:"0px",threshold:0,load:function(s){if(s.nodeName.toLowerCase()==="picture"){var o=s.querySelector("img"),c=!1;o===null&&(o=document.createElement("img"),c=!0),n&&s.getAttribute("data-iesrc")&&(o.src=s.getAttribute("data-iesrc")),s.getAttribute("data-alt")&&(o.alt=s.getAttribute("data-alt")),c&&s.append(o)}if(s.nodeName.toLowerCase()==="video"&&!s.getAttribute("data-src")&&s.children){for(var l=s.children,u=void 0,f=0;f<=l.length-1;f++)(u=l[f].getAttribute("data-src"))&&(l[f].src=u);s.load()}s.getAttribute("data-poster")&&(s.poster=s.getAttribute("data-poster")),s.getAttribute("data-src")&&(s.src=s.getAttribute("data-src")),s.getAttribute("data-srcset")&&s.setAttribute("srcset",s.getAttribute("data-srcset"));var p=",";if(s.getAttribute("data-background-delimiter")&&(p=s.getAttribute("data-background-delimiter")),s.getAttribute("data-background-image"))s.style.backgroundImage="url('"+s.getAttribute("data-background-image").split(p).join("'),url('")+"')";else if(s.getAttribute("data-background-image-set")){var g=s.getAttribute("data-background-image-set").split(p),T=g[0].substr(0,g[0].indexOf(" "))||g[0];T=T.indexOf("url(")===-1?"url("+T+")":T,g.length===1?s.style.backgroundImage=T:s.setAttribute("style",(s.getAttribute("style")||"")+"background-image: "+T+"; background-image: -webkit-image-set("+g+"); background-image: image-set("+g+")")}s.getAttribute("data-toggle-class")&&s.classList.toggle(s.getAttribute("data-toggle-class"))},loaded:function(){}};function i(s){s.setAttribute("data-loaded",!0)}var t=function(s){return s.getAttribute("data-loaded")==="true"},r=function(s){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return s instanceof Element?[s]:s instanceof NodeList?s:o.querySelectorAll(s)};return function(){var s,o,c=0<arguments.length&&arguments[0]!==void 0?arguments[0]:".lozad",l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},u=Object.assign({},e,l),f=u.root,p=u.rootMargin,g=u.threshold,T=u.load,A=u.loaded,M=void 0;typeof window<"u"&&window.IntersectionObserver&&(M=new IntersectionObserver((s=T,o=A,function(B,z){B.forEach(function(he){(0<he.intersectionRatio||he.isIntersecting)&&(z.unobserve(he.target),t(he.target)||(s(he.target),i(he.target),o(he.target)))})}),{root:f,rootMargin:p,threshold:g}));for(var D,L=r(c,f),W=0;W<L.length;W++)(D=L[W]).getAttribute("data-placeholder-background")&&(D.style.background=D.getAttribute("data-placeholder-background"));return{observe:function(){for(var B=r(c,f),z=0;z<B.length;z++)t(B[z])||(M?M.observe(B[z]):(T(B[z]),i(B[z]),A(B[z])))},triggerLoad:function(B){t(B)||(T(B),i(B),A(B))},observer:M}}})});var fi=be(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getAndAssertSingleCodePoint=Qe.invertCaseOfAlphabeticChar=Qe.isUpperCase=Qe.isLowerCase=Qe.isAlphabetic=Qe.isDigit=Qe.isWordChar=Qe.convertSurrogatePairToCodePoint=Qe.isLowSurrogate=Qe.isHighSurrogate=void 0;function aO(n){return 55296<=n&&n<=56319}Qe.isHighSurrogate=aO;function cO(n){return 56320<=n&&n<=57343}Qe.isLowSurrogate=cO;function lO(n,e){return(n-55296)*1024+e-56320+65536}Qe.convertSurrogatePairToCodePoint=lO;function uO(n){return nE(n)||iE(n)}Qe.isWordChar=uO;function nE(n){return 48<=n&&n<=57}Qe.isDigit=nE;function iE(n){return rE(n)||sE(n)}Qe.isAlphabetic=iE;function rE(n){return 97<=n&&n<=122}Qe.isLowerCase=rE;function sE(n){return 65<=n&&n<=90}Qe.isUpperCase=sE;function hO(n){return n^32}Qe.invertCaseOfAlphabeticChar=hO;function dO(n){if([...n].length!==1)throw new RangeError("Expected the input string to be one code point in length.");return n.codePointAt(0)}Qe.getAndAssertSingleCodePoint=dO});var Og=be(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.randomCharFromSetCensorStrategy=xt.fixedCharCensorStrategy=xt.fixedPhraseCensorStrategy=xt.grawlixCensorStrategy=xt.asteriskCensorStrategy=xt.keepEndCensorStrategy=xt.keepStartCensorStrategy=void 0;var fO=fi();function pO(n){return e=>e.overlapsAtStart?n(e):String.fromCodePoint(e.input.codePointAt(e.startIndex))+n(le(O({},e),{matchLength:e.matchLength-1}))}xt.keepStartCensorStrategy=pO;function mO(n){return e=>{if(e.overlapsAtEnd)return n(e);let i=String.fromCodePoint(e.input.codePointAt(e.endIndex));return n(le(O({},e),{matchLength:e.matchLength-1}))+i}}xt.keepEndCensorStrategy=mO;function gO(){return oE("*")}xt.asteriskCensorStrategy=gO;function _O(){return aE("%@$&*")}xt.grawlixCensorStrategy=_O;function vO(n){return()=>n}xt.fixedPhraseCensorStrategy=vO;function oE(n){return(0,fO.getAndAssertSingleCodePoint)(n),e=>n.repeat(e.matchLength)}xt.fixedCharCensorStrategy=oE;function aE(n){let e=[...n];if(e.length===0)throw new Error("The character set passed must not be empty.");return i=>{let t="";for(let r=0;r<i.matchLength;r++)t+=e[Math.floor(Math.random()*e.length)];return t}}xt.randomCharFromSetCensorStrategy=aE});var cE=be(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.compareIntervals=void 0;function yO(n,e,i,t){return n<i?-1:i<n?1:e<t?-1:t<e?1:0}qu.compareIntervals=yO});var Gu=be(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.compareMatchByPositionAndId=void 0;var wO=cE();function bO(n,e){let i=(0,wO.compareIntervals)(n.startIndex,n.endIndex,e.startIndex,e.endIndex);return i!==0?i:n.termId===e.termId?0:n.termId<e.termId?-1:1}Wu.compareMatchByPositionAndId=bO});var lE=be(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.TextCensor=void 0;var IO=Gu(),EO=Og(),Ng=class{constructor(){this.strategy=(0,EO.grawlixCensorStrategy)()}setStrategy(e){return this.strategy=e,this}applyTo(e,i){if(i.length===0)return e;let t=[...i].sort(IO.compareMatchByPositionAndId),r="",s=0;for(let o=0;o<t.length;o++){let c=t[o];if(s>c.endIndex)continue;let l=c.startIndex<s;l||(r+=e.slice(s,c.startIndex));let u=Math.max(s,c.startIndex),f=o<t.length-1&&c.endIndex>=t[o+1].startIndex&&c.endIndex<t[o+1].endIndex;r+=this.strategy(le(O({},c),{startIndex:u,input:e,overlapsAtStart:l,overlapsAtEnd:f})),s=c.endIndex+1}return r+=e.slice(s),r}};Hu.TextCensor=Ng});var Fg=be(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.assignIncrementingIds=void 0;function TO(n){let e=0;return n.map(i=>({id:e++,pattern:i}))}Ku.assignIncrementingIds=TO});var Lg=be(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.PhraseBuilder=eo.DataSet=void 0;var CO=Fg(),Vg=class{constructor(){this.containers=[],this.patternCount=0,this.patternIdToPhraseContainer=new Map}addAll(e){for(let i of e.containers)this.registerContainer(i);return this}removePhrasesIf(e){this.patternCount=0,this.patternIdToPhraseContainer.clear();let i=this.containers.splice(0);for(let t of i)e(t)||this.registerContainer(t);return this}addPhrase(e){let i=e(new Yu).build();return this.registerContainer(i),this}getPayloadWithPhraseMetadata(e){let i=this.patternIdToPhraseContainer.get(e.termId);if(i===void 0)throw new Error(`The pattern with ID ${e.termId} does not exist in this dataset.`);return le(O({},e),{phraseMetadata:this.containers[i].metadata})}build(){return{blacklistedTerms:(0,CO.assignIncrementingIds)(this.containers.flatMap(e=>e.patterns)),whitelistedTerms:this.containers.flatMap(e=>e.whitelistedTerms)}}registerContainer(e){let i=this.containers.push(e)-1;for(let t=0,r=this.patternCount;t<e.patterns.length;t++,r++)this.patternIdToPhraseContainer.set(r,i),this.patternCount++}};eo.DataSet=Vg;var Yu=class{constructor(){this.patterns=[],this.whitelistedTerms=[]}addPattern(e){return this.patterns.push(e),this}addWhitelistedTerm(e){return this.whitelistedTerms.push(e),this}setMetadata(e){return this.metadata=e,this}build(){return{patterns:this.patterns,whitelistedTerms:this.whitelistedTerms,metadata:this.metadata}}};eo.PhraseBuilder=Yu});var Xu=be(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.SyntaxKind=void 0;var uE=function(n){return n[n.Optional=0]="Optional",n[n.Wildcard=1]="Wildcard",n[n.Literal=2]="Literal",n[n.BoundaryAssertion=3]="BoundaryAssertion",n}(uE||(Qu.SyntaxKind=uE={}))});var hE=be(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.getRegExpStringForNode=Ji.compilePatternToRegExp=Ji.potentiallyMatchesEmptyString=void 0;var Ju=Xu();function SO(n){return n.nodes.every(e=>e.kind===Ju.SyntaxKind.Optional)}Ji.potentiallyMatchesEmptyString=SO;function AO(n){let e="";n.requireWordBoundaryAtStart&&(e+="\\b");for(let i of n.nodes)e+=jg(i);return n.requireWordBoundaryAtEnd&&(e+="\\b"),new RegExp(e,"gs")}Ji.compilePatternToRegExp=AO;var RO=["[",".","*","+","?","^","$","{","}","(",")","|","[","\\","]"].map(n=>n.charCodeAt(0));function jg(n){switch(n.kind){case Ju.SyntaxKind.Literal:{let e="";for(let i of n.chars)RO.includes(i)&&(e+="\\"),e+=String.fromCodePoint(i);return e}case Ju.SyntaxKind.Optional:return`(?:${jg(n.childNode)})?`;case Ju.SyntaxKind.Wildcard:return"."}}Ji.getRegExpStringForNode=jg});var dE=be(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.TransformerSet=void 0;var Ug=class{constructor(e){this.transformers=e,this.statefulTransformers=Array.from({length:this.transformers.length});for(let i=0;i<this.transformers.length;i++){let t=this.transformers[i];t.type===1&&(this.statefulTransformers[i]=t.factory())}}applyTo(e){let i=e;for(let t=0;t<this.transformers.length&&i!==void 0;t++){let r=this.transformers[t];r.type===0?i=r.transform(i):i=this.statefulTransformers[t].transform(i)}return i}resetAll(){for(let e=0;e<this.transformers.length;e++)this.transformers[e].type===1&&this.statefulTransformers[e].reset()}};Zu.TransformerSet=Ug});var th=be(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});eh.CharacterIterator=void 0;var Bg=fi(),zg=class{constructor(e){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0,this._input=e??""}get input(){return this._input}setInput(e){return this._input=e,this.reset(),this}reset(){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0}next(){if(this.done)return{done:!0,value:void 0};this.lastPosition=this.currentPosition;let e=this._input.charCodeAt(this.currentPosition++);if(this._lastWidth=1,this.done||!(0,Bg.isHighSurrogate)(e))return{done:!1,value:e};let i=this._input.charCodeAt(this.currentPosition);return(0,Bg.isLowSurrogate)(i)?(this._lastWidth++,this.currentPosition++,{done:!1,value:(0,Bg.convertSurrogatePairToCodePoint)(e,i)}):{done:!1,value:e}}get position(){return this.lastPosition}get lastWidth(){return this._lastWidth}get done(){return this.currentPosition>=this._input.length}[Symbol.iterator](){return this}};eh.CharacterIterator=zg});var fE=be(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});nh.IntervalCollection=void 0;var $g=class{constructor(){this.dirty=!1,this.intervals=[]}insert(e,i){this.intervals.push([e,i]),this.dirty=!0}query(e,i){if(this.intervals.length===0)return!1;this.dirty&&(this.dirty=!1,this.intervals.sort((t,r)=>t[0]<r[0]?-1:r[0]<t[0]?1:0));for(let t of this.intervals){if(t[0]>e)break;if(t[0]<=e&&i<=t[1])return!0}return!1}values(){return this.intervals.values()}[Symbol.iterator](){return this.values()}};nh.IntervalCollection=$g});var gE=be(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});ih.RegExpMatcher=void 0;var pE=hE(),mE=dE(),to=fi(),DO=th(),PO=fE(),kO=Gu(),qg=class{constructor({blacklistedTerms:e,whitelistedTerms:i=[],blacklistMatcherTransformers:t=[],whitelistMatcherTransformers:r=[]}){this.blacklistedTerms=this.compileTerms(e),this.whitelistedTerms=i,this.blacklistMatcherTransformers=new mE.TransformerSet(t),this.whitelistMatcherTransformers=new mE.TransformerSet(r)}getAllMatches(e,i=!1){let t=this.getWhitelistedIntervals(e),[r,s]=this.applyTransformers(e,this.blacklistMatcherTransformers),o=[];for(let c of this.blacklistedTerms)for(let l of s.matchAll(c.regExp)){let u=[...l[0]].length,f=r[l.index],p=r[l.index+u-1];p<s.length-1&&(0,to.isHighSurrogate)(s.charCodeAt(p))&&(0,to.isLowSurrogate)(s.charCodeAt(p+1))&&p++,t.query(f,p)||o.push({termId:c.id,startIndex:f,endIndex:p,matchLength:u})}return i&&o.sort(kO.compareMatchByPositionAndId),o}hasMatch(e){let i=this.getWhitelistedIntervals(e),[t,r]=this.applyTransformers(e,this.blacklistMatcherTransformers);for(let s of this.blacklistedTerms)for(let o of r.matchAll(s.regExp)){let c=[...o[0]].length,l=t[o.index],u=t[o.index+c-1];if(u<r.length-1&&(0,to.isHighSurrogate)(r.charCodeAt(u))&&(0,to.isLowSurrogate)(r.charCodeAt(u+1))&&u++,!i.query(l,u))return!0}return!1}getWhitelistedIntervals(e){let i=new PO.IntervalCollection,[t,r]=this.applyTransformers(e,this.whitelistMatcherTransformers);for(let s of this.whitelistedTerms){let o=[...s].length,c=0;for(let l=r.indexOf(s,c);l!==-1;l=r.indexOf(s,c)){let u=t[l+o-1];u<r.length-1&&(0,to.isHighSurrogate)(r.charCodeAt(u))&&(0,to.isLowSurrogate)(r.charCodeAt(u+1))&&u++,i.insert(t[l],u),c=u+1}}return i}applyTransformers(e,i){let t=[],r="",s=new DO.CharacterIterator(e);for(let o of s){let c=i.applyTo(o);c!==void 0&&(t.push(s.position),r+=String.fromCodePoint(c))}return i.resetAll(),[t,r]}compileTerms(e){let i=[],t=new Set;for(let r of e){if(t.has(r.id))throw new Error(`Duplicate blacklisted term ID ${r.id}.`);if((0,pE.potentiallyMatchesEmptyString)(r.pattern))throw new Error(`Pattern with ID ${r.id} potentially matches empty string; this is unsupported.`);i.push({id:r.id,regExp:(0,pE.compilePatternToRegExp)(r.pattern)}),t.add(r.id)}return i}};ih.RegExpMatcher=qg});var vE=be(_E=>{"use strict";Object.defineProperty(_E,"__esModule",{value:!0})});var Gg=be(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});rh.ParserError=void 0;var Wg=class extends Error{constructor(e,i,t){super(`${i}:${t}: ${e}`),this.name="ParserError",this.line=i,this.column=t}};rh.ParserError=Wg});var bE=be(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.Parser=void 0;var Hg=fi(),xO=th(),Ur=Xu(),MO=Gg(),wE=[92,91,93,63,124],OO=wE.map(n=>`'${String.fromCodePoint(n)}'`).join(", "),yE=-1,Kg=class{constructor(){this.input="",this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0}parse(e){this.setInput(e);let i=[],t=this.nextNode(),r=t?.kind===Ur.SyntaxKind.BoundaryAssertion;t&&!r&&i.push(t);let s=!1;for(;!this.done;){let o=this.mark(),c=this.nextNode();if(c.kind!==Ur.SyntaxKind.BoundaryAssertion){i.push(c);continue}this.done||this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",o),s=!0}return{requireWordBoundaryAtStart:r,requireWordBoundaryAtEnd:s,nodes:i}}setInput(e){return this.input=e,this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0,this}nextNode(){switch(this.peek()){case yE:return;case 91:return this.parseOptional();case 93:this.reportError("Unexpected ']' with no corresponding '['.");case 63:return this.parseWildcard();case 124:return this.parseBoundaryAssertion();default:return this.parseLiteral()}}get done(){return this.position>=this.input.length}parseOptional(){let e=this.mark();this.next();let i=this.mark();this.done&&this.reportError("Unexpected unclosed '['.",e),this.accept("[")&&this.reportError("Unexpected nested optional node.",i);let t=this.nextNode();return t.kind===Ur.SyntaxKind.BoundaryAssertion&&this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",i),this.accept("]")||this.reportError("Unexpected unclosed '['."),{kind:Ur.SyntaxKind.Optional,childNode:t}}parseWildcard(){return this.next(),{kind:Ur.SyntaxKind.Wildcard}}parseBoundaryAssertion(){return this.next(),{kind:Ur.SyntaxKind.BoundaryAssertion}}parseLiteral(){let e=[];for(;!this.done;){if(this.accept("[]?|")){this.backup();break}let i=this.next();if(i===92){this.done&&(this.backup(),this.reportError("Unexpected trailing backslash."));let t=this.next();if(!wE.includes(t)){let r=String.fromCodePoint(t);this.backup(),this.reportError(`Cannot escape character '${r}'; the only characters that can be escaped are the following: ${OO}.`)}e.push(t)}else e.push(i)}return{kind:Ur.SyntaxKind.Literal,chars:e}}reportError(e,{line:i=this.line,column:t=this.column}={}){throw new MO.ParserError(e,i,t)}mark(){return{line:this.line,column:this.column}}accept(e){let i=this.next(),t=new xO.CharacterIterator(e);for(let r of t)if(r===i)return!0;return this.backup(),!1}peek(){let e=this.next();return this.backup(),e}next(){if(this.done)return yE;let e=this.input.charCodeAt(this.position++);if(this.lastWidth=1,e===10)return this.lastColumn=this.column,this.column=1,this.line++,e;if(this.lastColumn=this.column++,!(0,Hg.isHighSurrogate)(e)||this.done)return e;let i=this.input.charCodeAt(this.position);return(0,Hg.isLowSurrogate)(i)?(this.position++,this.lastWidth++,(0,Hg.convertSurrogatePairToCodePoint)(e,i)):e}backup(){this.position-=this.lastWidth,this.column=this.lastColumn,this.lastWidth===1&&this.input.charCodeAt(this.position)===10&&this.line--}};sh.Parser=Kg});var Yg=be(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.parseRawPattern=no.pattern=void 0;var NO=bE(),IE=new NO.Parser;function FO(n,...e){let i=n.raw[0];for(let[t,r]of e.entries())i+=r,i+=n.raw[t+1];return IE.parse(i)}no.pattern=FO;function VO(n){return IE.parse(n)}no.parseRawPattern=VO});var sc=be(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.createStatefulTransformer=io.createSimpleTransformer=void 0;function LO(n){return{type:0,transform:n}}io.createSimpleTransformer=LO;function jO(n){return{type:1,factory:n}}io.createStatefulTransformer=jO});var EE=be(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.CollapseDuplicatesTransformer=void 0;var Qg=class{constructor({defaultThreshold:e,customThresholds:i}){this.remaining=-1,this.lastChar=-1,this.defaultThreshold=e,this.customThresholds=i}transform(e){if(e===this.lastChar)return this.remaining-- >0?e:void 0;let i=this.customThresholds.get(e)??this.defaultThreshold;return this.remaining=i-1,this.lastChar=e,i>0?e:void 0}reset(){this.remaining=-1,this.lastChar=-1}};oh.CollapseDuplicatesTransformer=Qg});var Xg=be(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});ah.collapseDuplicatesTransformer=void 0;var UO=fi(),BO=sc(),zO=EE();function $O({defaultThreshold:n=1,customThresholds:e=new Map}={}){let i=qO(e);return(0,BO.createStatefulTransformer)(()=>new zO.CollapseDuplicatesTransformer({defaultThreshold:n,customThresholds:i}))}ah.collapseDuplicatesTransformer=$O;function qO(n){let e=new Map;for(let[i,t]of n){if(t<0)throw new RangeError("Expected all thresholds to be non-negative.");let r=(0,UO.getAndAssertSingleCodePoint)(i);e.set(r,t)}return e}});var lh=be(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.remapCharactersTransformer=void 0;var WO=fi(),GO=th(),HO=sc();function KO(n){let e=YO(n);return(0,HO.createSimpleTransformer)(i=>e.get(i)??i)}ch.remapCharactersTransformer=KO;function YO(n){let e=new Map,i=n instanceof Map?n.entries():Object.entries(n);for(let[t,r]of i){let s=(0,WO.getAndAssertSingleCodePoint)(t),o=new GO.CharacterIterator(r);for(let c of o)e.set(c,s)}return e}});var TE=be(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});uh.confusables=void 0;uh.confusables=new Map([[" "," "],["0","\u24FF"],["1","\u24F5\u278A\u2474\xB9\u{1D7CF}\u{1D7D9}\uFF11\u{1D7F7}\u{1D7E3}\u2488\u{1D7ED}1\u2780\u2081\u2460\u2776\u2960"],["2","\u24F6\u2489\u2475\u278B\u01BB\xB2\u14BF\u{1D7DA}\uFF12\u{1D7EE}\u{1D7E4}\u14BE\u{1D7F8}\u01A7\u{1D7D0}\u2461\u1D24\u2082\u2781\u2777\u161D\u01A8"],["3","\xB3\u2CCC\uA7AB\u{1D7D1}\u2128\u{1D7DB}\u{1D7EF}\u{1D7E5}\uA76A\u278C\u0417\u021C\u24F7\u04E0\u01B7\uFF13\u{1D7F9}\u2476\u248A\u0292\u0293\u01EF\u01EE\u01BA\u{1D574}\u1DBE\u0437\u19A1\u2782\u2462\u2083\u1D9A\u1D23\u1D1F\u2778\u0498\u0499\u04EC\u04E1\u04ED\u04DF\u04DE"],["4","\u278D\u04B6\u13CE\u{1D7DC}\u04B7\u24F8\u04B8\u04B9\u04F4\u04F5\u1DA3\uFF14\u0447\u3129\u2074\u2783\u2084\u2463\u2779\u04CB\u2477\u248B"],["5","\u{1D7F1}\u24F9\u278E\u01BC\u{1D7D3}\u{1D7FB}\u{1D7DD}\u{1D7E7}\uFF15\u2784\u2085\u2464\u2075\u277A\u01BD\u2478\u248C"],["6","\u2CD2\u13EE\u{1D7DE}\u{1D7E8}\u{1D7D4}\u278F\u24FA\u03EC\u03ED\u2076\u0431\uFF16\u19C8\u2465\u2785\u2086\u277B\u2479\u248D"],["7","\u24FB\u{104D2}\u2790\uFF17\u2077\u2466\u2087\u277C\u2786\u247A\u248E"],["8","\u{1031A}\u2791\u24FC\uFF18\u{1D7E0}\u{1D7EA}\u09EA\u2078\u2088\u{1D7F4}\u2787\u2467\u277D\u{1D7FE}\u{1D7D6}\u247B\u248F"],["9","\uA76E\u2CCA\u24FD\u2792\u0A67\u09ED\u0B68\uFF19\u{1D7EB}\u{1D7FF}\u{1D7D7}\u2079\u2089\u0533\u2788\u2468\u277E\u247C\u2490"],["A","\u{1F130}\u13AF\u{102A0}\u{1D56C}\u{1D71C}\u{1D434}\uA4EE\u13AA\u{1D6A8}\uAB7A\u{1D756}\u{1F150}\u212B\u2200\u{1F1E6}\u20B3\u{1F170}\u{1D49C}\u{1D608}\u{1D400}\u{1D538}\u0434\u01FA\u15C5\u24B6\uFF21\u0391\u1F8B\u15E9\u0102\xC3\xC5\u01CD\u0200\u0202\u0100\u023A\u0104\u028C\u039B\u03BB\u019B\u1D00\u1D2C\u0414\u0410\u120D\xC4\u2090\u1571\xAA\u01DE\u04D2\u0386\u1EA0\u1EA2\u1EA6\u1EA8\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1FB8\u1FB9\u1FBA\u1FBB\u1FBC\u1F88\u1F89\u1F8A\u1F8C\u1F8D\u1F8E\u1F8F\u1F08\u1F09\u1F0A\u1F0B\u1F0C\u1F0D\u1F0E\u1F0F\u1E00\u0226\u01E0\u04D0\xC0\xC1\xC2\u1EA4\u1EAA\u{1D6E2}\u{1D4D0}\u{1D670}\u{1D63C}"],["a","\u2202\u237A\u24D0\u0571\u01DF\u1D43\u1D8F\u249C\u0430\u0252\uFF41\u03B1\u0203\u0201\u0E04\u01CE\u10DB\xE4\u0251\u0101\u0250\u0105\u1F84\u1E9A\u1EA1\u1EA3\u01E1\u1EA7\u1EB5\u1E01\u0227\u04D1\u04D3\xE3\xE5\u03AC\u1F70\u1F71\u0103\u1EA9\u1EB1\u1EB3\u1EB7\u1F80\u1F81\u1F82\u1F83\u1F85\u1F86\u1FB0\u1FB1\u1FB2\u1FB3\u1FB4\u1D90\u1FB6\u1FB7\u1F00\u1F01\u1F02\u1F03\u1F04\u1F05\u1F06\u1F07\u1F87\u1EAD\u1EAF\xE0\xE1\xE2\u1EA5\u1EAB\u01FB\u2C65\u{1D41A}\u{1D44E}\u{1D482}\u{1D4B6}\u{1D4EA}\u{1D51E}\u{1D552}\u{1D586}\u{1D5BA}\u{1D5EE}\u{1D622}\u{1D656}\u{1D68A}\u{1D6C2}\u{1D6FC}\u{1D736}\u{1D770}\u{1D7AA}\u2376"],["B","\u{10301}\u{1D469}\u{1D56D}\u{1F131}\u{102A1}\u{1D5A1}\u{1D63D}\uA4D0\u{1D5D5}\u{1D609}\u{1D71D}\u{10282}\u{1D6A9}\u{1D401}\u{1D6E3}\u{1D757}\u{1D435}\u{1D671}\u{1D539}\u13F4\u13FC\u{1D791}\uA7B4\u{1D505}\u{1F151}\u0E3F\u{1D4D1}\u15FF\u15FE\u15FD\u{1F171}\u24B7\uFF22\u0432\u03D0\u15F7\u0181\u4E43\xDF\u10EA\u10E9\u0E56\u03B2\u026E\u0411\u0545\u0E52\u1656\u0299\u1D2E\u1D47\u130C\u1E04\u212C\u0392\u0412\u1E9E\u1E02\u1E06\u0243\u0D26\u15F9\u15F8\u1D5D\u165E\u165F\u165D\u16D2\u1657\u1658\u1D03\u{1F1E7}"],["b","\u13CF\u{1D41B}\u{1D623}\u{1D4B7}\u{1D51F}\u{1D4EB}\u{1D587}\u{1D5BB}\u{1D44F}\u{1D657}\u{1D553}\u{1D483}\u{1D5EF}\u{1D68B}\u266D\u1473\u1488\uFF42\u159A\u1579\u157A\u24D1\u1E03\u1E05\u048D\u044A\u1E07\u0183\u0253\u0185\u15AF\u0184\u042C\u1472\xFE\u0182\u249D\u042A\u1D80\u147F\u1480\u1482\u1481\u147E\u044C\u0180\u048C\u0462\u0463\u150E"],["C","\u13DF\u2CA4\u{1F132}\uA4DA\u{102A2}\u{10302}\u{1F172}\u{10415}\u{1F152}\u263E\u010C\xC7\u24B8\uFF23\u2183\u0187\u1455\u3108\xA2\u096E\u21BB\u0108\u03FE\u0547\u023B\u1645\u1D9C\u249E\u0106\u0480\u010A\xA9\u091F\u0186\u2102\u212D\u03F9\u0421\u531A\u1E08\u04AA\u0297\u1456\u1461\u1462\u1463\u1464\u1465\u216D\u{1D402}\u{1D436}\u{1D46A}\u{1D49E}\u{1D4D2}\u{1D56E}\u{1D5A2}\u{1D5D6}\u{1D60A}\u{1D63E}\u150D"],["c","\u2CA5\u{1043D}\uABAF\u0109\uFF43\u24D2\u0107\u010D\u010B\xE7\u0481\u0188\u1E09\u023C\u2184\u0441\u122D\u1D04\u03F2\u04AB\uA49D\u03C2\u027D\u03DB\u{1D672}\u1466\u19DA\u{1D41C}\u{1D450}\u{1D484}\u{1D4B8}\u{1D4EC}\u{1D520}\u{1D554}\u{1D588}\u{1D5BC}\u{1D5F0}\u{1D624}\u{1D658}\u{1D68C}\u20B5\u{1F1E8}\u1974\u14BC\u217D"],["D","\u13A0\u{1F133}\u{1D521}\u{1D589}\u{1D53B}\u{1D5D7}\u{1D60B}\u{1D673}\u{1D437}\u{1D4D3}\u{1D403}\u{1D46B}\u{1D56F}\u{1D5A3}\u{1D507}\u{1D63F}\uAB70\u2145\u{1D49F}\uA4D3\u{1F173}\u{1F153}\u24B9\uFF24\u0189\u15EA\u018A\xD0\u053A\u1D05\u1D30\u2181\u1E0A\u0110\xDE\u216E\u15DE\u146F\u010E\u1E0C\u1E10\u1E12\u1E0E\u15EB\u15EC\u15DF\u15E0\u1D9B\u1D06\u{1F1E9}"],["d","\u13E7\uA4D2\u{1D4ED}\u1D6D\u20AB\u0503\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\u1D48\u249F\u0501\u217E\u1D81\u0500\u147A\u147B\u147C\u147D\u1484\u1470\u1471\u1D91\u{1D555}\u{1D5BD}\u{1D451}\u{1D625}\u{1D485}\u{1D659}\u{1D41D}\u{1D5F1}\u{1D68D}\u2146\u{1D4B9}\u02A0\u056A"],["E","\uAB7C\u{1F134}\u{1D640}\u{1D53C}\u{10286}\u{1D6AC}\uA4F0\u{1D75A}\u{1D794}\u{1D4D4}\u{1D46C}\u{1D5D8}\u{1F174}\u{1F154}\u24BA\u0388\uFF25\u018E\u1F1D\u156E\u0190\u30E2\u0404\u1D07\u1D31\u1D49\xC9\u4E47\u0401\u0246\uA085\u20AC\xC8\u2130\u0395\u0415\u2D39\u13AC\u0112\u0114\u0116\u0118\u011A\xCA\xCB\u0510\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u1E14\u1E16\u1EBA\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u1E18\u1E1A\u1F18\u1F19\u1F1A\u1F1B\u1F1C\u1FC8\u1FC9\u04D6\u1F72\u1F73\u0400\u03F5\u{1F1EA}"],["e","\u{1D452}\u{1D4EE}\u{1D556}\u{1D58A}\u{1D626}\u{1D5F2}\u{1D68E}\u{1D65A}\u{1D486}\u{1D522}\u{1D5BE}\u{1D41E}\u04BE\u04BF\u24D4\uFF45\u24A0\xE8\u19C9\xE9\u1D92\xEA\u0258\u1F14\u1EC1\u1EBF\u1EC5\u0AEF\u01DD\u0454\u03B5\u0113\u04BD\u025B\u1EC3\u1EBD\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u0247\u2091\u0119\u1E1D\u1E19\u1E1B\u212E\u0435\u0511\u0450\u04D7\u1971\u0451\u1F10\u1F11\u1F12\u1F13\u1F15\u212F"],["F","\u{1F135}\u{10287}\u{1D509}\u{1D60D}\u{102A5}\uA4DD\uA798\u{1F175}\u{1F155}\u{1D4D5}\u24BB\uFF26\u0493\u0492\u15B4\u0191\u0532\u03DD\u127B\u1E1E\u2131\u03DC\u20A3\u{1F1EB}\u2132"],["f","\u{1D41F}\u{1D58B}\u24D5\uFF46\u0192\u1E1F\u0283\u0562\u1DA0\u24A1\u017F\uA2B0\u0284\u2231\u1D82\u{1D627}"],["G","\uA4D6\u13F3\u{1F136}\u13C0\u13FB\u{1D53E}\u{1D4D6}\u{1D46E}\u{1D572}\uAB90\u{1D4A2}\u{1D642}\u{1D5A6}\u{1D676}\u{1D50A}\u{1D43A}\u{1D406}\u{1F176}\u{1F156}\u24BC\uFF27\u0262\u0193\u029B\u0122\u161C\u1D33\u01F4\u0120\u050C\u011C\u1E20\u011E\u01E6\u01E4\u050D\u20B2\u{1F1EC}\u2141"],["g","\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u0581\u0AED\u01E5\u0260\uFEED\uFEEE\u1D4D\u24A2\u210A\u0261\u19C1\u{1D420}\u{1D454}\u{1D488}\u{1D4F0}\u{1D524}\u{1D558}\u{1D58C}\u{1D5C0}\u{1D5F4}\u{1D628}\u{1D65C}\u{1D690}"],["H","\u{1F137}\u{1D722}\uA4E7\u{1D60F}\u{1D43B}\u{1D75C}\u{1D5A7}\u{102CF}\u{1D5DB}\uAB8B\u210D\u13BB\u210C\u2C8E\u{1D46F}\u{1D796}\u{1F177}\u{1F157}\u12DE\u01F6\u050B\u24BD\uFF28\u0124\u16BA\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u04A2\u04A3\u04A4\u1FCA\u1FCB\u1FCC\u1F28\u1F29\u1F2A\u1F2B\u1F2D\u1F2E\u1F2F\u1F98\u1F99\u1F9A\u1F9B\u1F9C\u1F9D\u1F9E\u1F9F\u04C9\u04C8\u04A5\u0389\u043D\u5344\u2653\u{1D4D7}\u210B\u041D\u{1D407}\u{1D643}\u{1D677}\u029C\u{1D6E8}\u0397\u{1D6AE}\u157C\u04C7\u1D34\u1D78\u{1F1ED}"],["h","\u04BA\u24A3\u0452\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u0570\u04BB\u12A8\u12A9\u12AA\u12AB\u0266\u210E\u{1D421}\u{1D489}\u{1D4BD}\u{1D4F1}\u{1D525}\u{1D559}\u{1D58D}\u{1D5C1}\u{1D5F5}\u{1D629}\u{1D65D}\u{1D691}\u056B\u02B0\u144B\u15C1\u0267\u3093\u0265"],["I","\u{1F138}\u0407\uA024\u13C6\u{1F178}\u{1F158}\u0625\uFE87\u0673\u0623\uFE83\u0672\u0675\u24BE\uFF29\u17F8\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197\u30A7\u30A8\u1FD8\u1FD9\u1FDA\u1FDB\u1F38\u1F39\u1F3A\u1F3B\u1F3C\u1F3D\u1F3E\u2160\u03AA\u038A\u026A\u1DA6\u144A\u1963\u{1D6EA}\u{1D408}\u{1D644}\u{1D678}\u{1D4F5}\u{1D661}\u{1D43C}\u1D35\u{1D6B0}\u{1D470}\u{1F1EE}"],["i","\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u1E2D\u1FD0\u1FD1\u1FD2\u1FD3\u1FD6\u1FD7\u1F30\u1F31\u1F32\u2170\u217C\u2223\u2D4F\uFFE8\u05C0\u0627\u0661\u06F1\u07CA\u16C1\u1F33\u1F34\u1F35\u0268\u0456\u1F76\u1F77\u1D96\u{1D526}\u{1D692}\u{1D778}\u{1D5C2}\u{1D422}\u{1D55A}\u{1D58E}\u{1D5F6}\u{1D62A}\u{1D65E}\u03AF\u2071\u1D62\u{1D4F2}\u24A4"],["J","\u{1F139}\u{1F179}\u{1F159}\u24BF\uFF2A\u0408\u029D\u148D\u05E0\uFF8C\u0134\u0286\u0E27\u0644\u0575\u0296\u1D0A\u1D36\uFEDD\u130B\u0248\u2C7C\u0542\u0E45\u10B1\u012F\u13AB\u0237\u4E3F\u2110\u2111\u1498\u1499\u149A\u149B\u14B4\u14B5\u148E\u148F\u{1F1EF}"],["j","\u24D9\uFF4A\u03F3\u02B2\u24A5\u0249\u0135\u01F0\u0458\u06B6\u1DA8\u{1D4BF}\u{1D62B}\u{1D5F7}\u{1D457}\u{1D65F}\u{1D527}\u{1D48B}\u{1D5C3}\u{1D4F3}\u{1D55B}\u{1D693}\u{1D58F}\u{1D423}"],["K","\u{1D5DE}\u{1F13A}\u{1D725}\u{1D612}\uA4D7\u{1D646}\u{1D542}\u2C94\u{1D50E}\u{1D6EB}\u13E6\u{1D799}\u{1D4A6}\u{1F17A}\u{1F15A}\u20AD\u24C0\uFF2B\u0138\u1E30\u045C\u0198\u043A\u04A0\u03BA\u049B\u049F\u04C4\u029E\u049A\u041A\u04A1\u1D0B\u1D37\u1D4F\u24A6\u16D5\u040C\u1315\u1E32\u039A\u212A\u049C\u049D\u049E\u0136\u1E34\u01E8\u2C69\u03D7\u04C3\u{1F1F0}"],["k","\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\u1D84\u{1D424}\u{1D62C}\u{1D5C4}\u{1D55C}\u{1D705}\u{1D718}\u{1D73F}\u{1D752}\u{1D779}\u{1D78C}\u{1D7B3}\u{1D660}\u{1D694}\u{1D458}\u{1D48C}\u03F0\u{1D6CB}\u{1D6DE}\u{1D7C6}\u{1D5F8}\u{1D4F4}\u{1D4C0}"],["L","\u{1F13B}\u{1041B}\u2CD0\u{1D473}\u{1D67B}\u{10443}\u{1D4DB}\u2CD1\uABAE\u13DE\uA4E1\u{1F17B}\u{1F15B}\uFE88\u2514\u24C1\u0582\uFF2C\u013F\u14AA\u4E5A\u0546\u029F\uA4F6\u03B9\u053C\u1D38\u02E1\u0139\u1228\u1E36\u2097\u0393\u056C\u013B\u1102\u216C\u2112\u2C62\u1967\u1968\u14BB\u14B6\u14B7\u1DAB\uFE8E\u14BA\u14B9\u14B8\u14AB\u23B3\u3125\u0141\u2C60\uFE84\u023D\u{1F1F1}"],["l","\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u04C0\u2113\u1E3D\u1E3B\u0142\uFF9A\u026D\u019A\u026B\u2C61|\u0196\u24A7\u0285\u01C0\u05D5\u05DF\u0399\u0406\uFF5C\u1DA9\u04CF\u{1D4D8}\u{1D540}\u{1D5A8}\u{1D5DC}\u{1D610}\u{1D425}\u{1D459}\u{1D48D}\u{1D4C1}\u{1D529}\u{1D55D}\u{1D591}\u{1D5C5}\u{1D5F9}\u{1D62D}\u{1D695}\u{1D724}\u{1D75E}\u0131\u{1D6A4}\u0269\u1FBE\u{1D6CA}\u{1D704}\u{1D73E}\u{1D7B2}"],["M","\u{1F13C}\u{10311}\u{102B0}\uA4DF\u2C98\u13B7\u{1F17C}\u{1F15C}\u24C2\uFF2D\u043C\u1E42\u0D71\u15F0\u5DDE\u163B\u10DD\u0E53\u264F\u028D\u164F\u1D0D\u1D39\u1D50\u24A8\u1E3E\u041C\u1E40\u0BF1\u216F\u2133\u039C\u03FA\u16D6\u04CD\u04CE\u{1D40C}\u{1D440}\u{1D474}\u{1D4DC}\u{1D510}\u{1D544}\u{1D578}\u{1D5AC}\u{1D5E0}\u{1D614}\u{1D648}\u{1D67C}\u{1D6B3}\u{1D6ED}\u{1D727}\u{1D761}\u{1D79B}\u{1F1F2}"],["m","\u20A5\u1D6F\u{1D592}\u{1D426}\u{1D5C6}\u{1D52A}\u{1D55E}\u{1D4C2}\u24DC\uFF4D\u0D28\u1662\u0D69\u1E3F\u1E41\u217F\u03FB\u1E43\u1320\u0271\u17F3\u1D86\u{1D662}\u{1D4F6}\u{1D696}\u{1D45A}\u{1D5FA}\u19D5\u19D7"],["N","\u{1F13D}\u2115\uA4E0\u{1D6EE}\u{1D762}\u{1D67D}\u{1D6B4}\u{1D475}\u{1D441}\u2C9A\u{1D40D}\u{1D4A9}\u{1D79C}\u{1D5E1}\u{1D615}\u{1D728}\u{1D4DD}\u{1D5AD}\u{1F17D}\u20A6\u{1F15D}\u0419\u040D\u24C3\u048B\u17F7\uFF2E\u1D0E\u0274\u019D\u144E\u51E0\u0438\u0548\u057C\u0418\u05D4\u041B\u03C0\u1D3A\u1DB0\u0143\u5200\u12AD\u1E44\u207F\xD1\u041F\u039D\u1D28\u0578\u03D6\u01F8\u0147\u1E46\u0145\u1E4A\u1E48\u0E17\u014A\u04E2\u04E3\u04E4\u04E5\u045B\u045D\u0439\u1962\u048A\u1D3B\u{1F1F3}"],["n","\u05D7\u{1D48F}\u{1D4F7}\u{1D663}\u{1D45B}\u{1D593}\u{1D52B}\u{1D5C7}\u{1D697}\u{1D5FB}\u1952\u24DD\u03AE\uFF4E\u01F9\u1D12\u0144\xF1\u1F97\u03B7\u1E45\u0148\u1E47\u0272\u0146\u1E4B\u1E49\u0572\u0E96\u054C\u019E\u014B\u24A9\u0E20\u0E01\u0273\u043F\u0149\u043B\u0509\u0220\u1F20\u1F21\u1FC3\u0564\u1F90\u1F91\u1F92\u1F93\u1F94\u1F95\u1F96\u1FC4\u1FC6\u1FC7\u1FC2\u1F22\u1F23\u1F24\u1F25\u1F26\u1F27\u1F74\u1F75\u1260\u1261\u1262\u1263\u1264\u1265\u1266\u0235\u{1D6C8}\u{1D702}\u{1D73C}\u{1D776}\u{1D7B0}\u{1D55F}\u{1D62F}\u{1D427}\u{1D4C3}\u1D87\u1D70\u1965\u2229"],["O","\uA132\u{1F13E}\u{10292}\u{1D7EC}\uA4F3\u2C9E\u{10404}\u{102AB}\u{104C2}\u{1D79E}\u{1F15E}\u2365\u25EF\u2D41\u2296\uFF10\u229D\u{1D764}\u0472\u03F4\u{1D6B6}\u{1D72A}\u047A\u04E6\u04E8\u04EA\u038C\u0298\u{1D40E}\u01D1\xD2\u014E\xD3\xD4\xD5\u020C\u020E\u31FF\u274D\u24C4\uFF2F\u1F4B\u30ED\u2764\u0AE6\u2295\xD8\u0424\u053E\u0398\u01A0\u1D3C\u1D52\u24AA\u0150\xD6\u2092\xA4\u25CA\u03A6\u3007\u039F\u041E\u0555\u0B20\u0D20\u0BE6\u05E1\u1ED2\u1ED0\u1ED6\u1ED4\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u022E\u0230\u022A\u1ECE\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u01FE\u019F\u2D54\u07C0\u17F0\u235C\u2394\u2395\u29B0\u29B1\u29B2\u29B3\u29B4\u29B5\u29B6\u29B7\u29B8\u29B9\u29BA\u29BB\u29BC\u29BD\u29BE\u29BF\u29C0\u29C1\u29C2\u29C3\u1F48\u1F49\u1F4A\u1F4C\u1F4D"],["o","\u{1D698}\u{1D6D0}\u{1D5C8}\u{1D7BC}\u101D\u2C9F\u{1D664}\u1040\u{1042C}\u{1D52C}\u{104EA}\u{1D4F8}\u{1F1F4}\u2364\u25CB\u03D9\u{1F17E}\u{1D4AA}\u{1D5AE}\u{1D7E2}\u{1D7F6}\u{1D67E}\u{1D630}\u{1D5FC}\u{1D560}\u{1D70A}\u{1D428}\u{1D77E}\u{1D7B8}\u1424\u24DE\u0473\u19D0\u1972\xF0\uFF4F\u0C20\u199E\u0553\xF2\u04E9\u04E7\xF3\xBA\u014D\xF4\u01D2\u020F\u014F\u1ED3\u1ED1\u020D\u1ED7\u1ED5\xF5\u03C3\u1E4D\u022D\u1E4F\u1F44\u1E51\u1E53\u022F\u022B\u0E4F\u1D0F\u0151\xF6\u047B\u043E\u12D0\u01ED\u0231\u09E6\u0B66\u0665\u0C66\u0CE6\u0D66\u0E50\u0ED0\u03BF\u0585\u1D11\u0966\u0A66\u1ECF\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\xF8\u01FF\u0275\u056E\u1F40\u1F41\u03CC\u1F78\u1F79\u1F42\u1F43\u1F45"],["P","\u{1F13F}\uA4D1\u{1D6B8}\u{1D67F}\u{1D7A0}\u{1D64B}\uABB2\u2CA2\u{1D4AB}\u{1D766}\u{1D443}\u{1D477}\u{1D5E3}\u{1D40F}\u{10295}\u{1D72C}\u{1D617}\u{1D4DF}\u{1D5AF}\u{1D6F2}\u13E2\u{1F15F}\u048E\u{1F17F}\u24C5\uFF30\u01A4\u146D\u5C38\u1E56\u0580\u03C6\u0584\u1D18\u1D3E\u1D56\u24AB\u1E54\uFF71\u05E7\u0420\u12E8\u1D29\u2C63\u2119\u03A1\u1FEC\u1478\u1476\u1477\u1479\u146C\u146E\u{1F1F5}\u20B1"],["p","\u048F\u2117\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\u1FE5\u03C1\u0440\u01BF\u01F7\u1FE4\u2374\u{1D4F9}\u{1D4C5}\u{1D429}\u{1D45D}\u{1D491}\u{1D52D}\u{1D561}\u{1D595}\u{1D5C9}\u{1D5FD}\u{1D631}\u{1D665}\u{1D699}\u{1D6D2}\u{1D746}\u{1D7BA}\u{1D70C}\u{1D780}"],["Q","\u{1F140}\u{1F180}\u{1F160}\u24C6\uFF31\u211A\u2D55\u051A\u{1D410}\u{1D444}\u{1D478}\u{1D4AC}\u{1D4E0}\u{1D680}\u{1D618}\u{1D64C}\u{1D5B0}\u{1D57C}\u{1D514}\u{1D5E4}\u{1F1F6}"],["q","\u24E0\uFF51\u0563\u24AC\u06F9\u0566\u146B\u024B\u024A\u051B\u{1D5CA}\u{1D45E}\u{1D632}\u{1D562}\u{1D69A}\u{1D492}\u{1D596}\u{1D42A}\u{1D52E}\u{1D4FA}\u{1D666}"],["R","\u211E\u211F\uAB71\u13D2\u{104B4}\uABA2\u13A1\uA4E3\u{1F181}\u{1F161}\u24C7\uFF32\u1D19\u0212\u0280\u1587\u044F\u5C3A\u0154\u042F\u0AB0\u01A6\u1D3F\u12EA\u1E5A\u024C\u0281\u211B\u211C\u211D\u1E58\u0158\u0210\u1E5C\u0156\u1E5E\u2C64\u{1D411}\u{1D445}\u{1D479}\u{1D4E1}\u{1D57D}\u{1D5B1}\u{1D5E5}\u{1D619}\u{1D64D}\u{1D681}\u16B1\u{1F1F7}\u1D1A"],["r","\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u0433\u0550\u027E\u196C\u1E5F\u024D\u02B3\u24AD\u027C\u0453\u1D26\u1D89\u{1D42B}\u{1D45F}\u{1D493}\u{1D4C7}\u{1D4FB}\u{1D52F}\u{1D563}\u{1D597}\u{1D5CB}\u{1D5FF}\u{1D633}\u{1D667}\u1D72\u0491\u1D63"],["S","\u{1F142}\uA1D9\u{1D4E2}\u{1D5E6}\u13DA\u{1D4AE}\u13D5\u{1D682}\u{1D412}\uA4E2\u{1D5B2}\u{1D516}\u{1D64E}\u{10296}\u{1D57E}\u{10420}\u{1D61A}\u{1D54A}\u{1D446}\u{1D47A}\u{1F182}\u{1F162}\u24C8\uFF33\u1E68\u015E\u0586\u054F\u0218\u02E2\u24AE\u0405\u1E60\u0160\u015A\u1E64\u015C\u1E66\u1E62\u0D1F\u1515\u1516\u1522\u1521\u1523\u1524"],["s","\u24E2\uA731\u{10448}\uABAA\uFF53\u015B\u1E65\u015D\u1E61\u0161\u1E67\u0282\u1E63\u1E69\u0455\u015F\u0219\u023F\u1D8A\u0C15\u{1D42C}\u{1D460}\u{1D494}\u{1D4C8}\u{1D4FC}\u{1D530}\u{1D564}\u{1D598}\u{1D5CC}\u{1D600}\u{1D634}\u{1D668}\u{1D69C}\u078E\u{1F1F8}"],["T","\u{1F143}\u{1F183}\u{10315}\u{1D6BB}\u{1D6F5}\u{1D54B}\u{1D57F}\u{1D47B}\u{102B1}\u{10297}\u{1D5B3}\u{1D64F}\u{1F768}\u{1D769}\u{1D7A3}\u{1D683}\u{1D61B}\u{1D447}\uA4D4\u27D9\u{1D413}\u2CA6\u{1D5E7}\u22A4\u{1D517}\u13A2\uAB72\u{1D4AF}\u{1F163}\u23C7\u23C9\u24C9\uFF34\u0442\u04AC\u04AD\u01AC\u30A4\u0166\u0535\u03C4\u1D1B\u1D40\uFF72\u1355\u03EE\u0164\u22A5\u01AE\u03A4\u0422\u4E0B\u1E6A\u1E6C\u021A\u0162\u1E70\u1E6E\u4E05\u4E01\u142A\u{1D6D5}\u{1D70F}\u{1D749}\u{1D783}\u{1D7BD}\u{1D4E3}\u3112\u{1F1F9}\u1325"],["t","\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0236\u0A6E\u0567\u0287\u2020\u0163\u1E71\u1E6F\u01AD\u0167\u1D57\u24AF\u0288\u0565\u01AB\u{1D42D}\u{1D461}\u{1D495}\u{1D4C9}\u{1D4FD}\u{1D531}\u{1D565}\u{1D599}\u{1D5CD}\u{1D601}\u{1D635}\u{1D669}\u{1D69D}\u30CA"],["U","\u{1F144}\uA4F4\u{104CE}\uA4A4\u{1F184}\u{1F164}\u0168\u016C\u016E\u1457\u1458\u01D3\u01D5\u01D7\u01D9\u24CA\uFF35\u0216\u144C\u51F5\u01B1\u0574\u0531\uA4F5\u0426\u016A\u0544\u01B2\u1640\u1D41\u1D58\u24B0\u0170\u0AAA\xDC\u054D\xD9\xDA\xDB\u1E78\u1E7A\u01DB\u1EE6\u0214\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244\u1969\u1467\u222A\u162E\u22C3\u{1D414}\u{1D448}\u{1D47C}\u{1D4B0}\u{1D4E4}\u{1D518}\u{1D54C}\u{1D580}\u{1D5B4}\u{1D5E8}\u{1D61C}\u{1D650}\u{1D684}\u{1F1FA}"],["u","\u1F7A\u1F7B\u24E4\uFF55\xF9\u0169\u016B\u1EEB\u1E77\u1E79\u016D\u01D6\u1EEF\u1959\u01DA\u01DC\u1F57\u03C5\u03B0\u0E19\u057D\u028A\u01D8\u01D4\xFA\u016F\u1D1C\u0171\u0173\u0E22\xFB\u1E7B\u0446\u1201\xFC\u1D7E\u1D64\xB5\u028B\u1EE7\u0215\u0217\u01B0\u1EE9\u1EED\u1EF1\u1EE5\u1E73\u1E75\u0289\u1FE0\u1FE1\u1FE2\u1FE3\u1FE6\u1FE7\u1F50\u1F51\u03CB\u03CD\u1F52\u1F53\u1F54\u1F55\u1F56\u1954\u{1D42E}\u{1D462}\u{1D496}\u{1D4CA}\u{1D4FE}\u{1D532}\u{1D566}\u{1D59A}\u{1D5CE}\u1D99"],["V","\u{1F145}\uA4E6\u{1D47D}\u{1D5B5}\u{1D61D}\u13D9\u{1D685}\u{1D651}\u{1D415}\u{1F185}\u{1F165}\u24CB\uFF36\u142F\u0474\u1D5B\u24B1\u06F7\u1E7E\u2174\u2164\u1E7C\u0667\u2D38\u0476\u143A\u143B\u{1F1FB}\u{1D4E5}"],["v","\u1200\u24E5\uFF56\u{1D710}\u{1D74A}\u1E7D\u1E7F\u0C6E\u0E07\u0475\u05E2\u1D20\u03BD\u05D8\u1D65\u0477\u17F4\u1601\u{1D66B}\u{1D69F}\u{1D6CE}\u{1D708}\u{1D742}\u{1D77C}\u{1D7B6}\u{1D637}\u{1D603}\u{1D4FF}"],["W","\u{1F146}\u13D4\u13B3\u{1D47E}\uA4EA\u{1D4B2}\u{1D61E}\u{1F186}\u24CC\u{1F166}\uFF57\uFF37\u1E82\u1FA7\u15EF\u1955\u5C71\u0460\u0E9F\u0C1A\u0561\u0429\u0428\u03CE\u0449\u0E2C\u0448\u164E\u1D42\u02B7\u24B2\u0E1D\u1220\u1E84\u051C\u1E80\u0174\u1E86\u1E88\u0D27\u163A\u047F\u1661\u019C\u20A9\u{1F1FC}"],["w","\u1E81\uAB83\u1E83\u24E6\u2375\u0175\u1E87\u1E85\u1E98\u1E89\u2C73\u1F7C\u1F60\u1F61\u1F62\u1F63\u03C9\u1F64\u1F65\u1F66\u1F67\u1FF2\u1FF3\u1FF4\u1FF6\u1FF7\u2C72\u0461\u051D\u1D21\u1F7D\u1FA0\u1FA1\u1FA2\u1FA3\u1FA4\u1FA5\u1FA6\u026F\u{1D755}\u{1D7C9}\u{1D78F}"],["X","\u{1F7A8}\u{1F7A9}\u{1F7AA}\u{1F147}\u{1F7AB}\u{1F7AC}\u{10317}\u2CAC\uA4EB\u{1D583}\u{1D7A6}\u{1D61F}\u{10290}\u{1D6BE}\u{1D76C}\u{1D732}\uA7B3\u{10322}\u{1D5B7}\u{1D44B}\u{1D54F}\u{1D51B}\u{102B4}\u{1D5EB}\u{1F187}\u{1F167}\u274C\u24CD\u{1D4E7}\uFF38\u1E8A\u166D\u03C7\u3128\u{1D4B3}\u04FE\u10EF\u04FC\u04B3\u0416\u03A7\u04B2\u1D61\u02E3\u24B3\u05D0\u1238\u1E8C\uA2BC\u2169\u0425\u2573\u166E\u1541\u157D\u2179\u16B7\u2D5D\u{1D653}\u{1D687}\u4E42\u{1D417}\u{1F1FD}"],["x","\u24E7\uFF58\u0445\u1E8B\xD7\u2093\u292B\u292C\u2A2F\u1E8D\u1D8D\u{1D66D}\u04FD\u{1D639}\u{1D431}\u{1D6A1}\u2A30\uFF92\u{1D501}"],["Y","\u2CA8\u{1D688}\u{1D44C}\u{1D5EC}\u{1D418}\uA4EC\u{1D480}\u{1D730}\u{102B2}\u{1F188}\u{1F168}\u24CE\uFF39\u1F5B\u01B3\u311A\u028F\u2144\u03D4\uFFE5\xA5\u054E\u03D3\u03B3\u05E5\u04F2\u0427\u040E\u1203\u0178\u024E\u03E4\u03A5\u03D2\u04AE\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u1EF6\u1EF4\u1FE8\u1FE9\u1FEA\u1FEB\u1F59\u1F5D\u1F5F\u03AB\u038E\u04EE\u04F0\u04B0\u04B1\u{1D550}\u{1F1FE}"],["y","\u{1F148}\u13BD\u13A9\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u0443\u10E7\u1E99\u1EF5\u01B4\u024F\u1D5E\u0263\u02B8\u1D8C\u04AF\u24B4\u04F3\u04F1\u04EF\u045E\u0423\u028E"],["Z","\u{1F149}\uA4DC\u{1D5ED}\u{1D419}\u2621\u13C3\u{1D621}\u{1F189}\u{1F169}\u24CF\uFF3A\u1E94\u01B5\u4E59\u1E90\u0224\u1DBB\u24B5\u0179\u2124\u0396\u017B\u017D\u1E92\u2C6B\u{1F1FF}"],["z","\uAB93\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u1D22\u130A\u0290\u2C6C\u1D8E\u0291\u1646"]])});var Jg=be(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});hh.resolveConfusablesTransformer=void 0;var QO=lh(),XO=TE();function JO(){return(0,QO.remapCharactersTransformer)(XO.confusables)}hh.resolveConfusablesTransformer=JO});var CE=be(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});dh.dictionary=void 0;dh.dictionary=new Map([["a","@4"],["c","("],["e","3"],["i","1|"],["o","0"],["s","$"]])});var Zg=be(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});fh.resolveLeetSpeakTransformer=void 0;var ZO=lh(),eN=CE();function tN(){return(0,ZO.remapCharactersTransformer)(eN.dictionary)}fh.resolveLeetSpeakTransformer=tN});var e_=be(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});ph.toAsciiLowerCaseTransformer=void 0;var SE=fi(),nN=sc();function iN(){return(0,nN.createSimpleTransformer)(n=>(0,SE.isUpperCase)(n)?(0,SE.invertCaseOfAlphabeticChar)(n):n)}ph.toAsciiLowerCaseTransformer=iN});var DE=be(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.englishDataset=gn.englishRecommendedTransformers=gn.englishRecommendedWhitelistMatcherTransformers=gn.englishRecommendedBlacklistMatcherTransformers=void 0;var rN=Lg(),P=Yg(),AE=Xg(),sN=Jg(),oN=Zg(),RE=e_();gn.englishRecommendedBlacklistMatcherTransformers=[(0,sN.resolveConfusablesTransformer)(),(0,oN.resolveLeetSpeakTransformer)(),(0,RE.toAsciiLowerCaseTransformer)(),(0,AE.collapseDuplicatesTransformer)({defaultThreshold:1,customThresholds:new Map([["b",2],["e",2],["o",2],["l",2],["s",2],["g",2]])})];gn.englishRecommendedWhitelistMatcherTransformers=[(0,RE.toAsciiLowerCaseTransformer)(),(0,AE.collapseDuplicatesTransformer)({defaultThreshold:Number.POSITIVE_INFINITY,customThresholds:new Map([[" ",1]])})];gn.englishRecommendedTransformers={blacklistMatcherTransformers:gn.englishRecommendedBlacklistMatcherTransformers,whitelistMatcherTransformers:gn.englishRecommendedWhitelistMatcherTransformers};gn.englishDataset=new rN.DataSet().addPhrase(n=>n.setMetadata({originalWord:"abo"}).addPattern((0,P.pattern)`|ab[b]o[s]|`)).addPhrase(n=>n.setMetadata({originalWord:"abeed"}).addPattern((0,P.pattern)`ab[b]eed`)).addPhrase(n=>n.setMetadata({originalWord:"africoon"}).addPattern((0,P.pattern)`africoon`)).addPhrase(n=>n.setMetadata({originalWord:"anal"}).addPattern((0,P.pattern)`|anal`).addWhitelistedTerm("analabos").addWhitelistedTerm("analagous").addWhitelistedTerm("analav").addWhitelistedTerm("analy").addWhitelistedTerm("analog").addWhitelistedTerm("an al").addPattern((0,P.pattern)`danal`).addPattern((0,P.pattern)`eanal`).addPattern((0,P.pattern)`fanal`).addWhitelistedTerm("fan al").addPattern((0,P.pattern)`ganal`).addWhitelistedTerm("gan al").addPattern((0,P.pattern)`ianal`).addWhitelistedTerm("ian al").addPattern((0,P.pattern)`janal`).addWhitelistedTerm("trojan al").addPattern((0,P.pattern)`kanal`).addPattern((0,P.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,P.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,P.pattern)`oanal|`).addPattern((0,P.pattern)`panal`).addWhitelistedTerm("pan al").addPattern((0,P.pattern)`qanal`).addPattern((0,P.pattern)`ranal`).addPattern((0,P.pattern)`sanal`).addPattern((0,P.pattern)`tanal`).addWhitelistedTerm("tan al").addPattern((0,P.pattern)`uanal`).addWhitelistedTerm("uan al").addPattern((0,P.pattern)`vanal`).addWhitelistedTerm("van al").addPattern((0,P.pattern)`wanal`).addPattern((0,P.pattern)`xanal`).addWhitelistedTerm("texan al").addPattern((0,P.pattern)`yanal`).addPattern((0,P.pattern)`zanal`)).addPhrase(n=>n.setMetadata({originalWord:"anus"}).addPattern((0,P.pattern)`anus`).addWhitelistedTerm("an us").addWhitelistedTerm("tetanus").addWhitelistedTerm("uranus").addWhitelistedTerm("janus").addWhitelistedTerm("manus")).addPhrase(n=>n.setMetadata({originalWord:"arabush"}).addPattern((0,P.pattern)`arab[b]ush`)).addPhrase(n=>n.setMetadata({originalWord:"arse"}).addPattern((0,P.pattern)`|ars[s]e`).addWhitelistedTerm("arsen")).addPhrase(n=>n.setMetadata({originalWord:"ass"}).addPattern((0,P.pattern)`|ass`).addWhitelistedTerm("assa").addWhitelistedTerm("assem").addWhitelistedTerm("assen").addWhitelistedTerm("asser").addWhitelistedTerm("asset").addWhitelistedTerm("assev").addWhitelistedTerm("assi").addWhitelistedTerm("assoc").addWhitelistedTerm("assoi").addWhitelistedTerm("assu")).addPhrase(n=>n.setMetadata({originalWord:"bastard"}).addPattern((0,P.pattern)`bas[s]tard`)).addPhrase(n=>n.setMetadata({originalWord:"bestiality"}).addPattern((0,P.pattern)`be[e][a]s[s]tial`)).addPhrase(n=>n.setMetadata({originalWord:"bitch"}).addPattern((0,P.pattern)`bitch`).addPattern((0,P.pattern)`bich|`)).addPhrase(n=>n.setMetadata({originalWord:"blowjob"}).addPattern((0,P.pattern)`b[b]l[l][o]wj[o]b`)).addPhrase(n=>n.setMetadata({originalWord:"bollocks"}).addPattern((0,P.pattern)`bol[l]ock`)).addPhrase(n=>n.setMetadata({originalWord:"boob"}).addPattern((0,P.pattern)`boob`)).addPhrase(n=>n.setMetadata({originalWord:"boonga"}).addPattern((0,P.pattern)`boonga`).addWhitelistedTerm("baboon ga")).addPhrase(n=>n.setMetadata({originalWord:"buttplug"}).addPattern((0,P.pattern)`buttplug`)).addPhrase(n=>n.setMetadata({originalWord:"chingchong"}).addPattern((0,P.pattern)`chingchong`)).addPhrase(n=>n.setMetadata({originalWord:"chink"}).addPattern((0,P.pattern)`chink`).addWhitelistedTerm("chin k")).addPhrase(n=>n.setMetadata({originalWord:"cock"}).addPattern((0,P.pattern)`|cock|`).addPattern((0,P.pattern)`|cocks`).addPattern((0,P.pattern)`|cockp`).addPattern((0,P.pattern)`|cocke[e]|`).addWhitelistedTerm("cockney")).addPhrase(n=>n.setMetadata({originalWord:"cuck"}).addPattern((0,P.pattern)`cuck`).addWhitelistedTerm("cuckoo")).addPhrase(n=>n.setMetadata({originalWord:"cum"}).addPattern((0,P.pattern)`|cum`).addWhitelistedTerm("cumu").addWhitelistedTerm("cumb")).addPhrase(n=>n.setMetadata({originalWord:"cunt"}).addPattern((0,P.pattern)`|cunt`).addPattern((0,P.pattern)`cunt|`)).addPhrase(n=>n.setMetadata({originalWord:"deepthroat"}).addPattern((0,P.pattern)`deepthro[o]at`).addPattern((0,P.pattern)`deepthro[o]t`)).addPhrase(n=>n.setMetadata({originalWord:"dick"}).addPattern((0,P.pattern)`d?ck|`).addPattern((0,P.pattern)`d?cke[e]s|`).addPattern((0,P.pattern)`d?cks|`).addPattern((0,P.pattern)`|dck|`).addPattern((0,P.pattern)`dick`).addWhitelistedTerm("benedick").addWhitelistedTerm("dickens")).addPhrase(n=>n.setMetadata({originalWord:"dildo"}).addPattern((0,P.pattern)`dildo`)).addPhrase(n=>n.setMetadata({originalWord:"doggystyle"}).addPattern((0,P.pattern)`d[o]g[g]ys[s]t[y]l[l]`)).addPhrase(n=>n.setMetadata({originalWord:"double penetration"}).addPattern((0,P.pattern)`double penetra`)).addPhrase(n=>n.setMetadata({originalWord:"dyke"}).addPattern((0,P.pattern)`dyke`).addWhitelistedTerm("van dyke")).addPhrase(n=>n.setMetadata({originalWord:"ejaculate"}).addPattern((0,P.pattern)`e[e]jacul`).addPattern((0,P.pattern)`e[e]jakul`).addPattern((0,P.pattern)`e[e]acul[l]ate`)).addPhrase(n=>n.setMetadata({originalWord:"fag"}).addPattern((0,P.pattern)`|fag`).addPattern((0,P.pattern)`fggot`)).addPhrase(n=>n.setMetadata({originalWord:"felch"}).addPattern((0,P.pattern)`fe[e]l[l]ch`)).addPhrase(n=>n.setMetadata({originalWord:"fellatio"}).addPattern((0,P.pattern)`f[e][e]llat`)).addPhrase(n=>n.setMetadata({originalWord:"finger bang"}).addPattern((0,P.pattern)`fingerbang`)).addPhrase(n=>n.setMetadata({originalWord:"fisting"}).addPattern((0,P.pattern)`fistin`)).addPhrase(n=>n.setMetadata({originalWord:"fuck"}).addPattern((0,P.pattern)`f[?]ck`).addPattern((0,P.pattern)`|fk`).addPattern((0,P.pattern)`|fu|`).addPattern((0,P.pattern)`|fuk`).addWhitelistedTerm("kung-fu").addWhitelistedTerm("kung fu")).addPhrase(n=>n.setMetadata({originalWord:"gangbang"}).addPattern((0,P.pattern)`g[?]ngbang`)).addPhrase(n=>n.setMetadata({originalWord:"handjob"}).addPattern((0,P.pattern)`h[?]ndjob`)).addPhrase(n=>n.setMetadata({originalWord:"hentai"}).addPattern((0,P.pattern)`h[e][e]ntai`)).addPhrase(n=>n.setMetadata({originalWord:"hooker"}).addPattern((0,P.pattern)`hooker`)).addPhrase(n=>n.setMetadata({originalWord:"incest"}).addPattern((0,P.pattern)`incest`)).addPhrase(n=>n.setMetadata({originalWord:"jerk off"}).addPattern((0,P.pattern)`jerkoff`)).addPhrase(n=>n.setMetadata({originalWord:"jizz"}).addPattern((0,P.pattern)`jizz`)).addPhrase(n=>n.setMetadata({originalWord:"kike"}).addPattern((0,P.pattern)`kike`)).addPhrase(n=>n.setMetadata({originalWord:"lubejob"}).addPattern((0,P.pattern)`lubejob`)).addPhrase(n=>n.setMetadata({originalWord:"masturbate"}).addPattern((0,P.pattern)`m[?]sturbate`).addPattern((0,P.pattern)`masterbate`)).addPhrase(n=>n.setMetadata({originalWord:"negro"}).addPattern((0,P.pattern)`negro`).addWhitelistedTerm("montenegro").addWhitelistedTerm("negron").addWhitelistedTerm("stoneground").addWhitelistedTerm("winegrow")).addPhrase(n=>n.setMetadata({originalWord:"nigger"}).addPattern((0,P.pattern)`n[i]gger`).addPattern((0,P.pattern)`n[i]gga`).addPattern((0,P.pattern)`|nig|`).addPattern((0,P.pattern)`|nigs|`).addWhitelistedTerm("snigger")).addPhrase(n=>n.setMetadata({originalWord:"orgasm"}).addPattern((0,P.pattern)`[or]gasm`).addWhitelistedTerm("gasma")).addPhrase(n=>n.setMetadata({originalWord:"orgy"}).addPattern((0,P.pattern)`orgy`).addPattern((0,P.pattern)`orgies`).addWhitelistedTerm("porgy")).addPhrase(n=>n.setMetadata({originalWord:"penis"}).addPattern((0,P.pattern)`pe[e]nis`).addPattern((0,P.pattern)`|pnis`).addWhitelistedTerm("pen is")).addPhrase(n=>n.setMetadata({originalWord:"piss"}).addPattern((0,P.pattern)`|piss`)).addPhrase(n=>n.setMetadata({originalWord:"porn"}).addPattern((0,P.pattern)`|prn|`).addPattern((0,P.pattern)`porn`).addWhitelistedTerm("p orna")).addPhrase(n=>n.setMetadata({originalWord:"prick"}).addPattern((0,P.pattern)`|prick[s]|`)).addPhrase(n=>n.setMetadata({originalWord:"pussy"}).addPattern((0,P.pattern)`p[u]ssy`)).addPhrase(n=>n.setMetadata({originalWord:"rape"}).addPattern((0,P.pattern)`|rape`).addPattern((0,P.pattern)`|rapis[s]t`)).addPhrase(n=>n.setMetadata({originalWord:"retard"}).addPattern((0,P.pattern)`retard`)).addPhrase(n=>n.setMetadata({originalWord:"scat"}).addPattern((0,P.pattern)`|s[s]cat|`)).addPhrase(n=>n.setMetadata({originalWord:"semen"}).addPattern((0,P.pattern)`|s[s]e[e]me[e]n`)).addPhrase(n=>n.setMetadata({originalWord:"sex"}).addPattern((0,P.pattern)`|s[s]e[e]x|`).addPattern((0,P.pattern)`|s[s]e[e]xy|`)).addPhrase(n=>n.setMetadata({originalWord:"shit"}).addPattern((0,P.pattern)`shit`).addWhitelistedTerm("s hit").addWhitelistedTerm("sh it").addWhitelistedTerm("shi t").addWhitelistedTerm("shitake").addWhitelistedTerm("mishit")).addPhrase(n=>n.setMetadata({originalWord:"slut"}).addPattern((0,P.pattern)`s[s]lut`)).addPhrase(n=>n.setMetadata({originalWord:"spastic"}).addPattern((0,P.pattern)`|spastic`)).addPhrase(n=>n.setMetadata({originalWord:"tit"}).addPattern((0,P.pattern)`|tit|`).addPattern((0,P.pattern)`|tits|`).addPattern((0,P.pattern)`|titt`).addPattern((0,P.pattern)`|tiddies`).addPattern((0,P.pattern)`|tities`)).addPhrase(n=>n.setMetadata({originalWord:"tranny"}).addPattern((0,P.pattern)`tranny`)).addPhrase(n=>n.setMetadata({originalWord:"turd"}).addPattern((0,P.pattern)`|turd`).addWhitelistedTerm("turducken")).addPhrase(n=>n.setMetadata({originalWord:"twat"}).addPattern((0,P.pattern)`|twat`).addWhitelistedTerm("twattle")).addPhrase(n=>n.setMetadata({originalWord:"vagina"}).addPattern((0,P.pattern)`vagina`).addPattern((0,P.pattern)`|v[?]gina`)).addPhrase(n=>n.setMetadata({originalWord:"wank"}).addPattern((0,P.pattern)`|wank`)).addPhrase(n=>n.setMetadata({originalWord:"whore"}).addPattern((0,P.pattern)`|wh[o]re|`).addPattern((0,P.pattern)`|who[o]res[s]|`).addWhitelistedTerm("who're"))});var PE=be(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});mh.skipNonAlphabeticTransformer=void 0;var aN=fi(),cN=sc();function lN(){return(0,cN.createSimpleTransformer)(n=>(0,aN.isAlphabetic)(n)?n:void 0)}mh.skipNonAlphabeticTransformer=lN});var kE=be(Ge=>{"use strict";var uN=Ge&&Ge.__createBinding||(Object.create?function(n,e,i,t){t===void 0&&(t=i);var r=Object.getOwnPropertyDescriptor(e,i);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(n,t,r)}:function(n,e,i,t){t===void 0&&(t=i),n[t]=e[i]}),bt=Ge&&Ge.__exportStar||function(n,e){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&uN(e,n,i)};Object.defineProperty(Ge,"__esModule",{value:!0});bt(Og(),Ge);bt(lE(),Ge);bt(Lg(),Ge);bt(gE(),Ge);bt(Fg(),Ge);bt(Gu(),Ge);bt(vE(),Ge);bt(Xu(),Ge);bt(Gg(),Ge);bt(Yg(),Ge);bt(DE(),Ge);bt(Xg(),Ge);bt(lh(),Ge);bt(Jg(),Ge);bt(Zg(),Ge);bt(PE(),Ge);bt(e_(),Ge)});var YE=be((ac,a_)=>{"use strict";(function(n,e){typeof ac=="object"&&typeof a_=="object"?a_.exports=e():typeof define=="function"&&define.amd?define([],e):typeof ac=="object"?ac.AOS=e():n.AOS=e()})(ac,function(){return function(n){function e(t){if(i[t])return i[t].exports;var r=i[t]={exports:{},id:t,loaded:!1};return n[t].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=n,e.c=i,e.p="dist/",e(0)}([function(n,e,i){"use strict";function t(I){return I&&I.__esModule?I:{default:I}}var r=Object.assign||function(I){for(var w=1;w<arguments.length;w++){var Xe=arguments[w];for(var Ut in Xe)Object.prototype.hasOwnProperty.call(Xe,Ut)&&(I[Ut]=Xe[Ut])}return I},s=i(1),o=(t(s),i(6)),c=t(o),l=i(7),u=t(l),f=i(8),p=t(f),g=i(9),T=t(g),A=i(10),M=t(A),D=i(11),L=t(D),W=i(14),B=t(W),z=[],he=!1,H={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},E=function(){var I=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(I&&(he=!0),he)return z=(0,L.default)(z,H),(0,M.default)(z,H.once),z},y=function(){z=(0,B.default)(),E()},_=function(){z.forEach(function(I,w){I.node.removeAttribute("data-aos"),I.node.removeAttribute("data-aos-easing"),I.node.removeAttribute("data-aos-duration"),I.node.removeAttribute("data-aos-delay")})},v=function(I){return I===!0||I==="mobile"&&T.default.mobile()||I==="phone"&&T.default.phone()||I==="tablet"&&T.default.tablet()||typeof I=="function"&&I()===!0},b=function(I){H=r(H,I),z=(0,B.default)();var w=document.all&&!window.atob;return v(H.disable)||w?_():(H.disableMutationObserver||p.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),H.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",H.easing),document.querySelector("body").setAttribute("data-aos-duration",H.duration),document.querySelector("body").setAttribute("data-aos-delay",H.delay),H.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?E(!0):H.startEvent==="load"?window.addEventListener(H.startEvent,function(){E(!0)}):document.addEventListener(H.startEvent,function(){E(!0)}),window.addEventListener("resize",(0,u.default)(E,H.debounceDelay,!0)),window.addEventListener("orientationchange",(0,u.default)(E,H.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,M.default)(z,H.once)},H.throttleDelay)),H.disableMutationObserver||p.default.ready("[data-aos]",y),z)};n.exports={init:b,refresh:E,refreshHard:y}},function(n,e){},,,,,function(n,e){(function(i){"use strict";function t(v,b,I){function w(ge){var ut=Je,on=Pe;return Je=Pe=void 0,xn=ge,qe=v.apply(on,ut)}function Xe(ge){return xn=ge,Ze=setTimeout(Wt,b),Mn?w(ge):qe}function Ut(ge){var ut=ge-at,on=ge-xn,$r=b-ut;return Bt?y($r,sn-on):$r}function Qn(ge){var ut=ge-at,on=ge-xn;return at===void 0||ut>=b||ut<0||Bt&&on>=sn}function Wt(){var ge=_();return Qn(ge)?kn(ge):void(Ze=setTimeout(Wt,Ut(ge)))}function kn(ge){return Ze=void 0,Ae&&Je?w(ge):(Je=Pe=void 0,qe)}function er(){Ze!==void 0&&clearTimeout(Ze),xn=0,Je=at=Pe=Ze=void 0}function pi(){return Ze===void 0?qe:kn(_())}function rn(){var ge=_(),ut=Qn(ge);if(Je=arguments,Pe=this,at=ge,ut){if(Ze===void 0)return Xe(at);if(Bt)return Ze=setTimeout(Wt,b),w(at)}return Ze===void 0&&(Ze=setTimeout(Wt,b)),qe}var Je,Pe,sn,qe,Ze,at,xn=0,Mn=!1,Bt=!1,Ae=!0;if(typeof v!="function")throw new TypeError(f);return b=l(b)||0,s(I)&&(Mn=!!I.leading,Bt="maxWait"in I,sn=Bt?E(l(I.maxWait)||0,b):sn,Ae="trailing"in I?!!I.trailing:Ae),rn.cancel=er,rn.flush=pi,rn}function r(v,b,I){var w=!0,Xe=!0;if(typeof v!="function")throw new TypeError(f);return s(I)&&(w="leading"in I?!!I.leading:w,Xe="trailing"in I?!!I.trailing:Xe),t(v,b,{leading:w,maxWait:b,trailing:Xe})}function s(v){var b=typeof v>"u"?"undefined":u(v);return!!v&&(b=="object"||b=="function")}function o(v){return!!v&&(typeof v>"u"?"undefined":u(v))=="object"}function c(v){return(typeof v>"u"?"undefined":u(v))=="symbol"||o(v)&&H.call(v)==g}function l(v){if(typeof v=="number")return v;if(c(v))return p;if(s(v)){var b=typeof v.valueOf=="function"?v.valueOf():v;v=s(b)?b+"":b}if(typeof v!="string")return v===0?v:+v;v=v.replace(T,"");var I=M.test(v);return I||D.test(v)?L(v.slice(2),I?2:8):A.test(v)?p:+v}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f="Expected a function",p=NaN,g="[object Symbol]",T=/^\s+|\s+$/g,A=/^[-+]0x[0-9a-f]+$/i,M=/^0b[01]+$/i,D=/^0o[0-7]+$/i,L=parseInt,W=(typeof i>"u"?"undefined":u(i))=="object"&&i&&i.Object===Object&&i,B=(typeof self>"u"?"undefined":u(self))=="object"&&self&&self.Object===Object&&self,z=W||B||Function("return this")(),he=Object.prototype,H=he.toString,E=Math.max,y=Math.min,_=function(){return z.Date.now()};n.exports=r}).call(e,function(){return this}())},function(n,e){(function(i){"use strict";function t(_,v,b){function I(Ae){var ge=rn,ut=Je;return rn=Je=void 0,at=Ae,sn=_.apply(ut,ge)}function w(Ae){return at=Ae,qe=setTimeout(Qn,v),xn?I(Ae):sn}function Xe(Ae){var ge=Ae-Ze,ut=Ae-at,on=v-ge;return Mn?E(on,Pe-ut):on}function Ut(Ae){var ge=Ae-Ze,ut=Ae-at;return Ze===void 0||ge>=v||ge<0||Mn&&ut>=Pe}function Qn(){var Ae=y();return Ut(Ae)?Wt(Ae):void(qe=setTimeout(Qn,Xe(Ae)))}function Wt(Ae){return qe=void 0,Bt&&rn?I(Ae):(rn=Je=void 0,sn)}function kn(){qe!==void 0&&clearTimeout(qe),at=0,rn=Ze=Je=qe=void 0}function er(){return qe===void 0?sn:Wt(y())}function pi(){var Ae=y(),ge=Ut(Ae);if(rn=arguments,Je=this,Ze=Ae,ge){if(qe===void 0)return w(Ze);if(Mn)return qe=setTimeout(Qn,v),I(Ze)}return qe===void 0&&(qe=setTimeout(Qn,v)),sn}var rn,Je,Pe,sn,qe,Ze,at=0,xn=!1,Mn=!1,Bt=!0;if(typeof _!="function")throw new TypeError(u);return v=c(v)||0,r(b)&&(xn=!!b.leading,Mn="maxWait"in b,Pe=Mn?H(c(b.maxWait)||0,v):Pe,Bt="trailing"in b?!!b.trailing:Bt),pi.cancel=kn,pi.flush=er,pi}function r(_){var v=typeof _>"u"?"undefined":l(_);return!!_&&(v=="object"||v=="function")}function s(_){return!!_&&(typeof _>"u"?"undefined":l(_))=="object"}function o(_){return(typeof _>"u"?"undefined":l(_))=="symbol"||s(_)&&he.call(_)==p}function c(_){if(typeof _=="number")return _;if(o(_))return f;if(r(_)){var v=typeof _.valueOf=="function"?_.valueOf():_;_=r(v)?v+"":v}if(typeof _!="string")return _===0?_:+_;_=_.replace(g,"");var b=A.test(_);return b||M.test(_)?D(_.slice(2),b?2:8):T.test(_)?f:+_}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u="Expected a function",f=NaN,p="[object Symbol]",g=/^\s+|\s+$/g,T=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,M=/^0o[0-7]+$/i,D=parseInt,L=(typeof i>"u"?"undefined":l(i))=="object"&&i&&i.Object===Object&&i,W=(typeof self>"u"?"undefined":l(self))=="object"&&self&&self.Object===Object&&self,B=L||W||Function("return this")(),z=Object.prototype,he=z.toString,H=Math.max,E=Math.min,y=function(){return B.Date.now()};n.exports=t}).call(e,function(){return this}())},function(n,e){"use strict";function i(l){var u=void 0,f=void 0,p=void 0;for(u=0;u<l.length;u+=1)if(f=l[u],f.dataset&&f.dataset.aos||(p=f.children&&i(f.children)))return!0;return!1}function t(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function r(){return!!t()}function s(l,u){var f=window.document,p=t(),g=new p(o);c=u,g.observe(f.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function o(l){l&&l.forEach(function(u){var f=Array.prototype.slice.call(u.addedNodes),p=Array.prototype.slice.call(u.removedNodes),g=f.concat(p);if(i(g))return c()})}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){};e.default={isSupported:r,ready:s}},function(n,e){"use strict";function i(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function t(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function f(p,g){for(var T=0;T<g.length;T++){var A=g[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(p,A.key,A)}}return function(p,g,T){return g&&f(p.prototype,g),T&&f(p,T),p}}(),s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,o=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=function(){function f(){i(this,f)}return r(f,[{key:"phone",value:function(){var p=t();return!(!s.test(p)&&!o.test(p.substr(0,4)))}},{key:"mobile",value:function(){var p=t();return!(!c.test(p)&&!l.test(p.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),f}();e.default=new u},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(r,s,o){var c=r.node.getAttribute("data-aos-once");s>r.position?r.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!o&&c!=="true")&&r.node.classList.remove("aos-animate")},t=function(r,s){var o=window.pageYOffset,c=window.innerHeight;r.forEach(function(l,u){i(l,c+o,s)})};e.default=t},function(n,e,i){"use strict";function t(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(12),s=t(r),o=function(c,l){return c.forEach(function(u,f){u.node.classList.add("aos-init"),u.position=(0,s.default)(u.node,l.offset)}),c};e.default=o},function(n,e,i){"use strict";function t(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(13),s=t(r),o=function(c,l){var u=0,f=0,p=window.innerHeight,g={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(g.offset&&!isNaN(g.offset)&&(f=parseInt(g.offset)),g.anchor&&document.querySelectorAll(g.anchor)&&(c=document.querySelectorAll(g.anchor)[0]),u=(0,s.default)(c).top,g.anchorPlacement){case"top-bottom":break;case"center-bottom":u+=c.offsetHeight/2;break;case"bottom-bottom":u+=c.offsetHeight;break;case"top-center":u+=p/2;break;case"bottom-center":u+=p/2+c.offsetHeight;break;case"center-center":u+=p/2+c.offsetHeight/2;break;case"top-top":u+=p;break;case"bottom-top":u+=c.offsetHeight+p;break;case"center-top":u+=c.offsetHeight/2+p}return g.anchorPlacement||g.offset||isNaN(l)||(f=l),u+f};e.default=o},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){for(var r=0,s=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)r+=t.offsetLeft-(t.tagName!="BODY"?t.scrollLeft:0),s+=t.offsetTop-(t.tagName!="BODY"?t.scrollTop:0),t=t.offsetParent;return{top:s,left:r}};e.default=i},function(n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t=t||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(t,function(r){return{node:r}})};e.default=i}])})});var Fo=class{},Gc=class{},ni=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let t=i.indexOf(":");if(t>0){let r=i.slice(0,t),s=r.toLowerCase(),o=i.slice(t+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,t)=>{this.setHeaderEntries(t,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,t])=>{this.setHeaderEntries(i,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...t),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let t=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var hd=class{encodeKey(e){return iy(e)}encodeValue(e){return iy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function qT(n,e){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,c]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=i.get(o)||[];l.push(c),i.set(o,l)}),i}var WT=/%(\d[a-f0-9])/gi,GT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iy(n){return encodeURIComponent(n).replace(WT,(e,i)=>GT[i]??e)}function Wc(n){return`${n}`}var Pi=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new hd,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=qT(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let t=e.fromObject[i],r=Array.isArray(t)?t.map(Wc):[Wc(t)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(t=>{let r=e[t];Array.isArray(r)?r.forEach(s=>{i.push({param:t,value:s,op:"a"})}):i.push({param:t,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(t=>i+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Wc(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],r=t.indexOf(Wc(e.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var dd=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function HT(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ry(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sy(n){return typeof Blob<"u"&&n instanceof Blob}function oy(n){return typeof FormData<"u"&&n instanceof FormData}function KT(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var No=class n{constructor(e,i,t,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(HT(this.method)||r?(this.body=t!==void 0?t:null,s=r):s=t,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ni,this.context??=new dd,!this.params)this.params=new Pi,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let c=i.indexOf("?"),l=c===-1?"?":c<i.length-1?"&":"";this.urlWithParams=i+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ry(this.body)||sy(this.body)||oy(this.body)||KT(this.body)?this.body:this.body instanceof Pi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||oy(this.body)?null:sy(this.body)?this.body.type||null:ry(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Pi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,T)=>g.set(T,e.setHeaders[T]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,T)=>g.set(T,e.setParams[T]),f)),new n(i,t,o,{params:f,headers:u,context:p,reportProgress:l,responseType:r,withCredentials:c,transferCache:s})}},ki=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ki||{}),Vo=class{constructor(e,i=200,t="OK"){this.headers=e.headers||new ni,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hc=class n extends Vo{constructor(e={}){super(e),this.type=ki.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Lo=class n extends Vo{constructor(e={}){super(e),this.type=ki.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Di=class extends Vo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},uy=200,YT=204;function ud(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var md=(()=>{let e=class e{constructor(t){this.handler=t}request(t,r,s={}){let o;if(t instanceof No)o=t;else{let u;s.headers instanceof ni?u=s.headers:u=new ni(s.headers);let f;s.params&&(s.params instanceof Pi?f=s.params:f=new Pi({fromObject:s.params})),o=new No(t,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=K(o).pipe(or(u=>this.handler.handle(u)));if(t instanceof No||s.observe==="events")return c;let l=c.pipe(Oe(u=>u instanceof Lo));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(J(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Pi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,ud(s,r))}post(t,r,s={}){return this.request("POST",t,ud(s,r))}put(t,r,s={}){return this.request("PUT",t,ud(s,r))}};e.\u0275fac=function(r){return new(r||e)(k(Fo))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),QT=/^\)\]\}',?\n/,XT="X-Request-URL";function ay(n){if(n.url)return n.url;let e=XT.toLocaleLowerCase();return n.headers.get(e)}var JT=(()=>{let e=class e{constructor(){this.fetchImpl=U(fd,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=U(ee)}handle(t){return new vn(r=>{let s=new AbortController;return this.doRequest(t,s.signal,r).then(pd,o=>r.error(new Di({error:o}))),()=>s.abort()})}doRequest(t,r,s){return S(this,null,function*(){let o=this.createRequestInit(t),c;try{let A=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,O({signal:r},o)));ZT(A),s.next({type:ki.Sent}),c=yield A}catch(A){s.error(new Di({error:A,status:A.status??0,statusText:A.statusText,url:t.urlWithParams,headers:A.headers}));return}let l=new ni(c.headers),u=c.statusText,f=ay(c)??t.urlWithParams,p=c.status,g=null;if(t.reportProgress&&s.next(new Hc({headers:l,status:p,statusText:u,url:f})),c.body){let A=c.headers.get("content-length"),M=[],D=c.body.getReader(),L=0,W,B,z=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>S(this,null,function*(){for(;;){let{done:H,value:E}=yield D.read();if(H)break;if(M.push(E),L+=E.length,t.reportProgress){B=t.responseType==="text"?(B??"")+(W??=new TextDecoder).decode(E,{stream:!0}):void 0;let y=()=>s.next({type:ki.DownloadProgress,total:A?+A:void 0,loaded:L,partialText:B});z?z.run(y):y()}}}));let he=this.concatChunks(M,L);try{let H=c.headers.get("Content-Type")??"";g=this.parseBody(t,he,H)}catch(H){s.error(new Di({error:H,headers:new ni(c.headers),status:c.status,statusText:c.statusText,url:ay(c)??t.urlWithParams}));return}}p===0&&(p=g?uy:0),p>=200&&p<300?(s.next(new Lo({body:g,headers:l,status:p,statusText:u,url:f})),s.complete()):s.error(new Di({error:g,headers:l,status:p,statusText:u,url:f}))})}parseBody(t,r,s){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(QT,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},s=t.withCredentials?"include":void 0;if(t.headers.forEach((o,c)=>r[o]=c.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:s}}concatChunks(t,r){let s=new Uint8Array(r),o=0;for(let c of t)s.set(c,o),o+=c.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),fd=class{};function pd(){}function ZT(n){n.then(pd,pd)}function eC(n,e){return e(n)}function tC(n,e,i){return(t,r)=>bn(i,()=>e(t,s=>n(s,r)))}var hy=new Y(""),nC=new Y(""),iC=new Y("",{providedIn:"root",factory:()=>!0});var cy=(()=>{let e=class e extends Fo{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=U(kc),this.contributeToStability=U(iC)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(hy),...this.injector.get(nC,[])]));this.chain=r.reduceRight((s,o)=>tC(s,o,this.injector),eC)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe(bi(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(k(Gc),k(Ei))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();var rC=/^\)\]\}',?\n/;function sC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ly=(()=>{let e=class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Ne(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Nt(r.\u0275loadImpl()):K(null)).pipe(St(()=>new vn(o=>{let c=r.build();if(c.open(t.method,t.urlWithParams),t.withCredentials&&(c.withCredentials=!0),t.headers.forEach((D,L)=>c.setRequestHeader(D,L.join(","))),t.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let D=t.detectContentTypeHeader();D!==null&&c.setRequestHeader("Content-Type",D)}if(t.responseType){let D=t.responseType.toLowerCase();c.responseType=D!=="json"?D:"text"}let l=t.serializeBody(),u=null,f=()=>{if(u!==null)return u;let D=c.statusText||"OK",L=new ni(c.getAllResponseHeaders()),W=sC(c)||t.url;return u=new Hc({headers:L,status:c.status,statusText:D,url:W}),u},p=()=>{let{headers:D,status:L,statusText:W,url:B}=f(),z=null;L!==YT&&(z=typeof c.response>"u"?c.responseText:c.response),L===0&&(L=z?uy:0);let he=L>=200&&L<300;if(t.responseType==="json"&&typeof z=="string"){let H=z;z=z.replace(rC,"");try{z=z!==""?JSON.parse(z):null}catch(E){z=H,he&&(he=!1,z={error:E,text:z})}}he?(o.next(new Lo({body:z,headers:D,status:L,statusText:W,url:B||void 0})),o.complete()):o.error(new Di({error:z,headers:D,status:L,statusText:W,url:B||void 0}))},g=D=>{let{url:L}=f(),W=new Di({error:D,status:c.status||0,statusText:c.statusText||"Unknown Error",url:L||void 0});o.error(W)},T=!1,A=D=>{T||(o.next(f()),T=!0);let L={type:ki.DownloadProgress,loaded:D.loaded};D.lengthComputable&&(L.total=D.total),t.responseType==="text"&&c.responseText&&(L.partialText=c.responseText),o.next(L)},M=D=>{let L={type:ki.UploadProgress,loaded:D.loaded};D.lengthComputable&&(L.total=D.total),o.next(L)};return c.addEventListener("load",p),c.addEventListener("error",g),c.addEventListener("timeout",g),c.addEventListener("abort",g),t.reportProgress&&(c.addEventListener("progress",A),l!==null&&c.upload&&c.upload.addEventListener("progress",M)),c.send(l),o.next({type:ki.Sent}),()=>{c.removeEventListener("error",g),c.removeEventListener("abort",g),c.removeEventListener("load",p),c.removeEventListener("timeout",g),t.reportProgress&&(c.removeEventListener("progress",A),l!==null&&c.upload&&c.upload.removeEventListener("progress",M)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(k(qc))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),dy=new Y(""),oC="XSRF-TOKEN",aC=new Y("",{providedIn:"root",factory:()=>oC}),cC="X-XSRF-TOKEN",lC=new Y("",{providedIn:"root",factory:()=>cC}),Kc=class{},uC=(()=>{let e=class e{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zc(t,this.cookieName),this.lastCookieString=t),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(k(te),k(In),k(aC))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();function hC(n,e){let i=n.url.toLowerCase();if(!U(dy)||n.method==="GET"||n.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(n);let t=U(Kc).getToken(),r=U(lC);return t!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,t)})),e(n)}function fy(...n){let e=[md,ly,cy,{provide:Fo,useExisting:cy},{provide:Gc,useFactory:()=>U(JT,{optional:!0})??U(ly)},{provide:hy,useValue:hC,multi:!0},{provide:dy,useValue:!0},{provide:Kc,useClass:uC}];for(let i of n)e.push(...i.\u0275providers);return wn(e)}var vd=class extends Zv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},yd=class n extends vd{static makeCurrent(){Jv(new n)}onAndCancel(e,i,t){return e.addEventListener(i,t),()=>{e.removeEventListener(i,t)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=pC();return i==null?null:mC(i)}resetBaseElement(){Uo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zc(document.cookie,e)}},Uo=null;function pC(){return Uo=Uo||document.querySelector("base"),Uo?Uo.getAttribute("href"):null}function mC(n){return new URL(n,document.baseURI).pathname}var gC=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),Yc=new Y(""),gy=(()=>{let e=class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Ne(5101,!1);return this._eventNameToPlugin.set(t,r),r}};e.\u0275fac=function(r){return new(r||e)(k(Yc),k(ee))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),Bo=class{constructor(e){this._doc=e}},gd="ng-app-id",_y=(()=>{let e=class e{constructor(t,r,s,o={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$c(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${gd}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){let s=this.styleRef;if(s.has(t)){let o=s.get(t);return o.usage+=r,o.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===t)return s.delete(r),o.removeAttribute(gd),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(gd,this.appId),t.appendChild(c),c}}addStyleToHost(t,r){let s=this.getStyleElement(t,r),o=this.styleRef,c=o.get(r)?.elements;c?c.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(k(te),k(xc),k(Po,8),k(In))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),_d={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bd=/%COMP%/g,vy="%COMP%",_C=`_nghost-${vy}`,vC=`_ngcontent-${vy}`,yC=!0,wC=new Y("",{providedIn:"root",factory:()=>yC});function bC(n){return vC.replace(bd,n)}function IC(n){return _C.replace(bd,n)}function yy(n,e){return e.map(i=>i.replace(bd,n))}var Qc=(()=>{let e=class e{constructor(t,r,s,o,c,l,u,f=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=l,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=$c(l),this.defaultRenderer=new zo(t,c,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Do.ShadowDom&&(r=le(O({},r),{encapsulation:Do.Emulated}));let s=this.getOrCreateRenderer(t,r);return s instanceof Xc?s.applyToHost(t):s instanceof $o&&s.applyStyles(),s}getOrCreateRenderer(t,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let c=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Do.Emulated:o=new Xc(u,f,r,this.appId,p,c,l,g);break;case Do.ShadowDom:return new wd(u,f,t,r,c,l,this.nonce,g);default:o=new $o(u,f,r,p,c,l,g);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(k(gy),k(_y),k(xc),k(wC),k(te),k(In),k(ee),k(Po))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),zo=class{constructor(e,i,t,r){this.eventManager=e,this.doc=i,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(_d[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(py(e)?e.content:e).appendChild(i)}insertBefore(e,i,t){e&&(py(e)?e.content:e).insertBefore(i,t)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new Ne(-5104,!1);return i||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,t,r){if(r){i=r+":"+i;let s=_d[r];s?e.setAttributeNS(s,i,t):e.setAttribute(i,t)}else e.setAttribute(i,t)}removeAttribute(e,i,t){if(t){let r=_d[t];r?e.removeAttributeNS(r,i):e.removeAttribute(`${t}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,t,r){r&(ko.DashCase|ko.Important)?e.style.setProperty(i,t,r&ko.Important?"important":""):e.style[i]=t}removeStyle(e,i,t){t&ko.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,t){e!=null&&(e[i]=t)}setValue(e,i){e.nodeValue=i}listen(e,i,t){if(typeof e=="string"&&(e=es().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(t))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function py(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var wd=class extends zo{constructor(e,i,t,r,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=i,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=yy(r.id,r.styles);for(let f of u){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,t){return super.insertBefore(this.nodeOrShadowRoot(e),i,t)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},$o=class extends zo{constructor(e,i,t,r,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?yy(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Xc=class extends $o{constructor(e,i,t,r,s,o,c,l){let u=r+"-"+t.id;super(e,i,t,s,o,c,l,u),this.contentAttr=bC(u),this.hostAttr=IC(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let t=super.createElement(e,i);return super.setAttribute(t,this.contentAttr,""),t}},EC=(()=>{let e=class e extends Bo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),TC=(()=>{let e=class e extends Bo{constructor(t){super(t),this.delegate=U(Qv,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,s){return this.delegate.addEventListener(t,r,s)}removeEventListener(t,r,s){return this.delegate.removeEventListener(t,r,s)}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),my=["alt","control","meta","shift"],CC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SC={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},AC=(()=>{let e=class e extends Bo{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,s){let o=e.parseEventName(r),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>es().onAndCancel(t,o.domEventName,c))}static parseEventName(t){let r=t.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),my.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=c,u}static matchEventFullKeyCode(t,r){let s=CC[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),my.forEach(c=>{if(c!==s){let l=SC[c];l(t)&&(o+=c+".")}}),o+=s,o===r)}static eventCallback(t,r,s){return o=>{e.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})();function wy(n,e){return Yv(O({rootComponent:n},RC(e)))}function RC(n){return{appProviders:[...MC,...n?.providers??[]],platformProviders:xC}}function DC(){yd.makeCurrent()}function PC(){return new cr}function kC(){return kv(document),document}var xC=[{provide:In,useValue:ty},{provide:xv,useValue:DC,multi:!0},{provide:te,useFactory:kC,deps:[]}];var MC=[{provide:Dv,useValue:"root"},{provide:cr,useFactory:PC,deps:[]},{provide:Yc,useClass:EC,multi:!0,deps:[te,ee,In]},{provide:Yc,useClass:AC,multi:!0,deps:[te]},{provide:Yc,useClass:TC,multi:!0},Qc,_y,gy,{provide:Nc,useExisting:Qc},{provide:qc,useClass:gC,deps:[]},[]];var by=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Id=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=k(OC),s},providedIn:"root"});let n=e;return n})(),OC=(()=>{let e=class e extends Id{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Ht.NONE:return r;case Ht.HTML:return Qr(r,"HTML")?Yr(r):jv(this._doc,String(r)).toString();case Ht.STYLE:return Qr(r,"Style")?Yr(r):r;case Ht.SCRIPT:if(Qr(r,"Script"))return Yr(r);throw new Ne(5200,!1);case Ht.URL:return Qr(r,"URL")?Yr(r):Lv(String(r));case Ht.RESOURCE_URL:if(Qr(r,"ResourceURL"))return Yr(r);throw new Ne(5201,!1);default:throw new Ne(5202,!1)}}bypassSecurityTrustHtml(t){return Mv(t)}bypassSecurityTrustStyle(t){return Ov(t)}bypassSecurityTrustScript(t){return Nv(t)}bypassSecurityTrustUrl(t){return Fv(t)}bypassSecurityTrustResourceUrl(t){return Vv(t)}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var oe="primary",oa=Symbol("RouteTitle"),Ad=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function ls(n){return new Ad(n)}function FC(n,e,i){let t=i.path.split("/");if(t.length>n.length||i.pathMatch==="full"&&(e.hasChildren()||t.length<n.length))return null;let r={};for(let s=0;s<t.length;s++){let o=t[s],c=n[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function VC(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!jn(n[i],e[i]))return!1;return!0}function jn(n,e){let i=n?Rd(n):void 0,t=e?Rd(e):void 0;if(!i||!t||i.length!=t.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!Py(n[r],e[r]))return!1;return!0}function Rd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Py(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let i=[...n].sort(),t=[...e].sort();return i.every((r,s)=>t[s]===r)}else return n===e}function ky(n){return n.length>0?n[n.length-1]:null}function xi(n){return Yh(n)?n:Uc(n)?Nt(Promise.resolve(n)):K(n)}var LC={exact:My,subset:Oy},xy={exact:jC,subset:UC,ignored:()=>!0};function Ey(n,e,i){return LC[i.paths](n.root,e.root,i.matrixParams)&&xy[i.queryParams](n.queryParams,e.queryParams)&&!(i.fragment==="exact"&&n.fragment!==e.fragment)}function jC(n,e){return jn(n,e)}function My(n,e,i){if(!mr(n.segments,e.segments)||!el(n.segments,e.segments,i)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!n.children[t]||!My(n.children[t],e.children[t],i))return!1;return!0}function UC(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(i=>Py(n[i],e[i]))}function Oy(n,e,i){return Ny(n,e,e.segments,i)}function Ny(n,e,i,t){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!mr(r,i)||e.hasChildren()||!el(r,i,t))}else if(n.segments.length===i.length){if(!mr(n.segments,i)||!el(n.segments,i,t))return!1;for(let r in e.children)if(!n.children[r]||!Oy(n.children[r],e.children[r],t))return!1;return!0}else{let r=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!mr(n.segments,r)||!el(n.segments,r,t)||!n.children[oe]?!1:Ny(n.children[oe],e,s,t)}}function el(n,e,i){return e.every((t,r)=>xy[i](n[r].parameters,t.parameters))}var ri=class{constructor(e=new Ce([],{}),i={},t=null){this.root=e,this.queryParams=i,this.fragment=t}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return $C.serialize(this)}},Ce=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tl(this)}},pr=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return Vy(this)}};function BC(n,e){return mr(n,e)&&n.every((i,t)=>jn(i.parameters,e[t].parameters))}function mr(n,e){return n.length!==e.length?!1:n.every((i,t)=>i.path===e[t].path)}function zC(n,e){let i=[];return Object.entries(n.children).forEach(([t,r])=>{t===oe&&(i=i.concat(e(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==oe&&(i=i.concat(e(r,t)))}),i}var ef=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>new Qo,providedIn:"root"});let n=e;return n})(),Qo=class{parse(e){let i=new Pd(e);return new ri(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${qo(e.root,!0)}`,t=GC(e.queryParams),r=typeof e.fragment=="string"?`#${qC(e.fragment)}`:"";return`${i}${t}${r}`}},$C=new Qo;function tl(n){return n.segments.map(e=>Vy(e)).join("/")}function qo(n,e){if(!n.hasChildren())return tl(n);if(e){let i=n.children[oe]?qo(n.children[oe],!1):"",t=[];return Object.entries(n.children).forEach(([r,s])=>{r!==oe&&t.push(`${r}:${qo(s,!1)}`)}),t.length>0?`${i}(${t.join("//")})`:i}else{let i=zC(n,(t,r)=>r===oe?[qo(n.children[oe],!1)]:[`${r}:${qo(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${tl(n)}/${i[0]}`:`${tl(n)}/(${i.join("//")})`}}function Fy(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jc(n){return Fy(n).replace(/%3B/gi,";")}function qC(n){return encodeURI(n)}function Dd(n){return Fy(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nl(n){return decodeURIComponent(n)}function Ty(n){return nl(n.replace(/\+/g,"%20"))}function Vy(n){return`${Dd(n.path)}${WC(n.parameters)}`}function WC(n){return Object.entries(n).map(([e,i])=>`;${Dd(e)}=${Dd(i)}`).join("")}function GC(n){let e=Object.entries(n).map(([i,t])=>Array.isArray(t)?t.map(r=>`${Jc(i)}=${Jc(r)}`).join("&"):`${Jc(i)}=${Jc(t)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var HC=/^[^\/()?;#]+/;function Ed(n){let e=n.match(HC);return e?e[0]:""}var KC=/^[^\/()?;=#]+/;function YC(n){let e=n.match(KC);return e?e[0]:""}var QC=/^[^=?&#]+/;function XC(n){let e=n.match(QC);return e?e[0]:""}var JC=/^[^&#]+/;function ZC(n){let e=n.match(JC);return e?e[0]:""}var Pd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(t[oe]=new Ce(e,i)),t}parseSegment(){let e=Ed(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Ne(4009,!1);return this.capture(e),new pr(nl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=YC(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){let r=Ed(this.remaining);r&&(t=r,this.capture(t))}e[nl(i)]=nl(t)}parseQueryParam(e){let i=XC(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){let o=ZC(this.remaining);o&&(t=o,this.capture(t))}let r=Ty(i),s=Ty(t);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Ed(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new Ne(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=oe);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[oe]:new Ce([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Ne(4011,!1)}};function Ly(n){return n.segments.length>0?new Ce([],{[oe]:n}):n}function jy(n){let e={};for(let[t,r]of Object.entries(n.children)){let s=jy(r);if(t===oe&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}let i=new Ce(n.segments,e);return eS(i)}function eS(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new Ce(n.segments.concat(e.segments),e.children)}return n}function Xo(n){return n instanceof ri}function tS(n,e,i=null,t=null){let r=Uy(n);return By(r,e,i,t)}function Uy(n){let e;function i(s){let o={};for(let l of s.children){let u=i(l);o[l.outlet]=u}let c=new Ce(s.url,o);return s===n&&(e=c),c}let t=i(n.root),r=Ly(t);return e??r}function By(n,e,i,t){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Td(r,r,r,i,t);let s=nS(e);if(s.toRoot())return Td(r,r,new Ce([],{}),i,t);let o=iS(s,r,n),c=o.processChildren?Ho(o.segmentGroup,o.index,s.commands):$y(o.segmentGroup,o.index,s.commands);return Td(r,o.segmentGroup,c,i,t)}function il(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Jo(n){return typeof n=="object"&&n!=null&&n.outlets}function Td(n,e,i,t,r){let s={};t&&Object.entries(t).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;n===e?o=i:o=zy(n,e,i);let c=Ly(jy(o));return new ri(c,s,r)}function zy(n,e,i){let t={};return Object.entries(n.children).forEach(([r,s])=>{s===e?t[r]=i:t[r]=zy(s,e,i)}),new Ce(n.segments,t)}var rl=class{constructor(e,i,t){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=t,e&&t.length>0&&il(t[0]))throw new Ne(4003,!1);let r=t.find(Jo);if(r&&r!==ky(t))throw new Ne(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function nS(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rl(!0,0,n);let e=0,i=!1,t=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new rl(i,e,t)}var os=class{constructor(e,i,t){this.segmentGroup=e,this.processChildren=i,this.index=t}};function iS(n,e,i){if(n.isAbsolute)return new os(e,!0,0);if(!i)return new os(e,!1,NaN);if(i.parent===null)return new os(i,!0,0);let t=il(n.commands[0])?0:1,r=i.segments.length-1+t;return rS(i,r,n.numberOfDoubleDots)}function rS(n,e,i){let t=n,r=e,s=i;for(;s>r;){if(s-=r,t=t.parent,!t)throw new Ne(4005,!1);r=t.segments.length}return new os(t,!1,r-s)}function sS(n){return Jo(n[0])?n[0].outlets:{[oe]:n}}function $y(n,e,i){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return Ho(n,e,i);let t=oS(n,e,i),r=i.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let s=new Ce(n.segments.slice(0,t.pathIndex),{});return s.children[oe]=new Ce(n.segments.slice(t.pathIndex),n.children),Ho(s,0,r)}else return t.match&&r.length===0?new Ce(n.segments,{}):t.match&&!n.hasChildren()?kd(n,e,i):t.match?Ho(n,0,r):kd(n,e,i)}function Ho(n,e,i){if(i.length===0)return new Ce(n.segments,{});{let t=sS(i),r={};if(Object.keys(t).some(s=>s!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let s=Ho(n.children[oe],e,i);return new Ce(n.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=$y(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{t[s]===void 0&&(r[s]=o)}),new Ce(n.segments,r)}}function oS(n,e,i){let t=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=i.length)return s;let o=n.segments[r],c=i[t];if(Jo(c))break;let l=`${c}`,u=t<i.length-1?i[t+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Sy(l,u,o))return s;t+=2}else{if(!Sy(l,{},o))return s;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function kd(n,e,i){let t=n.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Jo(s)){let l=aS(s.outlets);return new Ce(t,l)}if(r===0&&il(i[0])){let l=n.segments[e];t.push(new pr(l.path,Cy(i[0]))),r++;continue}let o=Jo(s)?s.outlets[oe]:`${s}`,c=r<i.length-1?i[r+1]:null;o&&c&&il(c)?(t.push(new pr(o,Cy(c))),r+=2):(t.push(new pr(o,{})),r++)}return new Ce(t,{})}function aS(n){let e={};return Object.entries(n).forEach(([i,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[i]=kd(new Ce([],{}),0,t))}),e}function Cy(n){let e={};return Object.entries(n).forEach(([i,t])=>e[i]=`${t}`),e}function Sy(n,e,i){return n==i.path&&jn(e,i.parameters)}var Ko="imperative",yt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(yt||{}),un=class{constructor(e,i){this.id=e,this.url=i}},Zo=class extends un{constructor(e,i,t="imperative",r=null){super(e,i),this.type=yt.NavigationStart,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},si=class extends un{constructor(e,i,t){super(e,i),this.urlAfterRedirects=t,this.type=yt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Xt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Xt||{}),xd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xd||{}),ii=class extends un{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=yt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends un{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=yt.NavigationSkipped}},ea=class extends un{constructor(e,i,t,r){super(e,i),this.error=t,this.target=r,this.type=yt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sl=class extends un{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=yt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Md=class extends un{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=yt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Od=class extends un{constructor(e,i,t,r,s){super(e,i),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=s,this.type=yt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nd=class extends un{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=yt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fd=class extends un{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=yt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ld=class{constructor(e){this.route=e,this.type=yt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jd=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ud=class{constructor(e){this.snapshot=e,this.type=yt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bd=class{constructor(e){this.snapshot=e,this.type=yt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{constructor(e){this.snapshot=e,this.type=yt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ta=class{},us=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};function cS(n,e){return n.providers&&!n._injector&&(n._injector=qv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Tn(n){return n.outlet||oe}function lS(n,e){let i=n.filter(t=>Tn(t)===e);return i.push(...n.filter(t=>Tn(t)!==e)),i}function aa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var $d=class{get injector(){return aa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new dl(this.rootInjector),this.attachRef=null}},dl=(()=>{let e=class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $d(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(r){return new(r||e)(k(Ei))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ol=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=qd(e,this._root);return i?i.children.map(t=>t.value):[]}firstChild(e){let i=qd(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Wd(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Wd(e,this._root).map(i=>i.value)}};function qd(n,e){if(n===e.value)return e;for(let i of e.children){let t=qd(n,i);if(t)return t}return null}function Wd(n,e){if(n===e.value)return[e];for(let i of e.children){let t=Wd(n,i);if(t.length)return t.unshift(e),t}return[]}var Qt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function ss(n){let e={};return n&&n.children.forEach(i=>e[i.value.outlet]=i),e}var al=class extends ol{constructor(e,i){super(e),this.snapshot=i,tf(this,e)}toString(){return this.snapshot.toString()}};function qy(n){let e=uS(n),i=new Ct([new pr("",{})]),t=new Ct({}),r=new Ct({}),s=new Ct({}),o=new Ct(""),c=new hs(i,t,s,o,r,oe,n,e.root);return c.snapshot=e.root,new al(new Qt(c,[]),e)}function uS(n){let e={},i={},t={},r="",s=new as([],e,t,r,i,oe,n,null,{});return new ll("",new Qt(s,[]))}var hs=class{constructor(e,i,t,r,s,o,c,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(J(u=>u[oa]))??K(void 0),this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cl(n,e,i="emptyOnly"){let t,{routeConfig:r}=n;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),r?.data),n._resolvedData)}:t={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},r&&Gy(r)&&(t.resolve[oa]=r.title),t}var as=class{get title(){return this.data?.[oa]}constructor(e,i,t,r,s,o,c,l,u){this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},ll=class extends ol{constructor(e,i){super(i),this.url=e,tf(this,i)}toString(){return Wy(this._root)}};function tf(n,e){e.value._routerState=n,e.children.forEach(i=>tf(n,i))}function Wy(n){let e=n.children.length>0?` { ${n.children.map(Wy).join(", ")} } `:"";return`${n.value}${e}`}function Cd(n){if(n.snapshot){let e=n.snapshot,i=n._futureSnapshot;n.snapshot=i,jn(e.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),jn(e.params,i.params)||n.paramsSubject.next(i.params),VC(e.url,i.url)||n.urlSubject.next(i.url),jn(e.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Gd(n,e){let i=jn(n.params,e.params)&&BC(n.url,e.url),t=!n.parent!=!e.parent;return i&&!t&&(!n.parent||Gd(n.parent,e.parent))}function Gy(n){return typeof n.title=="string"||n.title===null}var nf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=U(dl),this.location=U(ur),this.changeDetector=U(vt),this.inputBinder=U(rf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ne(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ne(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ne(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ne(4013,!1);this._activatedRoute=t;let s=this.location,c=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Hd(t,l,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=nt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ti]});let n=e;return n})(),Hd=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,i,t){this.route=e,this.childContexts=i,this.parent=t}get(e,i){return e===hs?this.route:e===dl?this.childContexts:this.parent.get(e,i)}},rf=new Y("");function hS(n,e,i){let t=na(n,e._root,i?i._root:void 0);return new al(t,e)}function na(n,e,i){if(i&&n.shouldReuseRoute(e.value,i.value.snapshot)){let t=i.value;t._futureSnapshot=e.value;let r=dS(n,e,i);return new Qt(t,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>na(n,c)),o}}let t=fS(e.value),r=e.children.map(s=>na(n,s));return new Qt(t,r)}}function dS(n,e,i){return e.children.map(t=>{for(let r of i.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return na(n,t,r);return na(n,t)})}function fS(n){return new hs(new Ct(n.url),new Ct(n.params),new Ct(n.queryParams),new Ct(n.fragment),new Ct(n.data),n.outlet,n.component,n)}var ia=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},Hy="ngNavigationCancelingError";function ul(n,e){let{redirectTo:i,navigationBehaviorOptions:t}=Xo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ky(!1,Xt.Redirect);return r.url=i,r.navigationBehaviorOptions=t,r}function Ky(n,e){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[Hy]=!0,i.cancellationCode=e,i}function pS(n){return Yy(n)&&Xo(n.url)}function Yy(n){return!!n&&n[Hy]}var mS=(n,e,i,t)=>J(r=>(new Kd(e,r.targetRouterState,r.currentRouterState,i,t).activate(n),r)),Kd=class{constructor(e,i,t,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,t,e),Cd(this.futureState.root),this.activateChildRoutes(i,t,e)}deactivateChildRoutes(e,i,t){let r=ss(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],t),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,i,t){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=t.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,t);else s&&this.deactivateRouteAndItsChildren(i,t)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,s=ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(t&&t.outlet){let o=t.outlet.detach(),c=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,i){let t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,s=ss(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,i,t){let r=ss(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],t),this.forwardEvent(new zd(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ud(e.value.snapshot))}activateRoutes(e,i,t){let r=e.value,s=i?i.value:null;if(Cd(r),r===s)if(r.component){let o=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,t);else if(r.component){let o=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Cd(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,t)}},hl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cs=class{constructor(e,i){this.component=e,this.route=i}};function gS(n,e,i){let t=n._root,r=e?e._root:null;return Wo(t,r,i,[t.value])}function _S(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fs(n,e){let i=Symbol(),t=e.get(n,i);return t===i?typeof n=="function"&&!Rv(n)?n:e.get(n):t}function Wo(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ss(e);return n.children.forEach(o=>{vS(o,s[o.value.outlet],i,t.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Yo(c,i.getContext(o),r)),r}function vS(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=i?i.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=yS(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new hl(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Wo(n,e,c?c.children:null,t,r):Wo(n,e,i,t,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new cs(c.outlet.component,o))}else o&&Yo(e,c,r),r.canActivateChecks.push(new hl(t)),s.component?Wo(n,null,c?c.children:null,t,r):Wo(n,null,i,t,r);return r}function yS(n,e,i){if(typeof i=="function")return i(n,e);switch(i){case"pathParamsChange":return!mr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(n.url,e.url)||!jn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Gd(n,e)||!jn(n.queryParams,e.queryParams);case"paramsChange":default:return!Gd(n,e)}}function Yo(n,e,i){let t=ss(n),r=n.value;Object.entries(t).forEach(([s,o])=>{r.component?e?Yo(o,e.children.getContext(s),i):Yo(o,null,i):Yo(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new cs(e.outlet.component,r)):i.canDeactivateChecks.push(new cs(null,r)):i.canDeactivateChecks.push(new cs(null,r))}function ca(n){return typeof n=="function"}function wS(n){return typeof n=="boolean"}function bS(n){return n&&ca(n.canLoad)}function IS(n){return n&&ca(n.canActivate)}function ES(n){return n&&ca(n.canActivateChild)}function TS(n){return n&&ca(n.canDeactivate)}function CS(n){return n&&ca(n.canMatch)}function Qy(n){return n instanceof Tv||n?.name==="EmptyError"}var Zc=Symbol("INITIAL_VALUE");function ds(){return St(n=>Co(n.map(e=>e.pipe(Ft(1),cn(Zc)))).pipe(J(e=>{for(let i of e)if(i!==!0){if(i===Zc)return Zc;if(i===!1||SS(i))return i}return!0}),Oe(e=>e!==Zc),Ft(1)))}function SS(n){return Xo(n)||n instanceof ia}function AS(n,e){return an(i=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?K(le(O({},i),{guardsResult:!0})):RS(o,t,r,n).pipe(an(c=>c&&wS(c)?DS(t,s,n,e):K(c)),J(c=>le(O({},i),{guardsResult:c})))})}function RS(n,e,i,t){return Nt(n).pipe(an(r=>OS(r.component,r.route,i,e,t)),Ii(r=>r!==!0,!0))}function DS(n,e,i,t){return Nt(e).pipe(or(r=>Rc(kS(r.route.parent,t),PS(r.route,t),MS(n,r.path,i),xS(n,r.route,i))),Ii(r=>r!==!0,!0))}function PS(n,e){return n!==null&&e&&e(new Bd(n)),K(!0)}function kS(n,e){return n!==null&&e&&e(new jd(n)),K(!0)}function xS(n,e,i){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return K(!0);let r=t.map(s=>Qh(()=>{let o=aa(e)??i,c=fs(s,o),l=IS(c)?c.canActivate(e,n):bn(o,()=>c(e,n));return xi(l).pipe(Ii())}));return K(r).pipe(ds())}function MS(n,e,i){let t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>_S(o)).filter(o=>o!==null).map(o=>Qh(()=>{let c=o.guards.map(l=>{let u=aa(o.node)??i,f=fs(l,u),p=ES(f)?f.canActivateChild(t,n):bn(u,()=>f(t,n));return xi(p).pipe(Ii())});return K(c).pipe(ds())}));return K(s).pipe(ds())}function OS(n,e,i,t,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return K(!0);let o=s.map(c=>{let l=aa(e)??r,u=fs(c,l),f=TS(u)?u.canDeactivate(n,e,i,t):bn(l,()=>u(n,e,i,t));return xi(f).pipe(Ii())});return K(o).pipe(ds())}function NS(n,e,i,t){let r=e.canLoad;if(r===void 0||r.length===0)return K(!0);let s=r.map(o=>{let c=fs(o,n),l=bS(c)?c.canLoad(e,i):bn(n,()=>c(e,i));return xi(l)});return K(s).pipe(ds(),Xy(t))}function Xy(n){return bv(Ue(e=>{if(typeof e!="boolean")throw ul(n,e)}),J(e=>e===!0))}function FS(n,e,i,t){let r=e.canMatch;if(!r||r.length===0)return K(!0);let s=r.map(o=>{let c=fs(o,n),l=CS(c)?c.canMatch(e,i):bn(n,()=>c(e,i));return xi(l)});return K(s).pipe(ds(),Xy(t))}var ra=class{constructor(e){this.segmentGroup=e||null}},sa=class extends Error{constructor(e){super(),this.urlTree=e}};function rs(n){return sr(new ra(n))}function VS(n){return sr(new Ne(4e3,!1))}function LS(n){return sr(Ky(!1,Xt.GuardRejected))}var Yd=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let t=[],r=i.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return K(t);if(r.numberOfChildren>1||!r.children[oe])return VS(`${e.redirectTo}`);r=r.children[oe]}}applyRedirectCommands(e,i,t,r,s){if(typeof i!="string"){let c=i,{queryParams:l,fragment:u,routeConfig:f,url:p,outlet:g,params:T,data:A,title:M}=r,D=bn(s,()=>c({params:T,data:A,queryParams:l,fragment:u,routeConfig:f,url:p,outlet:g,title:M}));if(D instanceof ri)throw new sa(D);i=D}let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,t);if(i[0]==="/")throw new sa(o);return o}applyRedirectCreateUrlTree(e,i,t,r){let s=this.createSegmentGroup(e,i.root,t,r);return new ri(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let t={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);t[r]=i[c]}else t[r]=s}),t}createSegmentGroup(e,i,t,r){let s=this.createSegments(e,i.segments,t,r),o={};return Object.entries(i.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,t,r)}),new Ce(s,o)}createSegments(e,i,t,r){return i.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,t))}findPosParam(e,i,t){let r=t[i.path.substring(1)];if(!r)throw new Ne(4001,!1);return r}findOrReturn(e,i){let t=0;for(let r of i){if(r.path===e.path)return i.splice(t),r;t++}return e}},Qd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jS(n,e,i,t,r){let s=sf(n,e,i);return s.matched?(t=cS(e,t),FS(t,e,i,r).pipe(J(o=>o===!0?s:O({},Qd)))):K(s)}function sf(n,e,i){if(e.path==="**")return US(i);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||i.length>0)?O({},Qd):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||FC)(i,n,e);if(!r)return O({},Qd);let s={};Object.entries(r.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=r.consumed.length>0?O(O({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function US(n){return{matched:!0,parameters:n.length>0?ky(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ay(n,e,i,t){return i.length>0&&$S(n,i,t)?{segmentGroup:new Ce(e,zS(t,new Ce(i,n.children))),slicedSegments:[]}:i.length===0&&qS(n,i,t)?{segmentGroup:new Ce(n.segments,BS(n,i,t,n.children)),slicedSegments:i}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:i}}function BS(n,e,i,t){let r={};for(let s of i)if(fl(n,e,s)&&!t[Tn(s)]){let o=new Ce([],{});r[Tn(s)]=o}return O(O({},t),r)}function zS(n,e){let i={};i[oe]=e;for(let t of n)if(t.path===""&&Tn(t)!==oe){let r=new Ce([],{});i[Tn(t)]=r}return i}function $S(n,e,i){return i.some(t=>fl(n,e,t)&&Tn(t)!==oe)}function qS(n,e,i){return i.some(t=>fl(n,e,t))}function fl(n,e,i){return(n.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function WS(n,e,i,t){return Tn(n)!==t&&(t===oe||!fl(e,i,n))?!1:sf(e,n,i).matched}function GS(n,e,i){return e.length===0&&!n.children[i]}var Xd=class{};function HS(n,e,i,t,r,s,o="emptyOnly"){return new Jd(n,e,i,t,r,o,s).recognize()}var KS=31,Jd=class{constructor(e,i,t,r,s,o,c){this.injector=e,this.configLoader=i,this.rootComponentType=t,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Yd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Ne(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ay(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:i,rootSnapshot:t})=>{let r=new Qt(t,i),s=new ll("",r),o=tS(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let i=new as([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,i).pipe(J(t=>({children:t,rootSnapshot:i})),wi(t=>{if(t instanceof sa)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof ra?this.noMatchError(t):t}))}processSegmentGroup(e,i,t,r,s){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,i,t,s):this.processSegment(e,i,t,t.segments,r,!0,s).pipe(J(o=>o instanceof Qt?[o]:[]))}processChildren(e,i,t,r){let s=[];for(let o of Object.keys(t.children))o==="primary"?s.unshift(o):s.push(o);return Nt(s).pipe(or(o=>{let c=t.children[o],l=lS(i,o);return this.processSegmentGroup(e,l,c,o,r)}),Sv((o,c)=>(o.push(...c),o)),Jh(null),Cv(),an(o=>{if(o===null)return rs(t);let c=Jy(o);return YS(c),K(c)}))}processSegment(e,i,t,r,s,o,c){return Nt(i).pipe(or(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,t,r,s,o,c).pipe(wi(u=>{if(u instanceof ra)return K(null);throw u}))),Ii(l=>!!l),wi(l=>{if(Qy(l))return GS(t,r,s)?K(new Xd):rs(t);throw l}))}processSegmentAgainstRoute(e,i,t,r,s,o,c,l){return WS(t,r,s,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,t,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,t,s,o,l):rs(r):rs(r)}expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=sf(i,r,s);if(!l)return rs(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KS&&(this.allowRedirects=!1));let T=new as(s,u,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Ry(r),Tn(r),r.component??r._loadedComponent??null,r,Dy(r)),A=cl(T,c,this.paramsInheritanceStrategy);T.params=Object.freeze(A.params),T.data=Object.freeze(A.data);let M=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,T,e);return this.applyRedirects.lineralizeSegments(r,M).pipe(an(D=>this.processSegment(e,t,i,D.concat(g),o,!1,c)))}matchSegmentAgainstRoute(e,i,t,r,s,o){let c=jS(i,t,r,e,this.urlSerializer);return t.path==="**"&&(i.children={}),c.pipe(St(l=>l.matched?(e=t._injector??e,this.getChildConfig(e,t,r).pipe(St(({routes:u})=>{let f=t._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:T}=l,A=new as(g,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Ry(t),Tn(t),t.component??t._loadedComponent??null,t,Dy(t)),M=cl(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:D,slicedSegments:L}=Ay(i,g,T,u);if(L.length===0&&D.hasChildren())return this.processChildren(f,u,D,A).pipe(J(B=>new Qt(A,B)));if(u.length===0&&L.length===0)return K(new Qt(A,[]));let W=Tn(t)===s;return this.processSegment(f,u,D,L,W?oe:s,!0,A).pipe(J(B=>new Qt(A,B instanceof Qt?[B]:[])))}))):rs(i)))}getChildConfig(e,i,t){return i.children?K({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?K({routes:i._loadedRoutes,injector:i._loadedInjector}):NS(e,i,t,this.urlSerializer).pipe(an(r=>r?this.configLoader.loadChildren(e,i).pipe(Ue(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):LS(i))):K({routes:[],injector:e})}};function YS(n){n.sort((e,i)=>e.value.outlet===oe?-1:i.value.outlet===oe?1:e.value.outlet.localeCompare(i.value.outlet))}function QS(n){let e=n.value.routeConfig;return e&&e.path===""}function Jy(n){let e=[],i=new Set;for(let t of n){if(!QS(t)){e.push(t);continue}let r=e.find(s=>t.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...t.children),i.add(r)):e.push(t)}for(let t of i){let r=Jy(t.children);e.push(new Qt(t.value,r))}return e.filter(t=>!i.has(t))}function Ry(n){return n.data||{}}function Dy(n){return n.resolve||{}}function XS(n,e,i,t,r,s){return an(o=>HS(n,e,i,t,o.extractedUrl,r,s).pipe(J(({state:c,tree:l})=>le(O({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function JS(n,e){return an(i=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=i;if(!r.length)return K(i);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Zy(l))o.add(u);let c=0;return Nt(o).pipe(or(l=>s.has(l)?ZS(l,t,n,e):(l.data=cl(l,l.parent,n).resolve,K(void 0))),Ue(()=>c++),ed(1),an(l=>c===o.size?K(i):vi))})}function Zy(n){let e=n.children.map(i=>Zy(i)).flat();return[n,...e]}function ZS(n,e,i,t){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!Gy(r)&&(s[oa]=r.title),eA(s,n,e,t).pipe(J(o=>(n._resolvedData=o,n.data=cl(n,n.parent,i).resolve,null)))}function eA(n,e,i,t){let r=Rd(n);if(r.length===0)return K({});let s={};return Nt(r).pipe(an(o=>tA(n[o],e,i,t).pipe(Ii(),Ue(c=>{if(c instanceof ia)throw ul(new Qo,c);s[o]=c}))),ed(1),Ao(s),wi(o=>Qy(o)?vi:sr(o)))}function tA(n,e,i,t){let r=aa(e)??t,s=fs(n,r),o=s.resolve?s.resolve(e,i):bn(r,()=>s(e,i));return xi(o)}function Sd(n){return St(e=>{let i=n(e);return i?Nt(i).pipe(J(()=>e)):K(e)})}var ew=(()=>{let e=class e{buildTitle(t){let r,s=t.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===oe);return r}getResolvedTitleForRoute(t){return t.data[oa]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>U(nA),providedIn:"root"});let n=e;return n})(),nA=(()=>{let e=class e extends ew{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(k(by))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),of=new Y("",{providedIn:"root",factory:()=>({})}),iA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[ce],decls:1,vars:0,template:function(r,s){r&1&&ve(0,"router-outlet")},dependencies:[nf],encapsulation:2});let n=e;return n})();function af(n){let e=n.children&&n.children.map(af),i=e?le(O({},n),{children:e}):O({},n);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==oe&&(i.component=iA),i}var cf=new Y(""),rA=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(ld)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return K(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=xi(t.loadComponent()).pipe(J(tw),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bi(()=>{this.componentLoaders.delete(t)})),s=new Wh(r,()=>new re).pipe(qh());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sA(r,this.compiler,t,this.onLoadEndListener).pipe(bi(()=>{this.childrenLoaders.delete(r)})),c=new Wh(o,()=>new re).pipe(qh());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function sA(n,e,i,t){return xi(n.loadChildren()).pipe(J(tw),an(r=>r instanceof $v||Array.isArray(r)?K(r):Nt(e.compileModuleAsync(r))),J(r=>{t&&t(n);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(i).injector,o=s.get(cf,[],{optional:!0,self:!0}).flat()),{routes:o.map(af),injector:s}}))}function oA(n){return n&&typeof n=="object"&&"default"in n}function tw(n){return oA(n)?n.default:n}var lf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>U(aA),providedIn:"root"});let n=e;return n})(),aA=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cA=new Y("");var lA=new Y(""),uA=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=U(rA),this.environmentInjector=U(Ei),this.urlSerializer=U(ef),this.rootContexts=U(dl),this.location=U(ts),this.inputBindingEnabled=U(rf,{optional:!0})!==null,this.titleStrategy=U(ew),this.options=U(of,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=U(lf),this.createViewTransition=U(cA,{optional:!0}),this.navigationErrorHandler=U(lA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>K(void 0),this.rootComponentType=null;let t=s=>this.events.next(new Vd(s)),r=s=>this.events.next(new Ld(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(le(O(O({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,s){return this.transitions=new Ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ko,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oe(o=>o.id!==0),J(o=>le(O({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{let c=!1,l=!1;return K(o).pipe(St(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),vi;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?le(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!f&&p!=="reload"){let g="";return this.events.next(new gr(u.id,this.urlSerializer.serialize(u.rawUrl),g,xd.IgnoredSameUrlNavigation)),u.resolve(!1),vi}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return K(u).pipe(St(g=>{let T=this.transitions?.getValue();return this.events.next(new Zo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),T!==this.transitions?.getValue()?vi:Promise.resolve(g)}),XS(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=le(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let T=new sl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(T)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:T,source:A,restoredState:M,extras:D}=u,L=new Zo(g,this.urlSerializer.serialize(T),A,M);this.events.next(L);let W=qy(this.rootComponentType).snapshot;return this.currentTransition=o=le(O({},u),{targetSnapshot:W,urlAfterRedirects:T,extras:le(O({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,K(o)}else{let g="";return this.events.next(new gr(u.id,this.urlSerializer.serialize(u.extractedUrl),g,xd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),vi}}),Ue(u=>{let f=new Md(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),J(u=>(this.currentTransition=o=le(O({},u),{guards:gS(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),AS(this.environmentInjector,u=>this.events.next(u)),Ue(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ul(this.urlSerializer,u.guardsResult);let f=new Od(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Oe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Xt.GuardRejected),!1)),Sd(u=>{if(u.guards.canActivateChecks.length)return K(u).pipe(Ue(f=>{let p=new Nd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),St(f=>{let p=!1;return K(f).pipe(JS(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Xt.NoDataFromResolver)}}))}),Ue(f=>{let p=new Fd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Sd(u=>{let f=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ue(T=>{p.component=T}),J(()=>{})));for(let T of p.children)g.push(...f(T));return g};return Co(f(u.targetSnapshot.root)).pipe(Jh(null),Ft(1))}),Sd(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:u,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return p?Nt(p).pipe(J(()=>o)):K(o)}),J(u=>{let f=hS(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=le(O({},u),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Ue(()=>{this.events.next(new ta)}),mS(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ft(1),Ue({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),je(this.transitionAbortSubject.pipe(Ue(u=>{throw u}))),bi(()=>{!c&&!l&&this.cancelNavigationTransition(o,"",Xt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),wi(u=>{if(l=!0,Yy(u))this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),pS(u)?this.events.next(new us(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let f=new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=bn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(p instanceof ia){let{message:g,cancellationCode:T}=ul(this.urlSerializer,p);this.events.next(new ii(o.id,this.urlSerializer.serialize(o.extractedUrl),g,T)),this.events.next(new us(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(f);let g=t.errorHandler(u);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return vi}))}))}cancelNavigationTransition(t,r,s){let o=new ii(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function hA(n){return n!==Ko}var dA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>U(fA),providedIn:"root"});let n=e;return n})(),Zd=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},fA=(()=>{let e=class e extends Zd{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),nw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:()=>U(pA),providedIn:"root"});let n=e;return n})(),pA=(()=>{let e=class e extends nw{constructor(){super(...arguments),this.location=U(ts),this.urlSerializer=U(ef),this.options=U(of,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=U(lf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Zo)this.stateMemento=this.createStateMemento();else if(t instanceof gr)this.rawUrlTree=r.initialUrl;else if(t instanceof sl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else t instanceof ta?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ii&&(t.code===Xt.GuardRejected||t.code===Xt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ea?this.restoreHistory(r,!0):t instanceof si&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let s=t instanceof ri?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,c=O(O({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",c)}else{let o=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Go=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Go||{});function mA(n,e){n.events.pipe(Oe(i=>i instanceof si||i instanceof ii||i instanceof ea||i instanceof gr),J(i=>i instanceof si||i instanceof gr?Go.COMPLETE:(i instanceof ii?i.code===Xt.Redirect||i.code===Xt.SupersededByNewNavigation:!1)?Go.REDIRECTING:Go.FAILED),Oe(i=>i!==Go.REDIRECTING),Ft(1)).subscribe(()=>{e()})}function gA(n){throw n}var _A={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ps=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=U(jc),this.stateManager=U(nw),this.options=U(of,{optional:!0})||{},this.pendingTasks=U(kc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=U(uA),this.urlSerializer=U(ef),this.location=U(ts),this.urlHandlingStrategy=U(lf),this._events=new re,this.errorHandler=this.options.errorHandler||gA,this.navigated=!1,this.routeReuseStrategy=U(dA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=U(cf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!U(rf,{optional:!0}),this.eventsSubscription=new zt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ii&&r.code!==Xt.Redirect&&r.code!==Xt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof si)this.navigated=!0;else if(r instanceof us){let c=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=O({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hA(s.source)},c);this.scheduleNavigation(l,Ko,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}wA(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ko,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let u=O({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(af),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:l,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let T=s?s.snapshot:this.routerState.snapshot.root;g=Uy(T)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return By(g,t,p,f??null)}navigateByUrl(t,r={skipLocationChange:!1}){let s=Xo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ko,null,r)}navigate(t,r={skipLocationChange:!1}){return yA(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(r===!0?s=O({},_A):r===!1?s=O({},vA):s=r,Xo(t))return Ey(this.currentUrlTree,t,s);let o=this.parseUrl(t);return Ey(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(t,r,s,o,c){if(this.disposed)return Promise.resolve(!1);let l,u,f;c?(l=c.resolve,u=c.reject,f=c.promise):f=new Promise((g,T)=>{l=g,u=T});let p=this.pendingTasks.add();return mA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function yA(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Ne(4008,!1)}function wA(n){return!(n instanceof ta)&&!(n instanceof us)}var bA=new Y("");function iw(n,...e){return wn([{provide:cf,multi:!0,useValue:n},[],{provide:hs,useFactory:IA,deps:[ps]},{provide:cd,multi:!0,useFactory:EA},e.map(i=>i.\u0275providers)])}function IA(n){return n.routerState.root}function EA(){let n=U(ct);return e=>{let i=n.get(hr);if(e!==i.components[0])return;let t=n.get(ps),r=n.get(TA);n.get(CA)===1&&t.initialNavigation(),n.get(SA,null,td.Optional)?.setUpPreloading(),n.get(bA,null,td.Optional)?.init(),t.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var TA=new Y("",{factory:()=>new re}),CA=new Y("",{providedIn:"root",factory:()=>1});var SA=new Y("");var AA="@",RA=(()=>{let e=class e{constructor(t,r,s,o,c){this.doc=t,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=U(Uv,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-WRW2GCFY.js").then(r=>r)).catch(r=>{throw new Ne(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(t,r){let s=this.delegate.createRenderer(t,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new uf(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(t,r);o.use(l),this.scheduler?.notify(9)}).catch(c=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){rd()},e.\u0275prov=j({token:e,factory:e.\u0275fac});let n=e;return n})(),uf=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,r){this.delegate.insertBefore(e,i,t,r)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(AA)}};function sw(n="animations"){return sd("NgAsyncAnimations"),wn([{provide:Nc,useFactory:(e,i,t)=>new RA(e,i,t,n),deps:[te,Qc,ee]},{provide:Ci,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ow={production:!1,firebase:{apiKey:"AIzaSyBExbkZEZ-dZrCK0ADOg-Zr1KazOVj6qr8",authDomain:"avoid-the-cob.firebaseapp.com",projectId:"avoid-the-cob",storageBucket:"avoid-the-cob.appspot.com",messagingSenderId:"558189639161",appId:"1:558189639161:web:5b784b8fcd193f68d9b928"}};var cw=$h(aw());function DA(n,e){if(n&1&&ve(0,"img",5),n&2){let i=e.$implicit;ad("src",i,id)}}function PA(n,e){if(n&1&&($(0,"div",3),we(1),Q(),$(2,"div",4),Ai(3,DA,1,1,"img",5,Si),Q()),n&2){let i=e.$implicit;se(),Mo(" ",i.header," "),se(2),Ri(i.urls)}}function kA(n,e){if(n&1&&($(0,"div",2),Ai(1,PA,5,1,null,null,Si),Q()),n&2){let i=Ie();se(),Ri(i.photos)}}var hn=(()=>{let e=class e{constructor(){this.hostClasses="flex flex-col items-center justify-center"}ngAfterViewInit(){this.lozad()}lozad(){(0,cw.default)().observe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-gallery"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},inputs:{hero:"hero",photos:"photos"},standalone:!0,features:[ce],decls:2,vars:2,consts:[["data-aos","zoom-out","data-aos-duration","2000",1,"h-[100vh]","w-[100vw]","object-cover",3,"src"],["class","mb-20 mt-8",4,"ngIf"],[1,"mb-20","mt-8"],["data-aos","fade-up","data-aos-duration","8000",1,"mb-16","mt-8","flex","h-36","w-full","items-center","justify-center","text-center","text-6xl","font-bold"],[1,"m-auto","w-[95vw]","columns-1","gap-16","lg:columns-3"],["data-aos","fade-up","data-aos-duration","8000",1,"lozad","mb-16","rounded-lg",3,"src"]],template:function(r,s){r&1&&(ve(0,"img",0),it(1,kA,3,0,"div",1)),r&2&&(ad("src",s.hero,id),se(),ue("ngIf",s.photos))},dependencies:[Yt,ns],encapsulation:2});let n=e;return n})();var lw=(()=>{let e=class e{constructor(){this.hostClasses="!size-full",this.photos=[{header:"Hong Kong",urls:["hong-kong-1.jpg","hong-kong-2.jpg","hong-kong-3.jpg"]},{header:"Thailand",urls:["thailand-1.jpg","thailand-2.jpg","thailand-3.jpg","thailand-4.jpg","thailand-5.jpg","thailand-6.jpg","thailand-7.jpg","thailand-8.jpg","thailand-9.jpg"]},{header:"Cambodia",urls:["cambodia-1.jpg","cambodia-2.jpg","cambodia-3.jpg","cambodia-4.jpg","cambodia-5.jpg","cambodia-6.jpg","cambodia-7.jpg","cambodia-8.jpg"]},{header:"Malaysia and Singapore",urls:["malaysia-singapore-1.jpg","malaysia-singapore-2.jpg","malaysia-singapore-3.jpg","malaysia-singapore-4.jpg","malaysia-singapore-5.jpg"]},{header:"Laos and Vietnam",urls:["laos-vietnam-1.jpg","laos-vietnam-2.jpg","laos-vietnam-3.jpg","laos-vietnam-4.jpg","laos-vietnam-5.jpg","laos-vietnam-6.jpg","laos-vietnam-7.jpg","laos-vietnam-8.jpg","laos-vietnam-9.jpg","laos-vietnam-10.jpg","laos-vietnam-11.jpg","laos-vietnam-12.jpg","laos-vietnam-13.jpg"]}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-asia"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:2,consts:[[3,"hero","photos"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-asia.jpg")("photos",s.photos)},dependencies:[hn],encapsulation:2});let n=e;return n})();var uw=(()=>{let e=class e{constructor(){this.hostClasses="",this.photos=[{header:"Austria",urls:["austria-1.jpg","austria-2.jpg","austria-3.jpg","austria-4.jpg","austria-5.jpg","austria-6.jpg","austria-7.jpg","austria-8.jpg","austria-9.jpg","austria-10.jpg","austria-11.jpg","austria-12.jpg","austria-13.jpg","austria-14.jpg","austria-15.jpg","austria-16.jpg","austria-17.jpg","austria-18.jpg","austria-19.jpg","austria-20.jpg"]},{header:"Croatia",urls:["croatia-1.jpg","croatia-2.jpg","croatia-3.jpg","croatia-4.jpg","croatia-5.jpg","croatia-6.jpg","croatia-7.jpg","croatia-8.jpg","croatia-9.jpg","croatia-10.jpg"]},{header:"Czech Republic",urls:["czech-1.jpg","czech-2.jpg","czech-3.jpg","czech-4.jpg","czech-5.jpg","czech-6.jpg","czech-7.jpg","czech-8.jpg","czech-9.jpg","czech-10.jpg","czech-11.jpg","czech-12.jpg","czech-13.jpg","czech-14.jpg","czech-15.jpg","czech-16.jpg","czech-17.jpg","czech-18.jpg","czech-19.jpg","czech-20.jpg","czech-21.jpg","czech-22.jpg","czech-23.jpg","czech-24.jpg","czech-25.jpg","czech-26.jpg","czech-27.jpg","czech-28.jpg","czech-29.jpg","czech-30.jpg","czech-31.jpg","czech-32.jpg","czech-33.jpg","czech-34.jpg","czech-35.jpg"]},{header:"England",urls:["england-1.jpg","england-2.jpg","england-3.jpg","england-4.jpg","england-5.jpg","england-6.jpg","england-7.jpg","england-8.jpg","england-9.jpg","england-10.jpg","england-11.jpg","england-12.jpg","england-13.jpg","england-14.jpg","england-15.jpg","england-16.jpg","england-17.jpg","england-18.jpg","england-19.jpg","england-20.jpg","england-21.jpg","england-22.jpg"]},{header:"Germany",urls:["germany-1.jpg","germany-2.jpg","germany-3.jpg","germany-4.jpg","germany-5.jpg","germany-6.jpg"]},{header:"Hungary",urls:["hungary-1.jpg","hungary-2.jpg","hungary-3.jpg","hungary-4.jpg","hungary-5.jpg","hungary-6.jpg"]},{header:"Italy",urls:["italy-1.jpg","italy-2.jpg","italy-3.jpg","italy-4.jpg","italy-5.jpg","italy-6.jpg","italy-7.jpg","italy-8.jpg","italy-9.jpg","italy-10.jpg","italy-11.jpg","italy-12.jpg","italy-13.jpg","italy-14.jpg","italy-15.jpg"]},{header:"Slovenia",urls:["slovenia-1.jpg","slovenia-2.jpg","slovenia-3.jpg","slovenia-4.jpg","slovenia-5.jpg","slovenia-6.jpg"]}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-europe"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:2,consts:[[3,"hero","photos"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-europe.jpg")("photos",s.photos)},dependencies:[hn],encapsulation:2});let n=e;return n})();var _w=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(N(Fc),N(Re))},e.\u0275dir=nt({type:e});let n=e;return n})(),xA=(()=>{let e=class e extends _w{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275dir=nt({type:e,features:[Kt]});let n=e;return n})(),vw=new Y("");var MA={provide:vw,useExisting:ar(()=>wl),multi:!0};function OA(){let n=es()?es().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var NA=new Y(""),wl=(()=>{let e=class e extends _w{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OA())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(N(Fc),N(Re),N(NA,8))},e.\u0275dir=nt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ye("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[_t([MA]),Kt]});let n=e;return n})();function Mi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function yw(n){return n!=null&&typeof n.length=="number"}var ww=new Y(""),FA=new Y(""),VA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ml=class{static min(e){return LA(e)}static max(e){return jA(e)}static required(e){return UA(e)}static requiredTrue(e){return BA(e)}static email(e){return zA(e)}static minLength(e){return $A(e)}static maxLength(e){return bw(e)}static pattern(e){return qA(e)}static nullValidator(e){return gl(e)}static compose(e){return Aw(e)}static composeAsync(e){return Dw(e)}};function LA(n){return e=>{if(Mi(e.value)||Mi(n))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<n?{min:{min:n,actual:e.value}}:null}}function jA(n){return e=>{if(Mi(e.value)||Mi(n))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>n?{max:{max:n,actual:e.value}}:null}}function UA(n){return Mi(n.value)?{required:!0}:null}function BA(n){return n.value===!0?null:{required:!0}}function zA(n){return Mi(n.value)||VA.test(n.value)?null:{email:!0}}function $A(n){return e=>Mi(e.value)||!yw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function bw(n){return e=>yw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qA(n){if(!n)return gl;let e,i;return typeof n=="string"?(i="",n.charAt(0)!=="^"&&(i+="^"),i+=n,n.charAt(n.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=n.toString(),e=n),t=>{if(Mi(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function gl(n){return null}function Iw(n){return n!=null}function Ew(n){return Uc(n)?Nt(n):n}function Tw(n){let e={};return n.forEach(i=>{e=i!=null?O(O({},e),i):e}),Object.keys(e).length===0?null:e}function Cw(n,e){return e.map(i=>i(n))}function WA(n){return!n.validate}function Sw(n){return n.map(e=>WA(e)?e:i=>e.validate(i))}function Aw(n){if(!n)return null;let e=n.filter(Iw);return e.length==0?null:function(i){return Tw(Cw(i,e))}}function Rw(n){return n!=null?Aw(Sw(n)):null}function Dw(n){if(!n)return null;let e=n.filter(Iw);return e.length==0?null:function(i){let t=Cw(i,e).map(Ew);return Dc(t).pipe(J(Tw))}}function Pw(n){return n!=null?Dw(Sw(n)):null}function hw(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kw(n){return n._rawValidators}function xw(n){return n._rawAsyncValidators}function ff(n){return n?Array.isArray(n)?n:[n]:[]}function _l(n,e){return Array.isArray(n)?n.includes(e):n===e}function dw(n,e){let i=ff(e);return ff(n).forEach(r=>{_l(i,r)||i.push(r)}),i}function fw(n,e){return ff(e).filter(i=>!_l(n,i))}var pf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rw(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Pw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}};var fa=class extends pf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},mf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},GA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},GF=le(O({},GA),{"[class.ng-submitted]":"isSubmitted"}),Mw=(()=>{let e=class e extends mf{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(N(fa,2))},e.\u0275dir=nt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&At("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Kt]});let n=e;return n})();var la="VALID",pl="INVALID",ms="PENDING",ua="DISABLED",_s=class{},vl=class extends _s{constructor(e,i){super(),this.value=e,this.source=i}},ha=class extends _s{constructor(e,i){super(),this.pristine=e,this.source=i}},da=class extends _s{constructor(e,i){super(),this.touched=e,this.source=i}},gs=class extends _s{constructor(e,i){super(),this.status=e,this.source=i}};function HA(n){return(bl(n)?n.validators:n)||null}function KA(n){return Array.isArray(n)?Rw(n):n||null}function YA(n,e){return(bl(e)?e.asyncValidators:n)||null}function QA(n){return Array.isArray(n)?Pw(n):n||null}function bl(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var gf=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Bc(()=>this.statusReactive()),this.statusReactive=Vc(void 0),this._pristine=Bc(()=>this.pristineReactive()),this.pristineReactive=Vc(!0),this._touched=Bc(()=>this.touchedReactive()),this.touchedReactive=Vc(!1),this._events=new re,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ei(this.statusReactive)}set status(e){ei(()=>this.statusReactive.set(e))}get valid(){return this.status===la}get invalid(){return this.status===pl}get pending(){return this.status==ms}get disabled(){return this.status===ua}get enabled(){return this.status!==ua}get pristine(){return ei(this.pristineReactive)}set pristine(e){ei(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ei(this.touchedReactive)}set touched(e){ei(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(fw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(fw(e,this._rawAsyncValidators))}hasValidator(e){return _l(this._rawValidators,e)}hasAsyncValidator(e){return _l(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(le(O({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new da(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),i&&e.emitEvent!==!1&&this._events.next(new da(!1,t))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(le(O({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new ha(!1,t))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&e.emitEvent!==!1&&this._events.next(new ha(!0,t))}markAsPending(e={}){this.status=ms;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gs(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(le(O({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=ua,this.errors=null,this._forEachChild(r=>{r.disable(le(O({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vl(this.value,t)),this._events.next(new gs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(O({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=la,this._forEachChild(t=>{t.enable(le(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(O({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===la||this.status===ms)&&this._runAsyncValidator(t,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vl(this.value,i)),this._events.next(new gs(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(le(O({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ua:la}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let t=Ew(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((t,r)=>t&&t._find(r),this)}getError(e,i){let t=i?this.get(i):this;return t&&t.errors?t.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new gs(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,t)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?ua:this.errors?pl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus(pl)?pl:la}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new ha(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new da(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KA(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QA(this._rawAsyncValidators)}};var Ow=new Y("CallSetDisabledState",{providedIn:"root",factory:()=>_f}),_f="always";function XA(n,e,i=_f){ZA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),tR(n,e),iR(n,e),nR(n,e),JA(n,e)}function pw(n,e,i=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),eR(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function yl(n,e){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function JA(n,e){if(e.valueAccessor.setDisabledState){let i=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(i),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}function ZA(n,e){let i=kw(n);e.validator!==null?n.setValidators(hw(i,e.validator)):typeof i=="function"&&n.setValidators([i]);let t=xw(n);e.asyncValidator!==null?n.setAsyncValidators(hw(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();yl(e._rawValidators,r),yl(e._rawAsyncValidators,r)}function eR(n,e){let i=!1;if(n!==null){if(e.validator!==null){let r=kw(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(i=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=xw(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(i=!0,n.setAsyncValidators(s))}}}let t=()=>{};return yl(e._rawValidators,t),yl(e._rawAsyncValidators,t),i}function tR(n,e){e.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Nw(n,e)})}function nR(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Nw(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function Nw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iR(n,e){let i=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};n.registerOnChange(i),e._registerOnDestroy(()=>{n._unregisterOnChange(i)})}function rR(n,e){if(!n.hasOwnProperty("model"))return!1;let i=n.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function sR(n){return Object.getPrototypeOf(n.constructor)===xA}function oR(n,e){if(!e)return null;Array.isArray(e);let i,t,r;return e.forEach(s=>{s.constructor===wl?i=s:sR(s)?t=s:r=s}),r||t||i||null}function mw(n,e){let i=n.indexOf(e);i>-1&&n.splice(i,1)}function gw(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Fw=class extends gf{constructor(e=null,i,t){super(HA(i),YA(t,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bl(i)&&(i.nonNullable||i.initialValueIsDefault)&&(gw(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mw(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mw(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gw(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Vw=new Y(""),aR={provide:fa,useExisting:ar(()=>vf)},vf=(()=>{let e=class e extends fa{set isDisabled(t){}constructor(t,r,s,o,c){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=c,this.update=new $e,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=oR(this,s)}ngOnChanges(t){if(this._isControlChanged(t)){let r=t.form.previousValue;r&&pw(r,this,!1),XA(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}rR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&pw(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(N(ww,10),N(FA,10),N(vw,10),N(Vw,8),N(Ow,8))},e.\u0275dir=nt({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[_t([aR]),Kt,Ti]});let n=e;return n})();function cR(n){return typeof n=="number"?n:parseInt(n,10)}var lR=(()=>{let e=class e{constructor(){this._validator=gl}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):gl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=nt({type:e,features:[Ti]});let n=e;return n})();var uR={provide:ww,useExisting:ar(()=>yf),multi:!0},yf=(()=>{let e=class e extends lR{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>cR(t),this.createValidator=t=>bw(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275dir=nt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&Vt("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[_t([uR]),Kt]});let n=e;return n})();var hR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({});let n=e;return n})();var Lw=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Vw,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ow,useValue:t.callSetDisabledState??_f}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[hR]});let n=e;return n})();var bf;try{bf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{bf=!1}var et=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?ny(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||bf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(k(In))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var pa;function fR(){if(pa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>pa=!0}))}finally{pa=pa||!1}return pa}function Oi(n){return fR()?n:!!n.capture}var Cn=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Cn||{}),Il,_r;function El(){if(_r==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return _r=!1,_r;if("scrollBehavior"in document.documentElement.style)_r=!0;else{let n=Element.prototype.scrollTo;n?_r=!/\{\s*\[native code\]\s*\}/.test(n.toString()):_r=!1}}return _r}function vs(){if(typeof document!="object"||!document)return Cn.NORMAL;if(Il==null){let n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let i=document.createElement("div"),t=i.style;t.width="2px",t.height="1px",n.appendChild(i),document.body.appendChild(n),Il=Cn.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Il=n.scrollLeft===0?Cn.NEGATED:Cn.INVERTED),n.remove()}return Il}var wf;function pR(){if(wf==null){let n=typeof document<"u"?document.head:null;wf=!!(n&&(n.createShadowRoot||n.attachShadow))}return wf}function jw(n){if(pR()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Sn(n){return n.composedPath?n.composedPath()[0]:n.target}function ma(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ws(n,...e){return e.length?e.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Ni(n){return n!=null&&`${n}`!="false"}function ga(n,e=0){return mR(n)?Number(n):e}function mR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function bs(n){return Array.isArray(n)?n:[n]}function tt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function oi(n){return n instanceof Re?n.nativeElement:n}var Uw=new Set,vr,gR=(()=>{let e=class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vR}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&_R(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(r){return new(r||e)(k(et),k(Po,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function _R(n,e){if(!Uw.has(n))try{vr||(vr=document.createElement("style"),e&&vr.setAttribute("nonce",e),vr.setAttribute("type","text/css"),document.head.appendChild(vr)),vr.sheet&&(vr.sheet.insertRule(`@media ${n} {body{ }}`,0),Uw.add(n))}catch(i){console.error(i)}}function vR(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var zw=(()=>{let e=class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new re}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Bw(bs(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let s=Bw(bs(t)).map(c=>this._registerQuery(c).observable),o=Co(s);return o=Rc(o.pipe(Ft(1)),o.pipe(Pc(1),Kr(0))),o.pipe(J(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:u,query:f})=>{l.matches=l.matches||u,l.breakpoints[f]=u}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new vn(c=>{let l=u=>this._zone.run(()=>c.next(u));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(cn(r),J(({matches:c})=>({query:t,matches:c})),je(this._destroySubject)),mql:r};return this._queries.set(t,o),o}};e.\u0275fac=function(r){return new(r||e)(k(gR),k(ee))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Bw(n){return n.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var Ef=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new re,this._typeaheadSubscription=zt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new re,this.change=new re,e instanceof lr?this._itemChangesSubscription=e.changes.subscribe(t=>this._itemsChanged(t.toArray())):od(e)&&(this._effectRef=Xv(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ue(i=>this._pressedLetters.push(i)),Kr(e),Oe(()=>this._pressedLetters.length>0),J(()=>this._pressedLetters.join(""))).subscribe(i=>{let t=this._getItemsArray();for(let r=1;r<t.length+1;r++){let s=(this._activeItemIndex+r)%t.length,o=t[s];if(!this._skipPredicateFn(o)&&o.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(r||ws(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),t=typeof e=="number"?e:i.indexOf(e),r=i[t];this._activeItem=r??null,this._activeItemIndex=t}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let t=1;t<=i.length;t++){let r=(this._activeItemIndex+e*t+i.length)%i.length,s=i[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let t=this._getItemsArray();if(t[e]){for(;this._skipPredicateFn(t[e]);)if(e+=i,!t[e])return;this.setActiveItem(e)}}_getItemsArray(){return od(this._items)?this._items():this._items instanceof lr?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}};var Sl=class extends Ef{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var Af=(()=>{let e=class e{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return OR(t)&&getComputedStyle(t).visibility==="visible"}isTabbable(t){if(!this._platform.isBrowser)return!1;let r=MR(zR(t));if(r&&($w(r)===-1||!this.isVisible(r)))return!1;let s=t.nodeName.toLowerCase(),o=$w(t);return t.hasAttribute("contenteditable")?o!==-1:s==="iframe"||s==="object"||this._platform.WEBKIT&&this._platform.IOS&&!UR(t)?!1:s==="audio"?t.hasAttribute("controls")?o!==-1:!1:s==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||t.hasAttribute("controls"):t.tabIndex>=0}isFocusable(t,r){return BR(t)&&!this.isDisabled(t)&&(r?.ignoreVisibility||this.isVisible(t))}};e.\u0275fac=function(r){return new(r||e)(k(et))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function MR(n){try{return n.frameElement}catch{return null}}function OR(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function NR(n){let e=n.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function FR(n){return LR(n)&&n.type=="hidden"}function VR(n){return jR(n)&&n.hasAttribute("href")}function LR(n){return n.nodeName.toLowerCase()=="input"}function jR(n){return n.nodeName.toLowerCase()=="a"}function Gw(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let e=n.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function $w(n){if(!Gw(n))return null;let e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function UR(n){let e=n.nodeName.toLowerCase(),i=e==="input"&&n.type;return i==="text"||i==="password"||e==="select"||e==="textarea"}function BR(n){return FR(n)?!1:NR(n)||VR(n)||n.hasAttribute("contenteditable")||Gw(n)}function zR(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Tf=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,i,t,r,s=!1,o){this._element=e,this._checker=i,this._ngZone=t,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let e=this._startAnchor,i=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let i=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let t=this._getFirstTabbableElement(i);return t?.focus(e),!!t}return i.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let i=this._getRegionBoundary("start");return i&&i.focus(e),!!i}focusLastTabbableElement(e){let i=this._getRegionBoundary("end");return i&&i.focus(e),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let t=0;t<i.length;t++){let r=i[t].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[t]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let i=e.children;for(let t=i.length-1;t>=0;t--){let r=i[t].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[t]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,i){e?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?Nn(e,{injector:this._injector}):setTimeout(e)}},Hw=(()=>{let e=class e{constructor(t,r,s){this._checker=t,this._ngZone=r,this._injector=U(ct),this._document=s}create(t,r=!1){return new Tf(t,this._checker,this._ngZone,this._document,r,this._injector)}};e.\u0275fac=function(r){return new(r||e)(k(Af),k(ee),k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function _a(n){return n.buttons===0||n.detail===0}function va(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var $R=new Y("cdk-input-modality-detector-options"),qR={ignoreKeys:[18,17,224,91,16]},Kw=650,Is=Oi({passive:!0,capture:!0}),WR=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(t,r,s,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ct(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Sn(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Kw||(this._modality.next(_a(c)?"keyboard":"mouse"),this._mostRecentTarget=Sn(c))},this._onTouchstart=c=>{if(va(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Sn(c)},this._options=O(O({},qR),o),this.modalityDetected=this._modality.pipe(Pc(1)),this.modalityChanged=this.modalityDetected.pipe(Ro()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Is),s.addEventListener("mousedown",this._onMousedown,Is),s.addEventListener("touchstart",this._onTouchstart,Is)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Is),document.removeEventListener("mousedown",this._onMousedown,Is),document.removeEventListener("touchstart",this._onTouchstart,Is))}};e.\u0275fac=function(r){return new(r||e)(k(et),k(ee),k(te),k($R,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Cl=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Cl||{}),GR=new Y("cdk-focus-monitor-default-options"),Tl=Oi({passive:!0,capture:!0}),ya=(()=>{let e=class e{constructor(t,r,s,o,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re,this._rootNodeFocusAndBlurListener=l=>{let u=Sn(l);for(let f=u;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=o,this._detectionMode=c?.detectionMode||Cl.IMMEDIATE}monitor(t,r=!1){let s=oi(t);if(!this._platform.isBrowser||s.nodeType!==1)return K();let o=jw(s)||this._getDocument(),c=this._elementInfo.get(s);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new re,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let r=oi(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){let o=oi(t),c=this._getDocument().activeElement;o===c?this._getClosestElementsInfo(o).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Cl.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Cl.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?Kw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(t,r){let s=this._elementInfo.get(r),o=Sn(t);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(t,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Tl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Tl)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(je(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Tl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Tl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((s,o)=>{(o===t||s.checkChildren&&o.contains(t))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let c=0;c<o.length;c++)if(o[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(k(ee),k(et),k(WR),k(te,8),k(GR,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yr=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(yr||{}),qw="cdk-high-contrast-black-on-white",Ww="cdk-high-contrast-white-on-black",If="cdk-high-contrast-active",Yw=(()=>{let e=class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=U(zw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return yr.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return yr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return yr.BLACK_ON_WHITE}return yr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(If,qw,Ww),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===yr.BLACK_ON_WHITE?t.add(If,qw):r===yr.WHITE_ON_BLACK&&t.add(If,Ww)}}};e.\u0275fac=function(r){return new(r||e)(k(et),k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var HR=new Y("cdk-dir-doc",{providedIn:"root",factory:KR});function KR(){return U(te)}var YR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function QR(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?YR.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Fi=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new $e,t){let r=t.body?t.body.dir:null,s=t.documentElement?t.documentElement.dir:null;this.value=QR(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(k(HR,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Vi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({});let n=e;return n})();function XR(){return!0}var JR=new Y("mat-sanity-checks",{providedIn:"root",factory:XR}),An=(()=>{let e=class e{constructor(t,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return ma()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(r){return new(r||e)(k(Yw),k(JR,8),k(te))},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[Vi,Vi]});let n=e;return n})();var dn=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(dn||{}),Df=class{constructor(e,i,t,r=!1){this._renderer=e,this.element=i,this.config=t,this._animationForciblyDisabledThroughCss=r,this.state=dn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Qw=Oi({passive:!0,capture:!0}),Pf=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=Sn(e);i&&this._events.get(e.type)?.forEach((t,r)=>{(r===i||r.contains(i))&&t.forEach(s=>s.handleEvent(e))})}}addHandler(e,i,t,r){let s=this._events.get(i);if(s){let o=s.get(t);o?o.add(r):s.set(t,new Set([r]))}else this._events.set(i,new Map([[t,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Qw)})}removeHandler(e,i,t){let r=this._events.get(e);if(!r)return;let s=r.get(i);s&&(s.delete(t),s.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,Qw)))}},Xw={enterDuration:225,exitDuration:150},ZR=800,Jw=Oi({passive:!0,capture:!0}),Zw=["mousedown","touchstart"],eb=["mouseup","mouseleave","touchend","touchcancel"],wa=class wa{constructor(e,i,t,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=oi(t))}fadeInRipple(e,i,t={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=O(O({},Xw),t.animation);t.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let o=t.radius||eD(e,i,r),c=e-r.left,l=i-r.top,u=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-o}px`,f.style.top=`${l-o}px`,f.style.height=`${o*2}px`,f.style.width=`${o*2}px`,t.color!=null&&(f.style.backgroundColor=t.color),f.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),g=p.transitionProperty,T=p.transitionDuration,A=g==="none"||T==="0s"||T==="0s, 0s"||r.width===0&&r.height===0,M=new Df(this,f,t,A);f.style.transform="scale3d(1, 1, 1)",M.state=dn.FADING_IN,t.persistent||(this._mostRecentTransientRipple=M);let D=null;return!A&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let L=()=>{D&&(D.fallbackTimer=null),clearTimeout(B),this._finishRippleTransition(M)},W=()=>this._destroyRipple(M),B=setTimeout(W,u+100);f.addEventListener("transitionend",L),f.addEventListener("transitioncancel",W),D={onTransitionEnd:L,onTransitionCancel:W,fallbackTimer:B}}),this._activeRipples.set(M,D),(A||!u)&&this._finishRippleTransition(M),M}fadeOutRipple(e){if(e.state===dn.FADING_OUT||e.state===dn.HIDDEN)return;let i=e.element,t=O(O({},Xw),e.config.animation);i.style.transitionDuration=`${t.exitDuration}ms`,i.style.opacity="0",e.state=dn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=oi(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Zw.forEach(t=>{wa._eventManager.addHandler(this._ngZone,t,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{eb.forEach(i=>{this._triggerElement.addEventListener(i,this,Jw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===dn.FADING_IN?this._startFadeOutTransition(e):e.state===dn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=dn.VISIBLE,!t&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=dn.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),e.element.remove()}_onMousedown(e){let i=_a(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+ZR;!this._target.rippleDisabled&&!i&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!va(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let t=0;t<i.length;t++)this.fadeInRipple(i[t].clientX,i[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===dn.VISIBLE||e.config.terminateOnPointerUp&&e.state===dn.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(Zw.forEach(i=>wa._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(eb.forEach(i=>e.removeEventListener(i,this,Jw)),this._pointerUpEventsRegistered=!1))}};wa._eventManager=new Pf;var kf=wa;function eD(n,e,i){let t=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(t*t+r*r)}var tD=new Y("mat-ripple-global-options"),tb=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,s,o,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new kf(this,r,t,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:O(O(O({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,O(O({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,O(O({},this.rippleConfig),t))}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(ee),N(et),N(tD,8),N(Ci,8))},e.\u0275dir=nt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&At("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),nb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[An,An]});let n=e;return n})();var nD=["*"],Pl;function iD(){if(Pl===void 0&&(Pl=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Pl=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Pl}function ba(n){return iD()?.createHTML(n)||n}function ib(n){return Error(`Unable to find icon with the name "${n}"`)}function rD(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function rb(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function sb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var ai=class{constructor(e,i,t){this.url=e,this.svgText=i,this.options=t}},sD=(()=>{let e=class e{constructor(t,r,s,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(t,r,s){return this.addSvgIconInNamespace("",t,r,s)}addSvgIconLiteral(t,r,s){return this.addSvgIconLiteralInNamespace("",t,r,s)}addSvgIconInNamespace(t,r,s,o){return this._addSvgIconConfig(t,r,new ai(s,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,s,o){let c=this._sanitizer.sanitize(Ht.HTML,s);if(!c)throw sb(s);let l=ba(c);return this._addSvgIconConfig(t,r,new ai("",l,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,s){return this._addSvgIconSetConfig(t,new ai(r,null,s))}addSvgIconSetLiteralInNamespace(t,r,s){let o=this._sanitizer.sanitize(Ht.HTML,r);if(!o)throw sb(r);let c=ba(o);return this._addSvgIconSetConfig(t,new ai("",c,s))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Ht.RESOURCE_URL,t);if(!r)throw rb(t);let s=this._cachedIconsByUrl.get(r);return s?K(kl(s)):this._loadSvgIconFromConfig(new ai(t,null)).pipe(Ue(o=>this._cachedIconsByUrl.set(r,o)),J(o=>kl(o)))}getNamedSvgIcon(t,r=""){let s=ob(r,t),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):sr(ib(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?K(kl(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(J(r=>kl(r)))}_getSvgFromIconSetConfigs(t,r){let s=this._extractIconWithNameFromAnySet(t,r);if(s)return K(s);let o=r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(wi(l=>{let f=`Loading icon set URL: ${this._sanitizer.sanitize(Ht.RESOURCE_URL,c.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(f)),K(null)})));return Dc(o).pipe(J(()=>{let c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw ib(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let c=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(c,t,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Ue(r=>t.svgText=r),J(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?K(null):this._fetchIcon(t).pipe(Ue(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,s){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let c=o.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,s);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),s);let l=this._svgElementFromString(ba("<svg></svg>"));return l.appendChild(c),this._setSvgAttributes(l,s)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){let r=this._svgElementFromString(ba("<svg></svg>")),s=t.attributes;for(let o=0;o<s.length;o++){let{name:c,value:l}=s[o];c!=="id"&&r.setAttribute(c,l)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:s}=t,o=s?.withCredentials??!1;if(!this._httpClient)throw rD();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let c=this._sanitizer.sanitize(Ht.RESOURCE_URL,r);if(!c)throw rb(r);let l=this._inProgressUrlFetches.get(c);if(l)return l;let u=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe(J(f=>ba(f)),bi(()=>this._inProgressUrlFetches.delete(c)),Av());return this._inProgressUrlFetches.set(c,u),u}_addSvgIconConfig(t,r,s){return this._svgIconConfigs.set(ob(t,r),s),this}_addSvgIconSetConfig(t,r){let s=this._iconSetConfigs.get(t);return s?s.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](r,t);if(o)return oD(o)?new ai(o.url,null,o.options):new ai(o,null)}}};e.\u0275fac=function(r){return new(r||e)(k(md,8),k(Id),k(te,8),k(cr))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function kl(n){return n.cloneNode(!0)}function ob(n,e){return n+":"+e}function oD(n){return!!(n.url&&n.options)}var aD=new Y("MAT_ICON_DEFAULT_OPTIONS"),cD=new Y("mat-icon-location",{providedIn:"root",factory:lD});function lD(){let n=U(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var ab=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],uD=ab.map(n=>`[${n}]`).join(", "),hD=/^url\(['"]?#(.*?)['"]?\)$/,Li=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,s,o,c,l){this._elementRef=t,this._iconRegistry=r,this._location=o,this._errorHandler=c,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=zt.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=t.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>t.classList.remove(s)),r.forEach(s=>t.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((s,o)=>{s.forEach(c=>{o.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(uD),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)ab.forEach(c=>{let l=r[o],u=l.getAttribute(c),f=u?u.match(hD):null;if(f){let p=s.get(l);p||(p=[],s.set(l,p)),p.push({name:c,value:f[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,s]=this._splitIconName(t);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(Ft(1)).subscribe(o=>this._setSvgElement(o),o=>{let c=`Error retrieving icon ${r}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(c))})}}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(sD),nd("aria-hidden"),N(cD),N(cr),N(aD,8))},e.\u0275cmp=ae({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(Vt("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Fe(s.color?"mat-"+s.color:""),At("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ln],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Fn,ce],ngContentSelectors:nD,decls:1,vars:0,template:function(r,s){r&1&&($t(),lt(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=e;return n})(),ji=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[An,An]});let n=e;return n})();var qt=function(n){return n[n.Square=1]="Square",n[n.Circle=2]="Circle",n}(qt||{});var Un=(()=>{let e=class e{setup(t){this.canvasEle=t;let r=this.canvasEle.nativeElement;r.width=window.innerWidth*devicePixelRatio,r.height=window.innerHeight*devicePixelRatio,this.context=r.getContext("2d"),this.context.scale(devicePixelRatio,devicePixelRatio)}drawObject(t,r,s=1){t.fillStyle=r.color,t.beginPath(),r.shape===qt.Square?this.drawSquare(t,r,s):r.shape===qt.Circle&&this.drawCircle(t,r,s),t.closePath(),t.fill()}flash(t,r,s){let o=window.matchMedia("(pointer: coarse)").matches,c=this.canvasEle.nativeElement.classList,l=this.canvasEle.nativeElement.style;l.backgroundColor=r,!o&&s&&c.toggle(s),setTimeout(()=>{l.backgroundColor="",!o&&s&&c.toggle(s)},t)}drawSquare(t,r,s){let o=r.x-r.size/2,c=r.y-r.size/2,l=r.size*s,u=l/3;t.beginPath(),t.moveTo(o+u,c),t.lineTo(o+l-u,c),t.quadraticCurveTo(o+l,c,o+l,c+u),t.lineTo(o+l,c+l-u),t.quadraticCurveTo(o+l,c+l,o+l-u,c+l),t.lineTo(o+u,c+l),t.quadraticCurveTo(o,c+l,o,c+l-u),t.lineTo(o,c+u),t.quadraticCurveTo(o,c,o+u,c),t.closePath(),t.fill()}drawCircle(t,r,s){t.arc(r.x,r.y,r.size*s,0,2*Math.PI)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Ui=function(n){return n.Black="#0F172A",n.White="#F5F5F5",n.Gray="#4D4D4D",n.Red="#BA1A1A",n.Green="#54DF0E",n.Blue="#0055FF",n.Yellow="#FFC107",n}(Ui||{});var xf=()=>{let i=window.devicePixelRatio||1,t=window.innerWidth/800,r=window.innerHeight/600;return Math.min(t,r)*i},wr=n=>Math.round(xf()*n),Ia=(n,e)=>Math.round(n/xf()/window.devicePixelRatio*e),Ol=(n,e)=>Math.round(n/xf())*.2;var Jt=class{constructor(e,i,t,r,s){this.type=e,this.color=i,this.size=t,this.shape=r,this.speed=s}};var Rt=function(n){return n[n.Cursor=1]="Cursor",n[n.Pea=2]="Pea",n[n.Corn=3]="Corn",n[n.PowerUp=4]="PowerUp",n[n.Heart=5]="Heart",n[n.Particle=6]="Particle",n}(Rt||{});var Se=class{static cursor(){return{type:Rt.Cursor,color:Ui.White,size:wr(5),speed:0,shape:qt.Circle}}static pea(){let e=wr(7),i=Ia(e,2.5),t=Ol(e,.1);return{count:i,settings:new Jt(Rt.Pea,Ui.Green,e,qt.Circle,t)}}static corn(){let e=wr(12),i=Ia(e,3),t=Ol(e,.1);return{count:i,settings:new Jt(Rt.Corn,Ui.Yellow,e,qt.Square,t)}}static powerUp(){let e=wr(7),i=Ia(e,.5),t=wr(5);return{count:i,settings:new Jt(Rt.PowerUp,"#0055FF",e,qt.Circle,t)}}static heart(){let e=wr(7),i=Ia(e,.5),t=Ol(e,.1);return{count:i,settings:new Jt(Rt.Heart,Ui.Red,e,qt.Circle,t)}}};var Dt=function(n){return n[n.Default=1]="Default",n[n.Attract=2]="Attract",n[n.Repel=3]="Repel",n[n.Blue=4]="Blue",n[n.Slow=5]="Slow",n}(Dt||{});var Bn=class{constructor(e,i,t){this.x=e,this.y=i,this.type=t.type,this.size=t.size,this.color=t.color,this.shape=t.shape,this.deltaX=t.speed?(Math.random()-Math.random())*t.speed:0,this.deltaY=t.speed?(Math.random()-Math.random())*t.speed:0,this.behaviours=[Dt.Default],this.timestamp=new Date,this.destroyed=!1}get isPea(){return this.type===Rt.Pea}get isCorn(){return this.type===Rt.Corn}get isPowerUp(){return this.type===Rt.PowerUp}get isHeart(){return this.type===Rt.Heart}get isWithinViewport(){return this.x>=0&&this.x<=window.innerWidth&&this.y>=0&&this.y<=window.innerHeight}move(){this.x+=this.deltaX,this.y+=this.deltaY}applyForce(e,i){this[e]+=i}magnetise(e,i,t,r,s=!0){let o=Object.assign({},this);if(o.size=o.size*i,e.detectCollision(o)){let c=this.x-e.x,l=this.y-e.y,u=Math.sqrt(c*c+l*l);c/=u,l/=u,c*=t,l*=t,(!e.detectWallCollisionOnAxis("x",window.innerWidth)||!s)&&(r?e.applyForce("x",-c):e.applyForce("x",c)),(!e.detectWallCollisionOnAxis("y",window.innerHeight)||!s)&&(r?e.applyForce("y",-l):e.applyForce("y",l))}}detectCollision(e){return this.shape===qt.Square?this.detectRectCollision(e):this.detectCircleCollision(e)}detectRectCollision(e){let i=Math.abs(e.x-this.x),t=Math.abs(e.y-this.y),r=this.size/2;if(i>r+e.size||t>r+e.size)return!1;if(i<=r||t<=r)return!0;let s=i-r,o=t-r;return s*s+o*o<=e.size*e.size}detectCircleCollision(e){let i=e.x-this.x,t=e.y-this.y;return Math.sqrt(i*i+t*t)<=e.size+this.size+.1}handleWallCollisions(){this.detectWallCollisionOnAxis("x",window.innerWidth)&&this.handleWallCollisionOnAxis("x",window.innerWidth/2),this.detectWallCollisionOnAxis("y",window.innerHeight)&&this.handleWallCollisionOnAxis("y",window.innerHeight/2)}detectWallCollisionOnAxis(e,i){let t=this[e];return t+this.size/2>i||t-this.size/2<0}handleWallCollisionOnAxis(e,i){let t=Math.sign(this[`delta${e.toUpperCase()}`]),r=this[e];(r<i&&t===-1||r>i&&t===1)&&this.reverseDirection(e)}reverseDirection(e){this[`delta${e.toUpperCase()}`]*=-1}behaviourIncludes(e){return this.behaviours.includes(e)}toggleBehaviour(e){this.behaviourIncludes(e)?(this.behaviours=this.behaviours.filter(i=>i!==e),this.behaviours.length||(this.behaviours=[Dt.Default])):this.behaviours=[...this.behaviours,e]}};var br=class{constructor(e,i){this.objects=[],this.count=e,this.settings=i}createObjects(){for(let e=0;e<this.count;e++){let i=Math.random()*window.innerWidth,t=Math.random()*window.innerHeight,r=new Jt(this.settings.type,this.settings.color,this.settings.size,this.settings.shape,this.settings.speed);this.objects[e]=new Bn(i,t,r)}}editSettings(e,i,t){this.settings.size=e,this.settings.speed=i,this.count=Math.round(t)}setBehaviour(e){this.objects.forEach(i=>i.toggleBehaviour(e))}};var Nl=(()=>{let e=class e{constructor(t){this.canvasService=t,this.object=new Bn(0,0,Se.cursor()),this.invincible=!1,this.history=[],this.lastTouch=null,window.matchMedia("(pointer: coarse)").matches?this.handleTouch():this.handleMouse(),this.storeHistory()}updatePosition(t,r){let s=this.canvasService.context.canvas.getBoundingClientRect(),o=(t-s.left)/(s.right-s.left)*window.innerWidth,c=(r-s.top)/(s.bottom-s.top)*window.innerHeight;this.object.x=Math.min(Math.max(0,o),window.innerWidth),this.object.y=Math.min(Math.max(0,c),window.innerHeight)}handleMouse(){document.addEventListener("mousemove",t=>{this.updatePosition(t.clientX,t.clientY)})}handleTouch(){let t=s=>{if(s.touches.length>0){let o=s.touches[0],c=o.clientX,l=o.clientY;if(this.lastTouch){let u=c-this.lastTouch.x,f=l-this.lastTouch.y;this.object.x=Math.min(Math.max(0,this.object.x+u),window.innerWidth),this.object.y=Math.min(Math.max(0,this.object.y+f),window.innerHeight)}this.lastTouch={x:c,y:l},s.target===this.canvasService.context.canvas&&s.preventDefault()}},r=()=>{this.lastTouch=null};document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchstart",t,{passive:!1}),document.addEventListener("touchend",r),document.addEventListener("touchcancel",r)}storeHistory(){setInterval(()=>{this.history=this.history.slice(-40)},150)}draw(t,r){this.invincible&&this.trail(t,r),r.drawObject(t,this.object)}toggle(){this.canvasService.canvasEle.nativeElement.classList.toggle("cursor-none")}reset(){this.object.size=Se.cursor().size}setInvincibility(t){this.resetHistory(),this.invincible=t}blink(t,r,s){let o=(c,l)=>{setTimeout(()=>{this.object.color=c},l)};for(let c=0;c<r;c++)o(t,s*(2*c)),o(Se.cursor().color,s*(2*c+1))}resetHistory(){this.history=[]}trail(t,r){this.history.forEach(s=>{let o=new Jt(this.object.type,this.object.color,this.object.size,this.object.shape,0);t.globalAlpha=.25,r.drawObject(t,new Bn(s.x,s.y,o)),t.globalAlpha=1}),this.history.push({x:this.object.x,y:this.object.y})}};e.\u0275fac=function(r){return new(r||e)(k(Un))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Bi=class{constructor(){this.text="",this.subText=""}show(e,i,t){this.text=e,this.subText=i;let r=document.getElementsByClassName("TEXT")[0].classList;r.toggle("opacity-0"),setTimeout(()=>{r.toggle("opacity-0")},t)}};var Fl=(()=>{let e=class e{constructor(t){this.canvasService=t,this.particles=[],this.menuParticles=!1,this.showMenuParticles()}draw(t){this.particles.forEach(s=>{t.globalAlpha=.8,this.canvasService.drawObject(t,s,.25),s.deltaY=s.deltaY+.0025,s.move(),t.globalAlpha=1})}create(t,r=25,s=1){let o=new Date;for(let c=0;c<r;c++)if(this.particles.length<1500){let l=t.size*(Math.random()*.4+.6),u=new Jt(Rt.Particle,t.color,l,t.shape,s),f=new Bn(t.x,t.y,u);f.timestamp=new Date(o.getTime()+c*50),this.particles.push(f)}else return}decay(){let t=new Date().getTime();this.particles=this.particles.filter(r=>r.x>=0&&r.x<=window.innerWidth&&r.y>=0&&r.y<=window.innerHeight&&t-r.timestamp.getTime()<=2500)}showMenuParticles(){if(!this.menuParticles){this.menuParticles=!0;let t=new Bn(window.innerWidth/2,window.innerHeight/2,Se.corn().settings),r=setInterval(()=>{this.menuParticles?this.create(t,30,2):clearInterval(r)},500)}}hideMenuParticles(){this.menuParticles=!1}};e.\u0275fac=function(r){return new(r||e)(k(Un))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var hb=function(n){let e=[],i=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&t+1<n.length&&(n.charCodeAt(t+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++t)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},fD=function(n){let e=[],i=0,t=0;for(;i<n.length;){let r=n[i++];if(r<128)e[t++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[i++];e[t++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[i++],o=n[i++],c=n[i++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[t++]=String.fromCharCode(55296+(l>>10)),e[t++]=String.fromCharCode(56320+(l&1023))}else{let s=n[i++],o=n[i++];e[t++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,t=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,f=s>>2,p=(s&3)<<4|c>>4,g=(c&15)<<2|u>>6,T=u&63;l||(T=64,o||(g=64)),t.push(i[f],i[p],i[g],i[T])}return t.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):fD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let i=e?this.charToByteMapWebSafe_:this.charToByteMap_,t=[];for(let r=0;r<n.length;){let s=i[n.charAt(r++)],c=r<n.length?i[n.charAt(r)]:0;++r;let u=r<n.length?i[n.charAt(r)]:64;++r;let p=r<n.length?i[n.charAt(r)]:64;if(++r,s==null||c==null||u==null||p==null)throw new Of;let g=s<<2|c>>4;if(t.push(g),u!==64){let T=c<<4&240|u>>2;if(t.push(T),p!==64){let A=u<<6&192|p;t.push(A)}}}return t},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Of=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pD=function(n){let e=hb(n);return db.encodeByteArray(e,!0)},Ea=function(n){return pD(n).replace(/\./g,"")},Ff=function(n){try{return db.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gD=()=>mD().__FIREBASE_DEFAULTS__,_D=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},vD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Ff(n[1]);return e&&JSON.parse(e)},Ll=()=>{try{return gD()||_D()||vD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fb=n=>{var e,i;return(i=(e=Ll())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[n]},pb=n=>{let e=fb(n);if(!e)return;let i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let t=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),t]:[e.substring(0,i),t]},Vf=()=>{var n;return(n=Ll())===null||n===void 0?void 0:n.config},mb=n=>{var e;return(e=Ll())===null||e===void 0?void 0:e[`_${n}`]};var Vl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,t)=>{i?this.reject(i):this.resolve(t),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,t))}}};function gb(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},t=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${t}`,aud:t,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ea(JSON.stringify(i)),Ea(JSON.stringify(o)),""].join(".")}function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function yD(){var n;let e=(n=Ll())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vb(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wb(){return!yD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Lf(){try{return typeof indexedDB=="object"}catch{return!1}}function bb(){return new Promise((n,e)=>{try{let i=!0,t="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(t);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(t),n(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(i){e(i)}})}var wD="FirebaseError",fn=class n extends Error{constructor(e,i,t){super(i),this.code=e,this.customData=t,this.name=wD,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}},ci=class{constructor(e,i,t){this.service=e,this.serviceName=i,this.errors=t}create(e,...i){let t=i[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?bD(s,t):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new fn(r,c,t)}};function bD(n,e){return n.replace(ID,(i,t)=>{let r=e[t];return r!=null?String(r):`<${t}?>`})}var ID=/\{\$([^}]+)}/g;function Es(n,e){if(n===e)return!0;let i=Object.keys(n),t=Object.keys(e);for(let r of i){if(!t.includes(r))return!1;let s=n[r],o=e[r];if(ub(s)&&ub(o)){if(!Es(s,o))return!1}else if(s!==o)return!1}for(let r of t)if(!i.includes(r))return!1;return!0}function ub(n){return n!==null&&typeof n=="object"}function jf(n){let e=[];for(let[i,t]of Object.entries(n))Array.isArray(t)?t.forEach(r=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(t));return e.length?"&"+e.join("&"):""}function Ib(n,e){let i=new Nf(n,e);return i.subscribe.bind(i)}var Nf=class{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(t=>{this.error(t)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,t){let r;if(e===void 0&&i===void 0&&t===void 0)throw new Error("Missing Observer.");ED(e,["next","error","complete"])?r=e:r={next:e,error:i,complete:t},r.next===void 0&&(r.next=Mf),r.error===void 0&&(r.error=Mf),r.complete===void 0&&(r.complete=Mf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(t){typeof console<"u"&&console.error&&console.error(t)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ED(n,e){if(typeof n!="object"||n===null)return!1;for(let i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Mf(){}var WL=4*60*60*1e3;function Lt(n){return n&&n._delegate?n._delegate:n}var pn=class{constructor(e,i,t){this.name=e,this.instanceFactory=i,this.type=t,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ir="[DEFAULT]";var Uf=class{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){let t=new Vl;if(this.instancesDeferred.set(i,t),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&t.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;let t=this.normalizeInstanceIdentifier(e?.identifier),r=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CD(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(let[i,t]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let s=this.getOrInitializeService({instanceIdentifier:r});t.resolve(s)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return S(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:i={}}=e,t=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(t))throw Error(`${this.name}(${t}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:t,options:i});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);t===c&&o.resolve(r)}return r}onInit(e,i){var t;let r=this.normalizeInstanceIdentifier(i),s=(t=this.onInitCallbacks.get(r))!==null&&t!==void 0?t:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,i){let t=this.onInitCallbacks.get(i);if(t)for(let r of t)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let t=this.instances.get(e);if(!t&&this.component&&(t=this.component.instanceFactory(this.container,{instanceIdentifier:TD(e),options:i}),this.instances.set(e,t),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(t,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,t)}catch{}return t||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TD(n){return n===Ir?void 0:n}function CD(n){return n.instantiationMode==="EAGER"}var jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let i=new Uf(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}};var SD=[],de=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(de||{}),AD={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},RD=de.INFO,DD={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},PD=(n,e,...i)=>{if(e<n.logLevel)return;let t=new Date().toISOString(),r=DD[e];if(r)console[r](`[${t}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},zi=class{constructor(e){this.name=e,this._logLevel=RD,this._logHandler=PD,this._userLogHandler=null,SD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var kD=(n,e)=>e.some(i=>n instanceof i),Eb,Tb;function xD(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MD(){return Tb||(Tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Cb=new WeakMap,zf=new WeakMap,Sb=new WeakMap,Bf=new WeakMap,qf=new WeakMap;function OD(n){let e=new Promise((i,t)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{i(zn(n.result)),r()},o=()=>{t(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(i=>{i instanceof IDBCursor&&Cb.set(i,n)}).catch(()=>{}),qf.set(e,n),e}function ND(n){if(zf.has(n))return;let e=new Promise((i,t)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{i(),r()},o=()=>{t(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});zf.set(n,e)}var $f={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return zf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Sb.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zn(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ab(n){$f=n($f)}function FD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){let t=n.call(Ul(this),e,...i);return Sb.set(t,e.sort?e.sort():[e]),zn(t)}:MD().includes(n)?function(...e){return n.apply(Ul(this),e),zn(Cb.get(this))}:function(...e){return zn(n.apply(Ul(this),e))}}function VD(n){return typeof n=="function"?FD(n):(n instanceof IDBTransaction&&ND(n),kD(n,xD())?new Proxy(n,$f):n)}function zn(n){if(n instanceof IDBRequest)return OD(n);if(Bf.has(n))return Bf.get(n);let e=VD(n);return e!==n&&(Bf.set(n,e),qf.set(e,n)),e}var Ul=n=>qf.get(n);function Db(n,e,{blocked:i,upgrade:t,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),c=zn(o);return t&&o.addEventListener("upgradeneeded",l=>{t(zn(o.result),l.oldVersion,l.newVersion,zn(o.transaction),l)}),i&&o.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var LD=["get","getKey","getAll","getAllKeys","count"],jD=["put","add","delete","clear"],Wf=new Map;function Rb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wf.get(e))return Wf.get(e);let i=e.replace(/FromIndex$/,""),t=e!==i,r=jD.includes(i);if(!(i in(t?IDBIndex:IDBObjectStore).prototype)||!(r||LD.includes(i)))return;let s=function(o,...c){return S(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return t&&(u=u.index(c.shift())),(yield Promise.all([u[i](...c),r&&l.done]))[0]})};return Wf.set(e,s),s}Ab(n=>le(O({},n),{get:(e,i,t)=>Rb(e,i)||n.get(e,i,t),has:(e,i)=>!!Rb(e,i)||n.has(e,i)}));var Hf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UD(i)){let t=i.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(i=>i).join(" ")}};function UD(n){let e=n.getComponent();return e?.type==="VERSION"}var Kf="@firebase/app",Pb="0.10.6";var Er=new zi("@firebase/app"),BD="@firebase/app-compat",zD="@firebase/analytics-compat",$D="@firebase/analytics",qD="@firebase/app-check-compat",WD="@firebase/app-check",GD="@firebase/auth",HD="@firebase/auth-compat",KD="@firebase/database",YD="@firebase/database-compat",QD="@firebase/functions",XD="@firebase/functions-compat",JD="@firebase/installations",ZD="@firebase/installations-compat",eP="@firebase/messaging",tP="@firebase/messaging-compat",nP="@firebase/performance",iP="@firebase/performance-compat",rP="@firebase/remote-config",sP="@firebase/remote-config-compat",oP="@firebase/storage",aP="@firebase/storage-compat",cP="@firebase/firestore",lP="@firebase/vertexai-preview",uP="@firebase/firestore-compat",hP="firebase",dP="10.12.3";var Yf="[DEFAULT]",fP={[Kf]:"fire-core",[BD]:"fire-core-compat",[$D]:"fire-analytics",[zD]:"fire-analytics-compat",[WD]:"fire-app-check",[qD]:"fire-app-check-compat",[GD]:"fire-auth",[HD]:"fire-auth-compat",[KD]:"fire-rtdb",[YD]:"fire-rtdb-compat",[QD]:"fire-fn",[XD]:"fire-fn-compat",[JD]:"fire-iid",[ZD]:"fire-iid-compat",[eP]:"fire-fcm",[tP]:"fire-fcm-compat",[nP]:"fire-perf",[iP]:"fire-perf-compat",[rP]:"fire-rc",[sP]:"fire-rc-compat",[oP]:"fire-gcs",[aP]:"fire-gcs-compat",[cP]:"fire-fst",[uP]:"fire-fst-compat",[lP]:"fire-vertex","fire-js":"fire-js",[hP]:"fire-js-all"};var Ta=new Map,pP=new Map,Qf=new Map;function kb(n,e){try{n.container.addComponent(e)}catch(i){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function qi(n){let e=n.name;if(Qf.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,n);for(let i of Ta.values())kb(i,n);for(let i of pP.values())kb(i,n);return!0}function ep(n,e){let i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Ts(n){return n.settings!==void 0}var mP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new ci("app","Firebase",mP);var Xf=class{constructor(e,i,t){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=t,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}};var Cs=dP;function tp(n,e={}){let i=n;typeof e!="object"&&(e={name:e});let t=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},e),r=t.name;if(typeof r!="string"||!r)throw $i.create("bad-app-name",{appName:String(r)});if(i||(i=Vf()),!i)throw $i.create("no-options");let s=Ta.get(r);if(s){if(Es(i,s.options)&&Es(t,s.config))return s;throw $i.create("duplicate-app",{appName:r})}let o=new jl(r);for(let l of Qf.values())o.addComponent(l);let c=new Xf(i,t,o);return Ta.set(r,c),c}function Sa(n=Yf){let e=Ta.get(n);if(!e&&n===Yf&&Vf())return tp();if(!e)throw $i.create("no-app",{appName:n});return e}function Bl(){return Array.from(Ta.values())}function ht(n,e,i){var t;let r=(t=fP[n])!==null&&t!==void 0?t:n;i&&(r+=`-${i}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(c.join(" "));return}qi(new pn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var gP="firebase-heartbeat-database",_P=1,Ca="firebase-heartbeat-store",Gf=null;function Nb(){return Gf||(Gf=Db(gP,_P,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ca)}catch(i){console.warn(i)}}}}).catch(n=>{throw $i.create("idb-open",{originalErrorMessage:n.message})})),Gf}function vP(n){return S(this,null,function*(){try{let i=(yield Nb()).transaction(Ca),t=yield i.objectStore(Ca).get(Fb(n));return yield i.done,t}catch(e){if(e instanceof fn)Er.warn(e.message);else{let i=$i.create("idb-get",{originalErrorMessage:e?.message});Er.warn(i.message)}}})}function xb(n,e){return S(this,null,function*(){try{let t=(yield Nb()).transaction(Ca,"readwrite");yield t.objectStore(Ca).put(e,Fb(n)),yield t.done}catch(i){if(i instanceof fn)Er.warn(i.message);else{let t=$i.create("idb-set",{originalErrorMessage:i?.message});Er.warn(t.message)}}})}function Fb(n){return`${n.name}!${n.options.appId}`}var yP=1024,wP=30*24*60*60*1e3,Jf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new Zf(i),this._heartbeatsCachePromise=this._storage.read().then(t=>(this._heartbeatsCache=t,t))}triggerHeartbeat(){return S(this,null,function*(){var e,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Mb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=wP}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return S(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=Mb(),{heartbeatsToSend:t,unsentEntries:r}=bP(this._heartbeatsCache.heartbeats),s=Ea(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Mb(){return new Date().toISOString().substring(0,10)}function bP(n,e=yP){let i=[],t=n.slice();for(let r of n){let s=i.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Ob(i)>e){s.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),Ob(i)>e){i.pop();break}t=t.slice(1)}return{heartbeatsToSend:i,unsentEntries:t}}var Zf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return Lf()?bb().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield vP(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return S(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return S(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return xb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Ob(n){return Ea(JSON.stringify({version:2,heartbeats:n})).length}function IP(n){qi(new pn("platform-logger",e=>new Hf(e),"PRIVATE")),qi(new pn("heartbeat",e=>new Jf(e),"PRIVATE")),ht(Kf,Pb,n),ht(Kf,Pb,"esm2017"),ht("fire-js","")}IP("");var EP="firebase",TP="10.12.3";ht(EP,TP,"app");var As=new Zr("ANGULARFIRE2_VERSION");function ip(n,e,i){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===i);if(s.length===1)return s[0]}return i.container.getProvider(n).getImmediate({optional:!0})}var Ra=(n,e)=>{let i=e?[e]:Bl(),t=[];return i.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{t.includes(o)||t.push(o)})}),t},Aa=class{constructor(){return Ra(CP)}},CP="app-check";function Ss(){}var zl=class{zone;delegate;constructor(e,i=Ev){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,t){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,i,t)}},np=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss)),i.pipe(Ue({next:t,complete:t,error:t})).subscribe(e).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Da=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new zl(Zone.current)),this.insideAngular=i.run(()=>new zl(Zone.current,Iv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(t){return new(t||n)(k(ee))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $l(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function SP(n){return $l().ngZone.runOutsideAngular(()=>n())}function Tr(n){return $l().ngZone.run(()=>n())}function AP(n){return RP($l())(n)}function RP(n){return function(i){return i=i.lift(new np(n.ngZone)),i.pipe(Kh(n.outsideAngular),Hh(n.insideAngular))}}var DP=(n,e)=>function(){let t=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Tr(()=>n.apply(void 0,t))},Rn=(n,e)=>function(){let i,t=arguments;for(let s=0;s<arguments.length;s++)typeof t[s]=="function"&&(e&&(i||=Tr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ss,{},Ss,Ss))),t[s]=DP(t[s],i));let r=SP(()=>n.apply(this,t));if(!e)if(r instanceof vn){let s=$l();return r.pipe(Kh(s.outsideAngular),Hh(s.insideAngular))}else return Tr(()=>r);return r instanceof vn?r.pipe(AP):r instanceof Promise?Tr(()=>new Promise((s,o)=>r.then(c=>Tr(()=>s(c)),c=>Tr(()=>o(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:Tr(()=>r)};var Cr=class{constructor(e){return e}},Pa=class{constructor(){return Bl()}};function PP(n){return n&&n.length===1?n[0]:new Cr(Sa())}var rp=new Y("angularfire2._apps"),kP={provide:Cr,useFactory:PP,deps:[[new yn,rp]]},xP={provide:Pa,deps:[[new yn,rp]]};function MP(n){return(e,i)=>{let t=i.get(In);ht("angularfire",As.full,"core"),ht("angularfire",As.full,"app"),ht("angular",Hv.full,t.toString());let r=e.runOutsideAngular(()=>n(i));return new Cr(r)}}function Vb(n,...e){return wn([kP,xP,{provide:rp,useFactory:MP(n),multi:!0,deps:[ee,ct,Da,...e]}])}var Lb=Rn(tp,!0);function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Hb=Gb,Kb=new ci("auth","Firebase",Gb());var Hl=new zi("@firebase/auth");function NP(n,...e){Hl.logLevel<=de.WARN&&Hl.warn(`Auth (${Cs}): ${n}`,...e)}function Wl(n,...e){Hl.logLevel<=de.ERROR&&Hl.error(`Auth (${Cs}): ${n}`,...e)}function jb(n,...e){throw gp(n,...e)}function mp(n,...e){return gp(n,...e)}function Yb(n,e,i){let t=Object.assign(Object.assign({},Hb()),{[e]:i});return new ci("auth","Firebase",t).create(e,{appName:n.name})}function Gl(n){return Yb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(n,...e){if(typeof n!="string"){let i=e[0],t=[...e.slice(1)];return t[0]&&(t[0].appName=n.name),n._errorFactory.create(i,...t)}return Kb.create(n,...e)}function Ee(n,e,...i){if(!n)throw gp(e,...i)}function ka(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Wl(e),new Error(e)}function Kl(n,e){n||ka(e)}function FP(){return Ub()==="http:"||Ub()==="https:"}function Ub(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function VP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FP()||vb()||"connection"in navigator)?navigator.onLine:!0}function LP(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ar=class{constructor(e,i){this.shortDelay=e,this.longDelay=i,Kl(i>e,"Short delay should be less than long delay!"),this.isMobile=_b()||yb()}get(){return VP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function jP(n,e){Kl(n.emulator,"Emulator should always be set here");let{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}var Yl=class{static initialize(e,i,t){this.fetchImpl=e,i&&(this.headersImpl=i),t&&(this.responseImpl=t)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ka("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ka("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ka("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var UP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BP=new Ar(3e4,6e4);function Qb(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Zl(s,o,c,l){return S(this,arguments,function*(n,e,i,t,r={}){return Xb(n,r,()=>S(this,null,function*(){let u={},f={};t&&(e==="GET"?f=t:u={body:JSON.stringify(t)});let p=jf(Object.assign({key:n.config.apiKey},f)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),Yl.fetch()(Jb(n,n.config.apiHost,i,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},u))}))})}function Xb(n,e,i){return S(this,null,function*(){n._canInitEmulator=!1;let t=Object.assign(Object.assign({},UP),e);try{let r=new ap(n),s=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ql(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ql(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw ql(n,"user-disabled",o);let f=t[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yb(n,f,u);jb(n,f)}}catch(r){if(r instanceof fn)throw r;jb(n,"network-request-failed",{message:String(r)})}})}function Jb(n,e,i,t){let r=`${e}${i}?${t}`;return n.config.emulator?jP(n.config,r):`${n.config.apiScheme}://${r}`}var ap=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,t)=>{this.timer=setTimeout(()=>t(mp(this.auth,"network-request-failed")),BP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(n,e,i){let t={appName:n.name};i.email&&(t.email=i.email),i.phoneNumber&&(t.phoneNumber=i.phoneNumber);let r=mp(n,e,t);return r.customData._tokenResponse=i,r}function zP(n,e){return S(this,null,function*(){return Zl(n,"POST","/v1/accounts:delete",e)})}function Zb(n,e){return S(this,null,function*(){return Zl(n,"POST","/v1/accounts:lookup",e)})}function xa(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function _p(n,e=!1){return S(this,null,function*(){let i=Lt(n),t=yield i.getIdToken(e),r=e0(t);Ee(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:t,authTime:xa(sp(r.auth_time)),issuedAtTime:xa(sp(r.iat)),expirationTime:xa(sp(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function sp(n){return Number(n)*1e3}function e0(n){let[e,i,t]=n.split(".");if(e===void 0||i===void 0||t===void 0)return Wl("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ff(i);return r?JSON.parse(r):(Wl("Failed to decode base64 JWT payload"),null)}catch(r){return Wl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Bb(n){let e=e0(n);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function cp(n,e,i=!1){return S(this,null,function*(){if(i)return e;try{return yield e}catch(t){throw t instanceof fn&&$P(t)&&n.auth.currentUser===n&&(yield n.auth.signOut()),t}})}function $P({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var lp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){let t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let i=this.getInterval(e);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),i)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Oa=class{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xa(this.lastLoginAt),this.creationTime=xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ql(n){return S(this,null,function*(){var e;let i=n.auth,t=yield n.getIdToken(),r=yield cp(n,Zb(i,{idToken:t}));Ee(r?.users.length,i,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t0(s.providerUserInfo):[],c=qP(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,f=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Oa(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function vp(n){return S(this,null,function*(){let e=Lt(n);yield Ql(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function qP(n,e){return[...n.filter(t=>!e.some(r=>r.providerId===t.providerId)),...e]}function t0(n){return n.map(e=>{var{providerId:i}=e,t=Gh(e,["providerId"]);return{providerId:i,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}})}function WP(n,e){return S(this,null,function*(){let i=yield Xb(n,{},()=>S(this,null,function*(){let t=jf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=Jb(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Yl.fetch()(o,{method:"POST",headers:c,body:t})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function GP(n,e){return S(this,null,function*(){return Zl(n,"POST","/v2/accounts:revokeToken",Qb(n,e))})}var Ma=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let i=Bb(e);this.updateTokensAndExpiration(e,null,i)}getToken(e,i=!1){return S(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,i){return S(this,null,function*(){let{accessToken:t,refreshToken:r,expiresIn:s}=yield WP(e,i);this.updateTokensAndExpiration(t,r,Number(s))})}updateTokensAndExpiration(e,i,t){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+t*1e3}static fromJSON(e,i){let{refreshToken:t,accessToken:r,expirationTime:s}=i,o=new n;return t&&(Ee(typeof t=="string","internal-error",{appName:e}),o.refreshToken=t),r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ka("not implemented")}};function Wi(n,e){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Na=class n{constructor(e){var{uid:i,auth:t,stsTokenManager:r}=e,s=Gh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Oa(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return S(this,null,function*(){let i=yield cp(this,this.stsTokenManager.getToken(this.auth,e));return Ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(e){return _p(this,e)}reload(){return vp(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let i=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,i=!1){return S(this,null,function*(){let t=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),t=!0),i&&(yield Ql(this)),yield this.auth._persistUserIfCurrent(this),t&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Ts(this.auth.app))return Promise.reject(Gl(this.auth));let e=yield this.getIdToken();return yield cp(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var t,r,s,o,c,l,u,f;let p=(t=i.displayName)!==null&&t!==void 0?t:void 0,g=(r=i.email)!==null&&r!==void 0?r:void 0,T=(s=i.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=i.photoURL)!==null&&o!==void 0?o:void 0,M=(c=i.tenantId)!==null&&c!==void 0?c:void 0,D=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,L=(u=i.createdAt)!==null&&u!==void 0?u:void 0,W=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:B,emailVerified:z,isAnonymous:he,providerData:H,stsTokenManager:E}=i;Ee(B&&E,e,"internal-error");let y=Ma.fromJSON(this.name,E);Ee(typeof B=="string",e,"internal-error"),Wi(p,e.name),Wi(g,e.name),Ee(typeof z=="boolean",e,"internal-error"),Ee(typeof he=="boolean",e,"internal-error"),Wi(T,e.name),Wi(A,e.name),Wi(M,e.name),Wi(D,e.name),Wi(L,e.name),Wi(W,e.name);let _=new n({uid:B,auth:e,email:g,emailVerified:z,displayName:p,isAnonymous:he,photoURL:A,phoneNumber:T,tenantId:M,stsTokenManager:y,createdAt:L,lastLoginAt:W});return H&&Array.isArray(H)&&(_.providerData=H.map(v=>Object.assign({},v))),D&&(_._redirectEventId=D),_}static _fromIdTokenResponse(e,i,t=!1){return S(this,null,function*(){let r=new Ma;r.updateFromServerResponse(i);let s=new n({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:t});return yield Ql(s),s})}static _fromGetAccountInfoResponse(e,i,t){return S(this,null,function*(){let r=i.users[0];Ee(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?t0(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new Ma;c.updateFromIdToken(t);let l=new n({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Oa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var zb=new Map;function Sr(n){Kl(n instanceof Function,"Expected a class definition");let e=zb.get(n);return e?(Kl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zb.set(n,e),e)}var HP=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(i,t){return S(this,null,function*(){this.storage[i]=t})}_get(i){return S(this,null,function*(){let t=this.storage[i];return t===void 0?null:t})}_remove(i){return S(this,null,function*(){delete this.storage[i]})}_addListener(i,t){}_removeListener(i,t){}}return n.type="NONE",n})(),up=HP;function op(n,e,i){return`firebase:${n}:${e}:${i}`}var Xl=class n{constructor(e,i,t){this.persistence=e,this.auth=i,this.userKey=t;let{config:r,name:s}=this.auth;this.fullUserKey=op(this.userKey,r.apiKey,s),this.fullPersistenceKey=op("persistence",r.apiKey,s),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return S(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Na._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return S(this,null,function*(){if(this.persistence===e)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,i,t="authUser"){return S(this,null,function*(){if(!i.length)return new n(Sr(up),e,t);let r=(yield Promise.all(i.map(u=>S(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Sr(up),o=op(t,e.config.apiKey,e.name),c=null;for(let u of i)try{let f=yield u._get(o);if(f){let p=Na._fromJSON(e,f);u!==s&&(c=p),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,t):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(i.map(u=>S(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,t))})}};function $b(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZP(e))return"Blackberry";if(ek(e))return"Webos";if(YP(e))return"Safari";if((e.includes("chrome/")||QP(e))&&!e.includes("edge/"))return"Chrome";if(JP(e))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,t=n.match(i);if(t?.length===2)return t[1]}return"Other"}function KP(n=Zt()){return/firefox\//i.test(n)}function YP(n=Zt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QP(n=Zt()){return/crios\//i.test(n)}function XP(n=Zt()){return/iemobile/i.test(n)}function JP(n=Zt()){return/android/i.test(n)}function ZP(n=Zt()){return/blackberry/i.test(n)}function ek(n=Zt()){return/webos/i.test(n)}function n0(n,e=[]){let i;switch(n){case"Browser":i=$b(Zt());break;case"Worker":i=`${$b(Zt())}-${n}`;break;default:i=n}let t=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Cs}/${t}`}var hp=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){let t=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});t.onAbort=i,this.queue.push(t);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return S(this,null,function*(){if(this.auth.currentUser===e)return;let i=[];try{for(let t of this.queue)yield t(e),t.onAbort&&i.push(t.onAbort)}catch(t){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:t?.message})}})}};function tk(i){return S(this,arguments,function*(n,e={}){return Zl(n,"GET","/v2/passwordPolicy",Qb(n,e))})}var nk=6,dp=class{constructor(e){var i,t,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=o.minPasswordLength)!==null&&i!==void 0?i:nk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(t=e.allowedNonAlphanumericCharacters)===null||t===void 0?void 0:t.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,t,r,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(t=l.meetsMaxPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,i){let t=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;t&&(i.meetsMinPasswordLength=e.length>=t),r&&(i.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let t;for(let r=0;r<e.length;r++)t=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,t>="a"&&t<="z",t>="A"&&t<="Z",t>="0"&&t<="9",this.allowedNonAlphanumericCharacters.includes(t))}updatePasswordCharacterOptionsStatuses(e,i,t,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=t)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var fp=class{constructor(e,i,t,r){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jl(this),this.idTokenSubscription=new Jl(this),this.beforeStateQueue=new hp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Sr(i)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var t,r;if(!this._deleted&&(this.persistenceManager=yield Xl.create(this,e),!this._deleted)){if(!((t=this._popupRedirectResolver)===null||t===void 0)&&t._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return S(this,null,function*(){try{let i=yield Zb(this,{idToken:e}),t=yield Na._fromGetAccountInfoResponse(this,i,e);yield this.directlySetCurrentUser(t)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return S(this,null,function*(){var i;if(Ts(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let t=yield this.assertedPersistence.getCurrentUser(),r=t,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return S(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(e){return S(this,null,function*(){try{yield Ql(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=LP()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return S(this,null,function*(){if(Ts(this.app))return Promise.reject(Gl(this));let i=e?Lt(e):null;return i&&Ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(e,i=!1){return S(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Ts(this.app)?Promise.reject(Gl(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ts(this.app)?Promise.reject(Gl(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(Sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let e=yield tk(this),i=new dp(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,i,t){return this.registerStateListener(this.authStateSubscription,e,i,t)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,t){return this.registerStateListener(this.idTokenSubscription,e,i,t)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{let t=this.onAuthStateChanged(()=>{t(),e()},i)}})}revokeAccessToken(e){return S(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(t.tenantId=this.tenantId),yield GP(this,t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,i){return S(this,null,function*(){let t=yield this.getOrInitRedirectPersistenceManager(i);return e===null?t.removeCurrentUser():t.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return S(this,null,function*(){if(!this.redirectPersistenceManager){let i=e&&Sr(e)||this._popupRedirectResolver;Ee(i,this,"argument-error"),this.redirectPersistenceManager=yield Xl.create(this,[Sr(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return S(this,null,function*(){var i,t;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return S(this,null,function*(){if(e===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,t,r){if(this._deleted)return()=>{};let s=typeof i=="function"?i:i.next.bind(i),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof i=="function"){let l=e.addObserver(i,t,r);return()=>{o=!0,l()}}else{let l=e.addObserver(i);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return S(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=n0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var e;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let t=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();t&&(i["X-Firebase-Client"]=t);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return S(this,null,function*(){var e;let i=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return i?.error&&NP(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function ik(n){return Lt(n)}var Jl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ib(i=>this.observer=i)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var rk={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){rk=n}function ok(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ak(n,e){let i=e?.persistence||[],t=(Array.isArray(i)?i:[i]).map(Sr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(t,e?.popupRedirectResolver)}var zj=ok("rcb"),$j=new Ar(3e4,6e4);var qj=new Ar(2e3,1e4);var Wj=10*60*1e3;var Gj=new Ar(3e4,6e4);var Hj=new Ar(5e3,15e3);var Kj=encodeURIComponent("fac");var qb="@firebase/auth",Wb="1.7.5";var pp=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let i=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ck(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lk(n){qi(new pn("auth",(e,{options:i})=>{let t=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=t.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:t.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n0(n)},u=new fp(t,r,s,l);return ak(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,t)=>{e.getProvider("auth-internal").initialize()})),qi(new pn("auth-internal",e=>{let i=ik(e.getProvider("auth").getImmediate());return(t=>new pp(t))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ht(qb,Wb,ck(n)),ht(qb,Wb,"esm2017")}var uk=5*60,Yj=mb("authIdTokenMaxAge")||uk;function hk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}sk({loadJS(n){return new Promise((e,i)=>{let t=document.createElement("script");t.setAttribute("src",n),t.onload=e,t.onerror=r=>{let s=mp("internal-error");s.customData=r,i(s)},t.type="text/javascript",t.charset="UTF-8",hk().appendChild(t)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lk("Browser");var ux="auth";var eu=class{constructor(){return Ra(ux)}};var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r0={};var Gi,yp;(function(){var n;function e(E,y){function _(){}_.prototype=y.prototype,E.D=y.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(v,b,I){for(var w=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)w[Xe-2]=arguments[Xe];return y.prototype[b].apply(v,w)}}function i(){this.blockSize=-1}function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(t,i),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,y,_){_||(_=0);var v=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)v[b]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(b=0;16>b;++b)v[b]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=E.g[0],_=E.g[1],b=E.g[2];var I=E.g[3],w=y+(I^_&(b^I))+v[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=I+(b^y&(_^b))+v[1]+3905402710&4294967295,I=y+(w<<12&4294967295|w>>>20),w=b+(_^I&(y^_))+v[2]+606105819&4294967295,b=I+(w<<17&4294967295|w>>>15),w=_+(y^b&(I^y))+v[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(I^_&(b^I))+v[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=I+(b^y&(_^b))+v[5]+1200080426&4294967295,I=y+(w<<12&4294967295|w>>>20),w=b+(_^I&(y^_))+v[6]+2821735955&4294967295,b=I+(w<<17&4294967295|w>>>15),w=_+(y^b&(I^y))+v[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(I^_&(b^I))+v[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=I+(b^y&(_^b))+v[9]+2336552879&4294967295,I=y+(w<<12&4294967295|w>>>20),w=b+(_^I&(y^_))+v[10]+4294925233&4294967295,b=I+(w<<17&4294967295|w>>>15),w=_+(y^b&(I^y))+v[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(I^_&(b^I))+v[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=I+(b^y&(_^b))+v[13]+4254626195&4294967295,I=y+(w<<12&4294967295|w>>>20),w=b+(_^I&(y^_))+v[14]+2792965006&4294967295,b=I+(w<<17&4294967295|w>>>15),w=_+(y^b&(I^y))+v[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(b^I&(_^b))+v[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=I+(_^b&(y^_))+v[6]+3225465664&4294967295,I=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(I^y))+v[11]+643717713&4294967295,b=I+(w<<14&4294967295|w>>>18),w=_+(I^y&(b^I))+v[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^I&(_^b))+v[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=I+(_^b&(y^_))+v[10]+38016083&4294967295,I=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(I^y))+v[15]+3634488961&4294967295,b=I+(w<<14&4294967295|w>>>18),w=_+(I^y&(b^I))+v[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^I&(_^b))+v[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=I+(_^b&(y^_))+v[14]+3275163606&4294967295,I=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(I^y))+v[3]+4107603335&4294967295,b=I+(w<<14&4294967295|w>>>18),w=_+(I^y&(b^I))+v[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^I&(_^b))+v[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=I+(_^b&(y^_))+v[2]+4243563512&4294967295,I=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(I^y))+v[7]+1735328473&4294967295,b=I+(w<<14&4294967295|w>>>18),w=_+(I^y&(b^I))+v[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(_^b^I)+v[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=I+(y^_^b)+v[8]+2272392833&4294967295,I=y+(w<<11&4294967295|w>>>21),w=b+(I^y^_)+v[11]+1839030562&4294967295,b=I+(w<<16&4294967295|w>>>16),w=_+(b^I^y)+v[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^I)+v[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=I+(y^_^b)+v[4]+1272893353&4294967295,I=y+(w<<11&4294967295|w>>>21),w=b+(I^y^_)+v[7]+4139469664&4294967295,b=I+(w<<16&4294967295|w>>>16),w=_+(b^I^y)+v[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^I)+v[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=I+(y^_^b)+v[0]+3936430074&4294967295,I=y+(w<<11&4294967295|w>>>21),w=b+(I^y^_)+v[3]+3572445317&4294967295,b=I+(w<<16&4294967295|w>>>16),w=_+(b^I^y)+v[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^I)+v[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=I+(y^_^b)+v[12]+3873151461&4294967295,I=y+(w<<11&4294967295|w>>>21),w=b+(I^y^_)+v[15]+530742520&4294967295,b=I+(w<<16&4294967295|w>>>16),w=_+(b^I^y)+v[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(b^(_|~I))+v[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=I+(_^(y|~b))+v[7]+1126891415&4294967295,I=y+(w<<10&4294967295|w>>>22),w=b+(y^(I|~_))+v[14]+2878612391&4294967295,b=I+(w<<15&4294967295|w>>>17),w=_+(I^(b|~y))+v[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~I))+v[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=I+(_^(y|~b))+v[3]+2399980690&4294967295,I=y+(w<<10&4294967295|w>>>22),w=b+(y^(I|~_))+v[10]+4293915773&4294967295,b=I+(w<<15&4294967295|w>>>17),w=_+(I^(b|~y))+v[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~I))+v[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=I+(_^(y|~b))+v[15]+4264355552&4294967295,I=y+(w<<10&4294967295|w>>>22),w=b+(y^(I|~_))+v[6]+2734768916&4294967295,b=I+(w<<15&4294967295|w>>>17),w=_+(I^(b|~y))+v[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~I))+v[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=I+(_^(y|~b))+v[11]+3174756917&4294967295,I=y+(w<<10&4294967295|w>>>22),w=b+(y^(I|~_))+v[2]+718787259&4294967295,b=I+(w<<15&4294967295|w>>>17),w=_+(I^(b|~y))+v[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+I&4294967295}t.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var _=y-this.blockSize,v=this.B,b=this.h,I=0;I<y;){if(b==0)for(;I<=_;)r(this,E,I),I+=this.blockSize;if(typeof E=="string"){for(;I<y;)if(v[b++]=E.charCodeAt(I++),b==this.blockSize){r(this,v),b=0;break}}else for(;I<y;)if(v[b++]=E[I++],b==this.blockSize){r(this,v),b=0;break}}this.h=b,this.o+=y},t.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var _=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=_&255,_/=256;for(this.u(E),E=Array(16),y=_=0;4>y;++y)for(var v=0;32>v;v+=8)E[_++]=this.g[y]>>>v&255;return E};function s(E,y){var _=c;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=y(E)}function o(E,y){this.h=y;for(var _=[],v=!0,b=E.length-1;0<=b;b--){var I=E[b]|0;v&&I==y||(_[b]=I,v=!1)}this.g=_}var c={};function l(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return D(u(-E));for(var y=[],_=1,v=0;E>=_;v++)y[v]=E/_|0,_*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return D(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=u(Math.pow(y,8)),v=p,b=0;b<E.length;b+=8){var I=Math.min(8,E.length-b),w=parseInt(E.substring(b,b+I),y);8>I?(I=u(Math.pow(y,I)),v=v.j(I).add(u(w))):(v=v.j(_),v=v.add(u(w)))}return v}var p=l(0),g=l(1),T=l(16777216);n=o.prototype,n.m=function(){if(M(this))return-D(this).m();for(var E=0,y=1,_=0;_<this.g.length;_++){var v=this.i(_);E+=(0<=v?v:4294967296+v)*y,y*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(M(this))return"-"+D(this).toString(E);for(var y=u(Math.pow(E,6)),_=this,v="";;){var b=z(_,y).g;_=L(_,b.j(y));var I=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=b,A(_))return I+v;for(;6>I.length;)I="0"+I;v=I+v}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=L(this,E),M(E)?-1:A(E)?0:1};function D(E){for(var y=E.g.length,_=[],v=0;v<y;v++)_[v]=~E.g[v];return new o(_,~E.h).add(g)}n.abs=function(){return M(this)?D(this):this},n.add=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],v=0,b=0;b<=y;b++){var I=v+(this.i(b)&65535)+(E.i(b)&65535),w=(I>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);v=w>>>16,I&=65535,w&=65535,_[b]=w<<16|I}return new o(_,_[_.length-1]&-2147483648?-1:0)};function L(E,y){return E.add(D(y))}n.j=function(E){if(A(this)||A(E))return p;if(M(this))return M(E)?D(this).j(D(E)):D(D(this).j(E));if(M(E))return D(this.j(D(E)));if(0>this.l(T)&&0>E.l(T))return u(this.m()*E.m());for(var y=this.g.length+E.g.length,_=[],v=0;v<2*y;v++)_[v]=0;for(v=0;v<this.g.length;v++)for(var b=0;b<E.g.length;b++){var I=this.i(v)>>>16,w=this.i(v)&65535,Xe=E.i(b)>>>16,Ut=E.i(b)&65535;_[2*v+2*b]+=w*Ut,W(_,2*v+2*b),_[2*v+2*b+1]+=I*Ut,W(_,2*v+2*b+1),_[2*v+2*b+1]+=w*Xe,W(_,2*v+2*b+1),_[2*v+2*b+2]+=I*Xe,W(_,2*v+2*b+2)}for(v=0;v<y;v++)_[v]=_[2*v+1]<<16|_[2*v];for(v=y;v<2*y;v++)_[v]=0;return new o(_,0)};function W(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function B(E,y){this.g=E,this.h=y}function z(E,y){if(A(y))throw Error("division by zero");if(A(E))return new B(p,p);if(M(E))return y=z(D(E),y),new B(D(y.g),D(y.h));if(M(y))return y=z(E,D(y)),new B(D(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var _=g,v=y;0>=v.l(E);)_=he(_),v=he(v);var b=H(_,1),I=H(v,1);for(v=H(v,2),_=H(_,2);!A(v);){var w=I.add(v);0>=w.l(E)&&(b=b.add(_),I=w),v=H(v,1),_=H(_,1)}return y=L(E,b.j(y)),new B(b,y)}for(b=p;0<=E.l(y);){for(_=Math.max(1,Math.floor(E.m()/y.m())),v=Math.ceil(Math.log(_)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),I=u(_),w=I.j(y);M(w)||0<w.l(E);)_-=v,I=u(_),w=I.j(y);A(I)&&(I=g),b=b.add(I),E=L(E,w)}return new B(b,E)}n.A=function(E){return z(this,E).h},n.and=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],v=0;v<y;v++)_[v]=this.i(v)&E.i(v);return new o(_,this.h&E.h)},n.or=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],v=0;v<y;v++)_[v]=this.i(v)|E.i(v);return new o(_,this.h|E.h)},n.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),_=[],v=0;v<y;v++)_[v]=this.i(v)^E.i(v);return new o(_,this.h^E.h)};function he(E){for(var y=E.g.length+1,_=[],v=0;v<y;v++)_[v]=E.i(v)<<1|E.i(v-1)>>>31;return new o(_,E.h)}function H(E,y){var _=y>>5;y%=32;for(var v=E.g.length-_,b=[],I=0;I<v;I++)b[I]=0<y?E.i(I+_)>>>y|E.i(I+_+1)<<32-y:E.i(I+_);return new o(b,E.h)}t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,yp=r0.Md5=t,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Gi=r0.Integer=o}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},li={};var wp,bp,Rs,Ip,Fa,nu,Ep,Tp,Cp;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof tu=="object"&&tu];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var t=i(this);function r(a,h){if(h)e:{var d=t;a=a.split(".");for(var m=0;m<a.length-1;m++){var C=a[m];if(!(C in d))break e;d=d[C]}a=a[a.length-1],m=d[a],h=h(m),h!=m&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var d=0,m=!1,C={next:function(){if(!m&&d<a.length){var R=d++;return{value:h(R,a[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(a){return a||function(){return s(this,function(h,d){return d})}});var o=o||{},c=this||self;function l(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),a.apply(h,C)}}return function(){return a.apply(h,arguments)}}function g(a,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function T(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function A(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(m,C,R){for(var V=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)V[ke-2]=arguments[ke];return h.prototype[C].apply(m,V)}}function M(a){let h=a.length;if(0<h){let d=Array(h);for(let m=0;m<h;m++)d[m]=a[m];return d}return[]}function D(a,h){for(let d=1;d<arguments.length;d++){let m=arguments[d];if(l(m)){let C=a.length||0,R=m.length||0;a.length=C+R;for(let V=0;V<R;V++)a[C+V]=m[V]}else a.push(m)}}class L{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function W(a){return/^[\s\xa0]*$/.test(a)}function B(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function z(a){return z[" "](a),a}z[" "]=function(){};var he=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function H(a,h,d){for(let m in a)h.call(d,a[m],m,a)}function E(a,h){for(let d in a)h.call(void 0,a[d],d,a)}function y(a){let h={};for(let d in a)h[d]=a[d];return h}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(a,h){let d,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(d in m)a[d]=m[d];for(let R=0;R<_.length;R++)d=_[R],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function b(a){var h=1;a=a.split(":");let d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function I(a){c.setTimeout(()=>{throw a},0)}function w(){var a=er;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class Xe{constructor(){this.h=this.g=null}add(h,d){let m=Ut.get();m.set(h,d),this.h?this.h.next=m:this.g=m,this.h=m}}var Ut=new L(()=>new Qn,a=>a.reset());class Qn{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,kn=!1,er=new Xe,pi=()=>{let a=c.Promise.resolve(void 0);Wt=()=>{a.then(rn)}};var rn=()=>{for(var a;a=w();){try{a.h.call(a.g)}catch(d){I(d)}var h=Ut;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}kn=!1};function Je(){this.s=this.s,this.C=this.C}Je.prototype.s=!1,Je.prototype.ma=function(){this.s||(this.s=!0,this.N())},Je.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var sn=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let d=()=>{};c.addEventListener("test",d,h),c.removeEventListener("test",d,h)}catch{}return a}();function qe(a,h){if(Pe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(he){e:{try{z(h.nodeName);var C=!0;break e}catch{}C=!1}C||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ze[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&qe.aa.h.call(this)}}A(qe,Pe);var Ze={2:"touch",3:"pen",4:"mouse"};qe.prototype.h=function(){qe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),xn=0;function Mn(a,h,d,m,C){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!m,this.ha=C,this.key=++xn,this.da=this.fa=!1}function Bt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ae(a){this.src=a,this.g={},this.h=0}Ae.prototype.add=function(a,h,d,m,C){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var V=ut(a,h,m,C);return-1<V?(h=a[V],d||(h.fa=!1)):(h=new Mn(h,this.src,R,!!m,C),h.fa=d,a.push(h)),h};function ge(a,h){var d=h.type;if(d in a.g){var m=a.g[d],C=Array.prototype.indexOf.call(m,h,void 0),R;(R=0<=C)&&Array.prototype.splice.call(m,C,1),R&&(Bt(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ut(a,h,d,m){for(var C=0;C<a.length;++C){var R=a[C];if(!R.da&&R.listener==h&&R.capture==!!d&&R.ha==m)return C}return-1}var on="closure_lm_"+(1e6*Math.random()|0),$r={};function b_(a,h,d,m,C){if(m&&m.once)return E_(a,h,d,m,C);if(Array.isArray(h)){for(var R=0;R<h.length;R++)b_(a,h[R],d,m,C);return null}return d=Sh(d),a&&a[at]?a.K(h,d,u(m)?!!m.capture:!!m,C):I_(a,h,d,!1,m,C)}function I_(a,h,d,m,C,R){if(!h)throw Error("Invalid event type");var V=u(C)?!!C.capture:!!C,ke=Th(a);if(ke||(a[on]=ke=new Ae(a)),d=ke.add(h,d,m,V,R),d.proxy)return d;if(m=mT(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)sn||(C=V),C===void 0&&(C=!1),a.addEventListener(h.toString(),m,C);else if(a.attachEvent)a.attachEvent(C_(h.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function mT(){function a(d){return h.call(a.src,a.listener,d)}let h=gT;return a}function E_(a,h,d,m,C){if(Array.isArray(h)){for(var R=0;R<h.length;R++)E_(a,h[R],d,m,C);return null}return d=Sh(d),a&&a[at]?a.L(h,d,u(m)?!!m.capture:!!m,C):I_(a,h,d,!0,m,C)}function T_(a,h,d,m,C){if(Array.isArray(h))for(var R=0;R<h.length;R++)T_(a,h[R],d,m,C);else m=u(m)?!!m.capture:!!m,d=Sh(d),a&&a[at]?(a=a.i,h=String(h).toString(),h in a.g&&(R=a.g[h],d=ut(R,d,m,C),-1<d&&(Bt(R[d]),Array.prototype.splice.call(R,d,1),R.length==0&&(delete a.g[h],a.h--)))):a&&(a=Th(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ut(h,d,m,C)),(d=-1<a?h[a]:null)&&Eh(d))}function Eh(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[at])ge(h.i,a);else{var d=a.type,m=a.proxy;h.removeEventListener?h.removeEventListener(d,m,a.capture):h.detachEvent?h.detachEvent(C_(d),m):h.addListener&&h.removeListener&&h.removeListener(m),(d=Th(h))?(ge(d,a),d.h==0&&(d.src=null,h[on]=null)):Bt(a)}}}function C_(a){return a in $r?$r[a]:$r[a]="on"+a}function gT(a,h){if(a.da)a=!0;else{h=new qe(h,this);var d=a.listener,m=a.ha||a.src;a.fa&&Eh(a),a=d.call(m,h)}return a}function Th(a){return a=a[on],a instanceof Ae?a:null}var Ch="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sh(a){return typeof a=="function"?a:(a[Ch]||(a[Ch]=function(h){return a.handleEvent(h)}),a[Ch])}function It(){Je.call(this),this.i=new Ae(this),this.M=this,this.F=null}A(It,Je),It.prototype[at]=!0,It.prototype.removeEventListener=function(a,h,d,m){T_(this,a,h,d,m)};function Mt(a,h){var d,m=a.F;if(m)for(d=[];m;m=m.F)d.push(m);if(a=a.M,m=h.type||h,typeof h=="string")h=new Pe(h,a);else if(h instanceof Pe)h.target=h.target||a;else{var C=h;h=new Pe(m,a),v(h,C)}if(C=!0,d)for(var R=d.length-1;0<=R;R--){var V=h.g=d[R];C=dc(V,m,!0,h)&&C}if(V=h.g=a,C=dc(V,m,!0,h)&&C,C=dc(V,m,!1,h)&&C,d)for(R=0;R<d.length;R++)V=h.g=d[R],C=dc(V,m,!1,h)&&C}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],m=0;m<d.length;m++)Bt(d[m]);delete a.g[h],a.h--}}this.F=null},It.prototype.K=function(a,h,d,m){return this.i.add(String(a),h,!1,d,m)},It.prototype.L=function(a,h,d,m){return this.i.add(String(a),h,!0,d,m)};function dc(a,h,d,m){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var C=!0,R=0;R<h.length;++R){var V=h[R];if(V&&!V.da&&V.capture==d){var ke=V.listener,ft=V.ha||V.src;V.fa&&ge(a.i,V),C=ke.call(ft,m)!==!1&&C}}return C&&!m.defaultPrevented}function S_(a,h,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:c.setTimeout(a,h||0)}function A_(a){a.g=S_(()=>{a.g=null,a.i&&(a.i=!1,A_(a))},a.l);let h=a.h;a.h=null,a.m.apply(null,h)}class _T extends Je{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:A_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uo(a){Je.call(this),this.h=a,this.g={}}A(uo,Je);var R_=[];function D_(a){H(a.g,function(h,d){this.g.hasOwnProperty(d)&&Eh(h)},a),a.g={}}uo.prototype.N=function(){uo.aa.N.call(this),D_(this)},uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ah=c.JSON.stringify,vT=c.JSON.parse,yT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Rh(){}Rh.prototype.h=null;function P_(a){return a.h||(a.h=a.i())}function k_(){}var ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dh(){Pe.call(this,"d")}A(Dh,Pe);function Ph(){Pe.call(this,"c")}A(Ph,Pe);var tr={},x_=null;function fc(){return x_=x_||new It}tr.La="serverreachability";function M_(a){Pe.call(this,tr.La,a)}A(M_,Pe);function fo(a){let h=fc();Mt(h,new M_(h))}tr.STAT_EVENT="statevent";function O_(a,h){Pe.call(this,tr.STAT_EVENT,a),this.stat=h}A(O_,Pe);function Ot(a){let h=fc();Mt(h,new O_(h,a))}tr.Ma="timingevent";function N_(a,h){Pe.call(this,tr.Ma,a),this.size=h}A(N_,Pe);function po(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},h)}function mo(){this.g=!0}mo.prototype.xa=function(){this.g=!1};function wT(a,h,d,m,C,R){a.info(function(){if(a.g)if(R)for(var V="",ke=R.split("&"),ft=0;ft<ke.length;ft++){var _e=ke[ft].split("=");if(1<_e.length){var Et=_e[0];_e=_e[1];var Tt=Et.split("_");V=2<=Tt.length&&Tt[1]=="type"?V+(Et+"="+_e+"&"):V+(Et+"=redacted&")}}else V=null;else V=R;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+h+`
`+d+`
`+V})}function bT(a,h,d,m,C,R,V){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+h+`
`+d+`
`+R+" "+V})}function qr(a,h,d,m){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+ET(a,d)+(m?" "+m:"")})}function IT(a,h){a.info(function(){return"TIMEOUT: "+h})}mo.prototype.info=function(){};function ET(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var m=d[a];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var R=C[0];if(R!="noop"&&R!="stop"&&R!="close")for(var V=1;V<C.length;V++)C[V]=""}}}}return Ah(d)}catch{return h}}var pc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kh;function mc(){}A(mc,Rh),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},kh=new mc;function mi(a,h,d,m){this.j=a,this.i=h,this.l=d,this.R=m||1,this.U=new uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new V_}function V_(){this.i=null,this.g="",this.h=!1}var L_={},xh={};function Mh(a,h,d){a.L=1,a.v=yc(Xn(h)),a.m=d,a.P=!0,j_(a,null)}function j_(a,h){a.F=Date.now(),gc(a),a.A=Xn(a.v);var d=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Z_(d.i,"t",m),a.C=0,d=a.j.J,a.h=new V_,a.g=_v(a.j,d?h:null,!a.m),0<a.O&&(a.M=new _T(g(a.Y,a,a.g),a.O)),h=a.U,d=a.g,m=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(R_[0]=C.toString()),C=R_);for(var R=0;R<C.length;R++){var V=b_(d,C[R],m||h.handleEvent,!1,h.h||h);if(!V)break;h.g[V.key]=V}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),fo(),wT(a.i,a.u,a.A,a.l,a.R,a.m)}mi.prototype.ca=function(a){a=a.target;let h=this.M;h&&Jn(a)==3?h.j():this.Y(a)},mi.prototype.Y=function(a){try{if(a==this.g)e:{let Tt=Jn(this.g);var h=this.g.Ba();let Hr=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||ov(this.g)))){this.J||Tt!=4||h==7||(h==8||0>=Hr?fo(3):fo(2)),Oh(this);var d=this.g.Z();this.X=d;t:if(U_(this)){var m=ov(this.g);a="";var C=m.length,R=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){nr(this),go(this);var V="";break t}this.h.i=new c.TextDecoder}for(h=0;h<C;h++)this.h.h=!0,a+=this.h.i.decode(m[h],{stream:!(R&&h==C-1)});m.length=0,this.h.g+=a,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=d==200,bT(this.i,this.u,this.A,this.l,this.R,Tt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,ft=this.g;if((ke=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ke)){var _e=ke;break t}}_e=null}if(d=_e)qr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,d);else{this.o=!1,this.s=3,Ot(12),nr(this),go(this);break e}}if(this.P){d=!0;let _n;for(;!this.J&&this.C<V.length;)if(_n=TT(this,V),_n==xh){Tt==4&&(this.s=4,Ot(14),d=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==L_){this.s=4,Ot(15),qr(this.i,this.l,V,"[Invalid Chunk]"),d=!1;break}else qr(this.i,this.l,_n,null),Nh(this,_n);if(U_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||V.length!=0||this.h.h||(this.s=1,Ot(16),d=!1),this.o=this.o&&d,!d)qr(this.i,this.l,V,"[Invalid Chunked Response]"),nr(this),go(this);else if(0<V.length&&!this.W){this.W=!0;var Et=this.j;Et.g==this&&Et.ba&&!Et.M&&(Et.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Bh(Et),Et.M=!0,Ot(11))}}else qr(this.i,this.l,V,null),Nh(this,V);Tt==4&&nr(this),this.o&&!this.J&&(Tt==4?fv(this.j,this):(this.o=!1,gc(this)))}else BT(this.g),d==400&&0<V.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),nr(this),go(this)}}}catch{}finally{}};function U_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function TT(a,h){var d=a.C,m=h.indexOf(`
`,d);return m==-1?xh:(d=Number(h.substring(d,m)),isNaN(d)?L_:(m+=1,m+d>h.length?xh:(h=h.slice(m,m+d),a.C=m+d,h)))}mi.prototype.cancel=function(){this.J=!0,nr(this)};function gc(a){a.S=Date.now()+a.I,B_(a,a.I)}function B_(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=po(g(a.ba,a),h)}function Oh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}mi.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(IT(this.i,this.A),this.L!=2&&(fo(),Ot(17)),nr(this),this.s=2,go(this)):B_(this,this.S-a)};function go(a){a.j.G==0||a.J||fv(a.j,a)}function nr(a){Oh(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,D_(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Nh(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Fh(d.h,a))){if(!a.K&&Fh(d.h,a)&&d.G==3){try{var m=d.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Tc(d),Ic(d);else break e;Uh(d),Ot(18)}}else d.za=C[1],0<d.za-d.T&&37500>C[2]&&d.F&&d.v==0&&!d.C&&(d.C=po(g(d.Za,d),6e3));if(1>=q_(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else rr(d,11)}else if((a.K||d.g==a)&&Tc(d),!W(h))for(C=d.Da.g.parse(h),h=0;h<C.length;h++){let _e=C[h];if(d.T=_e[0],_e=_e[1],d.G==2)if(_e[0]=="c"){d.K=_e[1],d.ia=_e[2];let Et=_e[3];Et!=null&&(d.la=Et,d.j.info("VER="+d.la));let Tt=_e[4];Tt!=null&&(d.Aa=Tt,d.j.info("SVER="+d.Aa));let Hr=_e[5];Hr!=null&&typeof Hr=="number"&&0<Hr&&(m=1.5*Hr,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;let _n=a.g;if(_n){let Sc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var R=m.h;R.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Vh(R,R.h),R.h=null))}if(m.D){let zh=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;zh&&(m.ya=zh,Le(m.I,m.D,zh))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var V=a;if(m.qa=gv(m,m.J?m.ia:null,m.W),V.K){W_(m.h,V);var ke=V,ft=m.L;ft&&(ke.I=ft),ke.B&&(Oh(ke),gc(ke)),m.g=V}else hv(m);0<d.i.length&&Ec(d)}else _e[0]!="stop"&&_e[0]!="close"||rr(d,7);else d.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?rr(d,7):jh(d):_e[0]!="noop"&&d.l&&d.l.ta(_e),d.v=0)}}fo(4)}catch{}}var CT=class{constructor(a,h){this.g=a,this.map=h}};function z_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function q_(a){return a.h?1:a.g?a.g.size:0}function Fh(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Vh(a,h){a.g?a.g.add(h):a.h=h}function W_(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}z_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function G_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(let d of a.g.values())h=h.concat(d.D);return h}return M(a.i)}function ST(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var h=[],d=a.length,m=0;m<d;m++)h.push(a[m]);return h}h=[],d=0;for(m in a)h[d++]=a[m];return h}function AT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(let m in a)h[d++]=m;return h}}}function H_(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=AT(a),m=ST(a),C=m.length,R=0;R<C;R++)h.call(void 0,m[R],d&&d[R],a)}var K_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RT(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var m=a[d].indexOf("="),C=null;if(0<=m){var R=a[d].substring(0,m);C=a[d].substring(m+1)}else R=a[d];h(R,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function ir(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ir){this.h=a.h,_c(this,a.j),this.o=a.o,this.g=a.g,vc(this,a.s),this.l=a.l;var h=a.i,d=new yo;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Y_(this,d),this.m=a.m}else a&&(h=String(a).match(K_))?(this.h=!1,_c(this,h[1]||"",!0),this.o=_o(h[2]||""),this.g=_o(h[3]||"",!0),vc(this,h[4]),this.l=_o(h[5]||"",!0),Y_(this,h[6]||"",!0),this.m=_o(h[7]||"")):(this.h=!1,this.i=new yo(null,this.h))}ir.prototype.toString=function(){var a=[],h=this.j;h&&a.push(vo(h,Q_,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(vo(h,Q_,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(vo(d,d.charAt(0)=="/"?kT:PT,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",vo(d,MT)),a.join("")};function Xn(a){return new ir(a)}function _c(a,h,d){a.j=d?_o(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function vc(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Y_(a,h,d){h instanceof yo?(a.i=h,OT(a.i,a.h)):(d||(h=vo(h,xT)),a.i=new yo(h,a.h))}function Le(a,h,d){a.i.set(h,d)}function yc(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function _o(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vo(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,DT),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function DT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Q_=/[#\/\?@]/g,PT=/[#\?:]/g,kT=/[#\?]/g,xT=/[#\?@]/g,MT=/#/g;function yo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function gi(a){a.g||(a.g=new Map,a.h=0,a.i&&RT(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}n=yo.prototype,n.add=function(a,h){gi(this),this.i=null,a=Wr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function X_(a,h){gi(a),h=Wr(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function J_(a,h){return gi(a),h=Wr(a,h),a.g.has(h)}n.forEach=function(a,h){gi(this),this.g.forEach(function(d,m){d.forEach(function(C){a.call(h,C,m,this)},this)},this)},n.na=function(){gi(this);let a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let m=0;m<h.length;m++){let C=a[m];for(let R=0;R<C.length;R++)d.push(h[m])}return d},n.V=function(a){gi(this);let h=[];if(typeof a=="string")J_(this,a)&&(h=h.concat(this.g.get(Wr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},n.set=function(a,h){return gi(this),this.i=null,a=Wr(this,a),J_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},n.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Z_(a,h,d){X_(a,h),0<d.length&&(a.i=null,a.g.set(Wr(a,h),M(d)),a.h+=d.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var m=h[d];let R=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var C=R;V[m]!==""&&(C+="="+encodeURIComponent(String(V[m]))),a.push(C)}}return this.i=a.join("&")};function Wr(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function OT(a,h){h&&!a.j&&(gi(a),a.i=null,a.g.forEach(function(d,m){var C=m.toLowerCase();m!=C&&(X_(this,m),Z_(this,C,d))},a)),a.j=h}function NT(a,h){let d=new mo;if(c.Image){let m=new Image;m.onload=T(_i,d,"TestLoadImage: loaded",!0,h,m),m.onerror=T(_i,d,"TestLoadImage: error",!1,h,m),m.onabort=T(_i,d,"TestLoadImage: abort",!1,h,m),m.ontimeout=T(_i,d,"TestLoadImage: timeout",!1,h,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else h(!1)}function FT(a,h){let d=new mo,m=new AbortController,C=setTimeout(()=>{m.abort(),_i(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:m.signal}).then(R=>{clearTimeout(C),R.ok?_i(d,"TestPingServer: ok",!0,h):_i(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(C),_i(d,"TestPingServer: error",!1,h)})}function _i(a,h,d,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(d)}catch{}}function VT(){this.g=new yT}function LT(a,h,d){let m=d||"";try{H_(a,function(C,R){let V=C;u(C)&&(V=Ah(C)),h.push(m+R+"="+encodeURIComponent(V))})}catch(C){throw h.push(m+"type="+encodeURIComponent("_badmap")),C}}function wo(a){this.l=a.Ub||null,this.j=a.eb||!1}A(wo,Rh),wo.prototype.g=function(){return new wc(this.l,this.j)},wo.prototype.i=function(a){return function(){return a}}({});function wc(a,h){It.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(wc,It),n=wc.prototype,n.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Io(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||c).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ev(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ev(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?bo(this):Io(this),this.readyState==3&&ev(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,bo(this))},n.Qa=function(a){this.g&&(this.response=a,bo(this))},n.ga=function(){this.g&&bo(this)};function bo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Io(a)}n.setRequestHeader=function(a,h){this.u.append(a,h)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Io(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(wc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function tv(a){let h="";return H(a,function(d,m){h+=m,h+=":",h+=d,h+=`\r
`}),h}function Lh(a,h,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=tv(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Le(a,h,d))}function He(a){It.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(He,It);var jT=/^https?$/i,UT=["POST","PUT"];n=He.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,h,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kh.g(),this.v=this.o?P_(this.o):P_(kh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(R){nv(this,R);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)d.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let R of m.keys())d.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(R=>R.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(UT,h,void 0))||m||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of d)this.g.setRequestHeader(R,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sv(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){nv(this,R)}};function nv(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,iv(a),bc(a)}function iv(a){a.A||(a.A=!0,Mt(a,"complete"),Mt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Mt(this,"complete"),Mt(this,"abort"),bc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),He.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rv(this):this.bb())},n.bb=function(){rv(this)};function rv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Jn(a)!=4||a.Z()!=2)){if(a.u&&Jn(a)==4)S_(a.Ea,0,a);else if(Mt(a,"readystatechange"),Jn(a)==4){a.h=!1;try{let V=a.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var m;if(m=V===0){var C=String(a.D).match(K_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),m=!jT.test(C?C.toLowerCase():"")}d=m}if(d)Mt(a,"complete"),Mt(a,"success");else{a.m=6;try{var R=2<Jn(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",iv(a)}}finally{bc(a)}}}}function bc(a,h){if(a.g){sv(a);let d=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Mt(a,"ready");try{d.onreadystatechange=m}catch{}}}function sv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Jn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),vT(h)}};function ov(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function BT(a){let h={};a=(a.g&&2<=Jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(W(a[m]))continue;var d=b(a[m]);let C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let R=h[C]||[];h[C]=R,R.push(d)}E(h,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function av(a){this.Aa=0,this.i=[],this.j=new mo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,a),this.cb=Eo("retryDelaySeedMs",1e4,a),this.Wa=Eo("forwardChannelMaxRetries",2,a),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new z_(a&&a.concurrentRequestLimit),this.Da=new VT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=av.prototype,n.la=8,n.G=1,n.connect=function(a,h,d,m){Ot(0),this.W=a,this.H=h||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=gv(this,null,this.W),Ec(this)};function jh(a){if(cv(a),a.G==3){var h=a.U++,d=Xn(a.I);if(Le(d,"SID",a.K),Le(d,"RID",h),Le(d,"TYPE","terminate"),To(a,d),h=new mi(a,a.j,h),h.L=2,h.v=yc(Xn(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=h.v,d=!0),d||(h.g=_v(h.j,null),h.g.ea(h.v)),h.F=Date.now(),gc(h)}mv(a)}function Ic(a){a.g&&(Bh(a),a.g.cancel(),a.g=null)}function cv(a){Ic(a),a.u&&(c.clearTimeout(a.u),a.u=null),Tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ec(a){if(!$_(a.h)&&!a.s){a.s=!0;var h=a.Ga;Wt||pi(),kn||(Wt(),kn=!0),er.add(h,a),a.B=0}}function zT(a,h){return q_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=po(g(a.Ga,a,h),pv(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new mi(this,this.j,a),R=this.o;if(this.S&&(R?(R=y(R),v(R,this.S)):R=this.S),this.m!==null||this.O||(C.H=R,R=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=uv(this,C,h),d=Xn(this.I),Le(d,"RID",a),Le(d,"CVER",22),this.D&&Le(d,"X-HTTP-Session-Id",this.D),To(this,d),R&&(this.O?h="headers="+encodeURIComponent(String(tv(R)))+"&"+h:this.m&&Lh(d,this.m,R)),Vh(this.h,C),this.Ua&&Le(d,"TYPE","init"),this.P?(Le(d,"$req",h),Le(d,"SID","null"),C.T=!0,Mh(C,d,null)):Mh(C,d,h),this.G=2}}else this.G==3&&(a?lv(this,a):this.i.length==0||$_(this.h)||lv(this))};function lv(a,h){var d;h?d=h.l:d=a.U++;let m=Xn(a.I);Le(m,"SID",a.K),Le(m,"RID",d),Le(m,"AID",a.T),To(a,m),a.m&&a.o&&Lh(m,a.m,a.o),d=new mi(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=uv(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Vh(a.h,d),Mh(d,m,h)}function To(a,h){a.H&&H(a.H,function(d,m){Le(h,m,d)}),a.l&&H_({},function(d,m){Le(h,m,d)})}function uv(a,h,d){d=Math.min(a.i.length,d);var m=a.l?g(a.l.Na,a.l,a):null;e:{var C=a.i;let R=-1;for(;;){let V=["count="+d];R==-1?0<d?(R=C[0].g,V.push("ofs="+R)):R=0:V.push("ofs="+R);let ke=!0;for(let ft=0;ft<d;ft++){let _e=C[ft].g,Et=C[ft].map;if(_e-=R,0>_e)R=Math.max(0,C[ft].g-100),ke=!1;else try{LT(Et,V,"req"+_e+"_")}catch{m&&m(Et)}}if(ke){m=V.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,m}function hv(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;Wt||pi(),kn||(Wt(),kn=!0),er.add(h,a),a.v=0}}function Uh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=po(g(a.Fa,a),pv(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=po(g(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),Ic(this),dv(this))};function Bh(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function dv(a){a.g=new mi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Xn(a.qa);Le(h,"RID","rpc"),Le(h,"SID",a.K),Le(h,"AID",a.T),Le(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(h,"TO",a.ja),Le(h,"TYPE","xmlhttp"),To(a,h),a.m&&a.o&&Lh(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=yc(Xn(h)),d.m=null,d.P=!0,j_(d,a)}n.Za=function(){this.C!=null&&(this.C=null,Ic(this),Uh(this),Ot(19))};function Tc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function fv(a,h){var d=null;if(a.g==h){Tc(a),Bh(a),a.g=null;var m=2}else if(Fh(a.h,h))d=h.D,W_(a.h,h),m=1;else return;if(a.G!=0){if(h.o)if(m==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var C=a.B;m=fc(),Mt(m,new N_(m,d)),Ec(a)}else hv(a);else if(C=h.s,C==3||C==0&&0<h.X||!(m==1&&zT(a,h)||m==2&&Uh(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),C){case 1:rr(a,5);break;case 4:rr(a,10);break;case 3:rr(a,6);break;default:rr(a,2)}}}function pv(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function rr(a,h){if(a.j.info("Error code "+h),h==2){var d=g(a.fb,a),m=a.Xa;let C=!m;m=new ir(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||_c(m,"https"),yc(m),C?NT(m.toString(),d):FT(m.toString(),d)}else Ot(2);a.G=0,a.l&&a.l.sa(h),mv(a),cv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function mv(a){if(a.G=0,a.ka=[],a.l){let h=G_(a.h);(h.length!=0||a.i.length!=0)&&(D(a.ka,h),D(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function gv(a,h,d){var m=d instanceof ir?Xn(d):new ir(d);if(m.g!="")h&&(m.g=h+"."+m.g),vc(m,m.s);else{var C=c.location;m=C.protocol,h=h?h+"."+C.hostname:C.hostname,C=+C.port;var R=new ir(null);m&&_c(R,m),h&&(R.g=h),C&&vc(R,C),d&&(R.l=d),m=R}return d=a.D,h=a.ya,d&&h&&Le(m,d,h),Le(m,"VER",a.la),To(a,m),m}function _v(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new He(new wo({eb:d})):new He(a.pa),h.Ha(a.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vv(){}n=vv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Cc(){}Cc.prototype.g=function(a,h){return new Gt(a,h)};function Gt(a,h){It.call(this),this.g=new av(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!W(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!W(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Gr(this)}A(Gt,It),Gt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gt.prototype.close=function(){jh(this.g)},Gt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Ah(a),a=d);h.i.push(new CT(h.Ya++,a)),h.G==3&&Ec(h)},Gt.prototype.N=function(){this.g.l=null,delete this.j,jh(this.g),delete this.g,Gt.aa.N.call(this)};function yv(a){Dh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(let d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}A(yv,Dh);function wv(){Ph.call(this),this.status=1}A(wv,Ph);function Gr(a){this.g=a}A(Gr,vv),Gr.prototype.ua=function(){Mt(this.g,"a")},Gr.prototype.ta=function(a){Mt(this.g,new yv(a))},Gr.prototype.sa=function(a){Mt(this.g,new wv)},Gr.prototype.ra=function(){Mt(this.g,"b")},Cc.prototype.createWebChannel=Cc.prototype.g,Gt.prototype.send=Gt.prototype.o,Gt.prototype.open=Gt.prototype.m,Gt.prototype.close=Gt.prototype.close,Cp=li.createWebChannelTransport=function(){return new Cc},Tp=li.getStatEventTarget=function(){return fc()},Ep=li.Event=tr,nu=li.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,Fa=li.ErrorCode=pc,F_.COMPLETE="complete",Ip=li.EventType=F_,k_.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",It.prototype.listen=It.prototype.K,Rs=li.WebChannel=k_,bp=li.FetchXmlHttpFactory=wo,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,wp=li.XhrIo=He}).apply(typeof tu<"u"?tu:typeof self<"u"?self:typeof window<"u"?window:{});var s0="@firebase/firestore";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Js="10.12.3";var Pr=new zi("@firebase/firestore");function Va(){return Pr.logLevel}function G(n,...e){if(Pr.logLevel<=de.DEBUG){let i=e.map(fg);Pr.debug(`Firestore (${Js}): ${n}`,...i)}}function ui(n,...e){if(Pr.logLevel<=de.ERROR){let i=e.map(fg);Pr.error(`Firestore (${Js}): ${n}`,...i)}}function Fs(n,...e){if(Pr.logLevel<=de.WARN){let i=e.map(fg);Pr.warn(`Firestore (${Js}): ${n}`,...i)}}function fg(n){if(typeof n=="string")return n;try{return function(i){return JSON.stringify(i)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function Ve(n,e){n||Z()}function ne(n,e){return n}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends fn{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var qn=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var au=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Pp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(dt.UNAUTHENTICATED))}shutdown(){}},kp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},xp=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let t=this.i,r=l=>this.i!==t?(t=this.i,i(l)):Promise.resolve(),s=new qn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qn,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>S(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qn)}},0),o()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(t=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ve(typeof t.accessToken=="string"),new au(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new dt(e)}},Mp=class{constructor(e,i,t){this.l=e,this.h=i,this.P=t,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Op=class{constructor(e,i,t){this.l=e,this.h=i,this.P=t}getToken(){return Promise.resolve(new Mp(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Np=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fp=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){let t=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?i(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>t(s))};let r=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ve(typeof i.token=="string"),this.R=i.token,new Np(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function hx(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let t=0;t<n;t++)i[t]=Math.floor(256*Math.random());return i}var cu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,t="";for(;t.length<20;){let r=hx(40);for(let s=0;s<r.length;++s)t.length<20&&r[s]<i&&(t+=e.charAt(r[s]%e.length))}return t}};function Te(n,e){return n<e?-1:n>e?1:0}function Vs(n,e,i){return n.length===e.length&&n.every((t,r)=>i(t,e[r]))}var wt=class n{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),t=Math.floor(1e6*(e-1e3*i));return new n(i,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new wt(0,0))}static max(){return new n(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lu=class n{constructor(e,i,t){i===void 0?i=0:i>e.length&&Z(),t===void 0?t=e.length-i:t>e.length-i&&Z(),this.segments=e,this.offset=i,this.len=t}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(t=>{i.push(t)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,t=this.limit();i<t;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let t=Math.min(e.length,i.length);for(let r=0;r<t;r++){let s=e.get(r),o=i.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<i.length?-1:e.length>i.length?1:0}},We=class n extends lu{construct(e,i,t){return new n(e,i,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let t of e){if(t.indexOf("//")>=0)throw new q(x.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);i.push(...t.split("/").filter(r=>r.length>0))}return new n(i)}static emptyPath(){return new n([])}},dx=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tn=class n extends lu{construct(e,i,t){return new n(e,i,t)}static isValidIdentifier(e){return dx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let i=[],t="",r=0,s=()=>{if(t.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(t),t=""},o=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);t+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(t+=c,r++):(s(),r++)}if(s(),o)throw new q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(i)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(We.fromString(e))}static fromName(e){return new n(We.fromString(e).popFirst(5))}static empty(){return new n(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return We.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new We(e.slice()))}};var Vp=class{constructor(e,i,t,r){this.indexId=e,this.collectionGroup=i,this.fields=t,this.indexState=r}};Vp.UNKNOWN_ID=-1;function fx(n,e){let i=n.toTimestamp().seconds,t=n.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(t===1e9?new wt(i+1,0):new wt(i,t));return new kr(r,X.empty(),e)}function px(n){return new kr(n.readTime,n.key,-1)}var kr=class n{constructor(e,i,t){this.readTime=e,this.documentKey=i,this.largestBatchId=t}static min(){return new n(ie.min(),X.empty(),-1)}static max(){return new n(ie.max(),X.empty(),-1)}};function mx(n,e){let i=n.readTime.compareTo(e.readTime);return i!==0?i:(i=X.comparator(n.documentKey,e.documentKey),i!==0?i:Te(n.largestBatchId,e.largestBatchId))}var gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Lp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ec(n){return S(this,null,function*(){if(n.code!==x.FAILED_PRECONDITION||n.message!==gx)throw n;G("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new n((t,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(t,r)},this.catchCallback=s=>{this.wrapFailure(i,s).next(t,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{let i=e();return i instanceof n?i:n.resolve(i)}catch(i){return n.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):n.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):n.reject(i)}static resolve(e){return new n((i,t)=>{i(e)})}static reject(e){return new n((i,t)=>{t(e)})}static waitFor(e){return new n((i,t)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&i()},l=>t(l))}),o=!0,s===r&&i()})}static or(e){let i=n.resolve(!1);for(let t of e)i=i.next(r=>r?n.resolve(r):t());return i}static forEach(e,i){let t=[];return e.forEach((r,s)=>{t.push(i.call(this,r,s))}),this.waitFor(t)}static mapArray(e,i){return new n((t,r)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let u=l;i(e[u]).next(f=>{o[u]=f,++c,c===s&&t(o)},f=>r(f))}})}static doWhile(e,i){return new n((t,r)=>{let s=()=>{e()===!0?i().next(()=>{s()},r):t()};s()})}};function _x(n){let e=n.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function tc(n){return n.name==="IndexedDbTransactionError"}var F0=(()=>{class n{constructor(i,t){this.previousValue=i,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return n.oe=-1,n})();function Vu(n){return n==null}function $a(n){return n===0&&1/n==-1/0}function vx(n){return typeof n=="number"&&Number.isInteger(n)&&!$a(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var yx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],QU=[...yx,"documentOverlays"],wx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bx=wx,XU=[...bx,"indexConfiguration","indexState","indexEntries"];function o0(n){let e=0;for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function Vr(n,e){for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function V0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ye=class n{constructor(e,i){this.comparator=e,this.root=i||Wn.EMPTY}insert(e,i){return new n(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let t=this.comparator(e,i.key);if(t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}indexOf(e){let i=0,t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return i+t.left.size;r<0?t=t.left:(i+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,t)=>(e(i,t),!1))}toString(){let e=[];return this.inorderTraversal((i,t)=>(e.push(`${i}:${t}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,i,t,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=i?t(e.key,i):1,i&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Wn=class n{constructor(e,i,t,r,s){this.key=e,this.value=i,this.color=t??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,t,r,s){return new n(e??this.key,i??this.value,t??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,t){let r=this,s=t(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,i,t),null):s===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,t)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let t,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;t=r.right.min(),r=r.copy(t.key,t.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,i,t,r,s){return this}insert(e,i,t){return new Wn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var kt=class n{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,t)=>(e(i),!1))}forEachInRange(e,i){let t=this.data.getIteratorFrom(e[0]);for(;t.hasNext();){let r=t.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let t;for(t=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();t.hasNext();)if(!e(t.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new uu(this.data.getIterator())}getIteratorFrom(e){return new uu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(t=>{i=i.add(t)}),i}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let i=this.data.getIterator(),t=e.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,s=t.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new n(this.comparator);return i.data=e,i}},uu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var mn=class n{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new n([])}unionWith(e){let i=new kt(tn.comparator);for(let t of this.fields)i=i.add(t);for(let t of e)i=i.add(t);return new n(i.toArray())}covers(e){for(let i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(i,t)=>i.isEqual(t))}};var hu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var jt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let i=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new hu("Invalid base64 string: "+s):s}}(e);return new n(i)}static fromUint8Array(e){let i=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let t=new Uint8Array(i.length);for(let r=0;r<i.length;r++)t[r]=i.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jt.EMPTY_BYTE_STRING=new jt("");var Ix=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(n){if(Ve(!!n),typeof n=="string"){let e=0,i=Ix.exec(n);if(Ve(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}let t=new Date(n);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Yi(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}function pg(n){var e,i;return((i=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function mg(n){let e=n.mapValue.fields.__previous_value__;return pg(e)?mg(e):e}function qa(n){let e=hi(n.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}var jp=class{constructor(e,i,t,r,s,o,c,l,u){this.databaseId=e,this.appId=i,this.persistenceKey=t,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},du=class n{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var iu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function xr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:L0(n)?9007199254740991:10:Z()}function Kn(n,e){if(n===e)return!0;let i=xr(n);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qa(n).isEqual(qa(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=hi(r.timestampValue),c=hi(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Yi(r.bytesValue).isEqual(Yi(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Ke(r.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(r.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ke(r.integerValue)===Ke(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ke(r.doubleValue),c=Ke(s.doubleValue);return o===c?$a(o)===$a(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Vs(n.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(o0(o)!==o0(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Kn(o[l],c[l])))return!1;return!0}(n,e);default:return Z()}}function Wa(n,e){return(n.values||[]).find(i=>Kn(i,e))!==void 0}function Ls(n,e){if(n===e)return 0;let i=xr(n),t=xr(e);if(i!==t)return Te(i,t);switch(i){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Ke(s.integerValue||s.doubleValue),l=Ke(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,e);case 3:return a0(n.timestampValue,e.timestampValue);case 4:return a0(qa(n),qa(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(s,o){let c=Yi(s),l=Yi(o);return c.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){let f=Te(c[u],l[u]);if(f!==0)return f}return Te(c.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Te(Ke(s.latitude),Ke(o.latitude));return c!==0?c:Te(Ke(s.longitude),Ke(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){let c=s.values||[],l=o.values||[];for(let u=0;u<c.length&&u<l.length;++u){let f=Ls(c[u],l[u]);if(f)return f}return Te(c.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===iu.mapValue&&o===iu.mapValue)return 0;if(s===iu.mapValue)return 1;if(o===iu.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let g=Te(l[p],f[p]);if(g!==0)return g;let T=Ls(c[l[p]],u[f[p]]);if(T!==0)return T}return Te(l.length,f.length)}(n.mapValue,e.mapValue);default:throw Z()}}function a0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let i=hi(n),t=hi(e),r=Te(i.seconds,t.seconds);return r!==0?r:Te(i.nanos,t.nanos)}function js(n){return Up(n)}function Up(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){let t=hi(i);return`time(${t.seconds},${t.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Yi(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return X.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let t="[",r=!0;for(let s of i.values||[])r?r=!1:t+=",",t+=Up(s);return t+"]"}(n.arrayValue):"mapValue"in n?function(i){let t=Object.keys(i.fields||{}).sort(),r="{",s=!0;for(let o of t)s?s=!1:r+=",",r+=`${o}:${Up(i.fields[o])}`;return r+"}"}(n.mapValue):Z()}function c0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bp(n){return!!n&&"integerValue"in n}function gg(n){return!!n&&"arrayValue"in n}function l0(n){return!!n&&"nullValue"in n}function u0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function su(n){return!!n&&"mapValue"in n}function ja(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Vr(n.mapValue.fields,(i,t)=>e.mapValue.fields[i]=ja(t)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ja(n.arrayValue.values[i]);return e}return Object.assign({},n)}function L0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let t=0;t<e.length-1;++t)if(i=(i.mapValue.fields||{})[e.get(t)],!su(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(i)}setAll(e){let i=tn.emptyPath(),t={},r=[];e.forEach((o,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,t,r),t={},r=[],i=c.popLast()}o?t[c.lastSegment()]=ja(o):r.push(c.lastSegment())});let s=this.getFieldsMap(i);this.applyChanges(s,t,r)}delete(e){let i=this.field(e.popLast());su(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let t=0;t<e.length;++t){let r=i.mapValue.fields[e.get(t)];su(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(t)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,t){Vr(i,(r,s)=>e[r]=s);for(let r of t)delete e[r]}clone(){return new n(ja(this.value))}};function j0(n){let e=[];return Vr(n.fields,(i,t)=>{let r=new tn([i]);if(su(t)){let s=j0(t.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new mn(e)}var Dn=class n{constructor(e,i,t,r,s,o,c){this.key=e,this.documentType=i,this.version=t,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new n(e,0,ie.min(),ie.min(),ie.min(),en.empty(),0)}static newFoundDocument(e,i,t,r){return new n(e,1,i,ie.min(),t,r,0)}static newNoDocument(e,i){return new n(e,2,i,ie.min(),ie.min(),en.empty(),0)}static newUnknownDocument(e,i){return new n(e,3,i,ie.min(),ie.min(),en.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Us=class{constructor(e,i){this.position=e,this.inclusive=i}};function h0(n,e,i){let t=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?t=X.comparator(X.fromName(o.referenceValue),i.key):t=Ls(o,i.data.field(s.field)),s.dir==="desc"&&(t*=-1),t!==0)break}return t}function d0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Kn(n.position[i],e.position[i]))return!1;return!0}var Bs=class{constructor(e,i="asc"){this.field=e,this.dir=i}};function Ex(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var fu=class{},ot=class n extends fu{constructor(e,i,t){super(),this.field=e,this.op=i,this.value=t}static create(e,i,t){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,t):new $p(e,i,t):i==="array-contains"?new Gp(e,t):i==="in"?new Hp(e,t):i==="not-in"?new Kp(e,t):i==="array-contains-any"?new Yp(e,t):new n(e,i,t)}static createKeyFieldInFilter(e,i,t){return i==="in"?new qp(e,t):new Wp(e,t)}matches(e){let i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ls(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class n extends fu{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new n(e,i)}matches(e){return U0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function U0(n){return n.op==="and"}function B0(n){return Tx(n)&&U0(n)}function Tx(n){for(let e of n.filters)if(e instanceof Pn)return!1;return!0}function zp(n){if(n instanceof ot)return n.field.canonicalString()+n.op.toString()+js(n.value);if(B0(n))return n.filters.map(e=>zp(e)).join(",");{let e=n.filters.map(i=>zp(i)).join(",");return`${n.op}(${e})`}}function z0(n,e){return n instanceof ot?function(t,r){return r instanceof ot&&t.op===r.op&&t.field.isEqual(r.field)&&Kn(t.value,r.value)}(n,e):n instanceof Pn?function(t,r){return r instanceof Pn&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((s,o,c)=>s&&z0(o,r.filters[c]),!0):!1}(n,e):void Z()}function $0(n){return n instanceof ot?function(i){return`${i.field.canonicalString()} ${i.op} ${js(i.value)}`}(n):n instanceof Pn?function(i){return i.op.toString()+" {"+i.getFilters().map($0).join(" ,")+"}"}(n):"Filter"}var $p=class extends ot{constructor(e,i,t){super(e,i,t),this.key=X.fromName(t.referenceValue)}matches(e){let i=X.comparator(e.key,this.key);return this.matchesComparison(i)}},qp=class extends ot{constructor(e,i){super(e,"in",i),this.keys=q0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}},Wp=class extends ot{constructor(e,i){super(e,"not-in",i),this.keys=q0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}};function q0(n,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(t=>X.fromName(t.referenceValue))}var Gp=class extends ot{constructor(e,i){super(e,"array-contains",i)}matches(e){let i=e.data.field(this.field);return gg(i)&&Wa(i.arrayValue,this.value)}},Hp=class extends ot{constructor(e,i){super(e,"in",i)}matches(e){let i=e.data.field(this.field);return i!==null&&Wa(this.value.arrayValue,i)}},Kp=class extends ot{constructor(e,i){super(e,"not-in",i)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=e.data.field(this.field);return i!==null&&!Wa(this.value.arrayValue,i)}},Yp=class extends ot{constructor(e,i){super(e,"array-contains-any",i)}matches(e){let i=e.data.field(this.field);return!(!gg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(t=>Wa(this.value.arrayValue,t))}};var Qp=class{constructor(e,i=null,t=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=i,this.orderBy=t,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function f0(n,e=null,i=[],t=[],r=null,s=null,o=null){return new Qp(n,e,i,t,r,s,o)}function _g(n){let e=ne(n);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(t=>zp(t)).join(","),i+="|ob:",i+=e.orderBy.map(t=>function(s){return s.field.canonicalString()+s.dir}(t)).join(","),Vu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(t=>js(t)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(t=>js(t)).join(",")),e.ue=i}return e.ue}function vg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!Ex(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!z0(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d0(n.startAt,e.startAt)&&d0(n.endAt,e.endAt)}function Xp(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Mr=class{constructor(e,i=null,t=[],r=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=t,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Cx(n,e,i,t,r,s,o,c){return new Mr(n,e,i,t,r,s,o,c)}function W0(n){return new Mr(n)}function p0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G0(n){return n.collectionGroup!==null}function Ua(n){let e=ne(n);if(e.ce===null){e.ce=[];let i=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),i.add(s.field.canonicalString());let t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new kt(tn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{i.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bs(s,t))}),i.has(tn.keyField().canonicalString())||e.ce.push(new Bs(tn.keyField(),t))}return e.ce}function Gn(n){let e=ne(n);return e.le||(e.le=Sx(e,Ua(n))),e.le}function Sx(n,e){if(n.limitType==="F")return f0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Bs(r.field,s)});let i=n.endAt?new Us(n.endAt.position,n.endAt.inclusive):null,t=n.startAt?new Us(n.startAt.position,n.startAt.inclusive):null;return f0(n.path,n.collectionGroup,e,n.filters,n.limit,i,t)}}function Jp(n,e){let i=n.filters.concat([e]);return new Mr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Zp(n,e,i){return new Mr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function Lu(n,e){return vg(Gn(n),Gn(e))&&n.limitType===e.limitType}function H0(n){return`${_g(Gn(n))}|lt:${n.limitType}`}function Ds(n){return`Query(target=${function(i){let t=i.path.canonicalString();return i.collectionGroup!==null&&(t+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(t+=`, filters: [${i.filters.map(r=>$0(r)).join(", ")}]`),Vu(i.limit)||(t+=", limit: "+i.limit),i.orderBy.length>0&&(t+=`, orderBy: [${i.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),i.startAt&&(t+=", startAt: ",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(r=>js(r)).join(",")),i.endAt&&(t+=", endAt: ",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(r=>js(r)).join(",")),`Target(${t})`}(Gn(n))}; limitType=${n.limitType})`}function ju(n,e){return e.isFoundDocument()&&function(t,r){let s=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):X.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(let s of Ua(t))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(t,r){for(let s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(o,c,l){let u=h0(o,c,l);return o.inclusive?u<=0:u<0}(t.startAt,Ua(t),r)||t.endAt&&!function(o,c,l){let u=h0(o,c,l);return o.inclusive?u>=0:u>0}(t.endAt,Ua(t),r))}(n,e)}function Ax(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K0(n){return(e,i)=>{let t=!1;for(let r of Ua(n)){let s=Rx(r,e,i);if(s!==0)return s;t=t||r.field.isKeyField()}return 0}}function Rx(n,e,i){let t=n.field.isKeyField()?X.comparator(e.key,i.key):function(s,o,c){let l=o.data.field(s),u=c.data.field(s);return l!==null&&u!==null?Ls(l,u):Z()}(n.field,e,i);switch(n.dir){case"asc":return t;case"desc":return-1*t;default:return Z()}}var Qi=class{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){let i=this.mapKeyFn(e),t=this.inner[i];if(t!==void 0){for(let[r,s]of t)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,i){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return this.inner[t]=[[e,i]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){let i=this.mapKeyFn(e),t=this.inner[i];if(t===void 0)return!1;for(let r=0;r<t.length;r++)if(this.equalsFn(t[r][0],e))return t.length===1?delete this.inner[i]:t.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(i,t)=>{for(let[r,s]of t)e(r,s)})}isEmpty(){return V0(this.inner)}size(){return this.innerSize}};var Dx=new Ye(X.comparator);function di(){return Dx}var Y0=new Ye(X.comparator);function La(...n){let e=Y0;for(let i of n)e=e.insert(i.key,i);return e}function Q0(n){let e=Y0;return n.forEach((i,t)=>e=e.insert(i,t.overlayedDocument)),e}function Rr(){return Ba()}function X0(){return Ba()}function Ba(){return new Qi(n=>n.toString(),(n,e)=>n.isEqual(e))}var Px=new Ye(X.comparator),kx=new kt(X.comparator);function fe(...n){let e=kx;for(let i of n)e=e.add(i);return e}var xx=new kt(Te);function Mx(){return xx}function J0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$a(e)?"-0":e}}function Z0(n){return{integerValue:""+n}}function Ox(n,e){return vx(e)?Z0(e):J0(n,e)}var zs=class{constructor(){this._=void 0}};function Nx(n,e,i){return n instanceof $s?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&pg(s)&&(s=mg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(i,e):n instanceof Or?tI(n,e):n instanceof Nr?nI(n,e):function(r,s){let o=eI(r,s),c=m0(o)+m0(r.Pe);return Bp(o)&&Bp(r.Pe)?Z0(c):J0(r.serializer,c)}(n,e)}function Fx(n,e,i){return n instanceof Or?tI(n,e):n instanceof Nr?nI(n,e):i}function eI(n,e){return n instanceof qs?function(t){return Bp(t)||function(s){return!!s&&"doubleValue"in s}(t)}(e)?e:{integerValue:0}:null}var $s=class extends zs{},Or=class extends zs{constructor(e){super(),this.elements=e}};function tI(n,e){let i=iI(e);for(let t of n.elements)i.some(r=>Kn(r,t))||i.push(t);return{arrayValue:{values:i}}}var Nr=class extends zs{constructor(e){super(),this.elements=e}};function nI(n,e){let i=iI(e);for(let t of n.elements)i=i.filter(r=>!Kn(r,t));return{arrayValue:{values:i}}}var qs=class extends zs{constructor(e,i){super(),this.serializer=e,this.Pe=i}};function m0(n){return Ke(n.integerValue||n.doubleValue)}function iI(n){return gg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Vx(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof Or&&r instanceof Or||t instanceof Nr&&r instanceof Nr?Vs(t.elements,r.elements,Kn):t instanceof qs&&r instanceof qs?Kn(t.Pe,r.Pe):t instanceof $s&&r instanceof $s}(n.transform,e.transform)}var em=class{constructor(e,i){this.version=e,this.transformResults=i}},Hi=class n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ou(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ws=class{};function rI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pu(n.key,Hi.none()):new Fr(n.key,n.data,Hi.none());{let i=n.data,t=en.empty(),r=new kt(tn.comparator);for(let s of e.fields)if(!r.has(s)){let o=i.field(s);o===null&&s.length>1&&(s=s.popLast(),o=i.field(s)),o===null?t.delete(s):t.set(s,o),r=r.add(s)}return new Yn(n.key,t,new mn(r.toArray()),Hi.none())}}function Lx(n,e,i){n instanceof Fr?function(r,s,o){let c=r.value.clone(),l=_0(r.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,i):n instanceof Yn?function(r,s,o){if(!ou(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=_0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sI(r)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,i):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function za(n,e,i,t){return n instanceof Fr?function(s,o,c,l){if(!ou(s.precondition,o))return c;let u=s.value.clone(),f=v0(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,i,t):n instanceof Yn?function(s,o,c,l){if(!ou(s.precondition,o))return c;let u=v0(s.fieldTransforms,l,o),f=o.data;return f.setAll(sI(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,i,t):function(s,o,c){return ou(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,e,i)}function jx(n,e){let i=null;for(let t of n.fieldTransforms){let r=e.data.field(t.field),s=eI(t.transform,r||null);s!=null&&(i===null&&(i=en.empty()),i.set(t.field,s))}return i||null}function g0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Vs(t,r,(s,o)=>Vx(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Fr=class extends Ws{constructor(e,i,t,r=[]){super(),this.key=e,this.value=i,this.precondition=t,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Yn=class extends Ws{constructor(e,i,t,r,s=[]){super(),this.key=e,this.data=i,this.fieldMask=t,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function sI(n){let e=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let t=n.data.field(i);e.set(i,t)}}),e}function _0(n,e,i){let t=new Map;Ve(n.length===i.length);for(let r=0;r<i.length;r++){let s=n[r],o=s.transform,c=e.data.field(s.field);t.set(s.field,Fx(o,c,i[r]))}return t}function v0(n,e,i){let t=new Map;for(let r of n){let s=r.transform,o=i.data.field(r.field);t.set(r.field,Nx(s,o,e))}return t}var pu=class extends Ws{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},tm=class extends Ws{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var nm=class{constructor(e,i,t,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=t,this.mutations=r}applyToRemoteDocument(e,i){let t=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&Lx(s,e,t[r])}}applyToLocalView(e,i){for(let t of this.baseMutations)t.key.isEqual(e.key)&&(i=za(t,e,i,this.localWriteTime));for(let t of this.mutations)t.key.isEqual(e.key)&&(i=za(t,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){let t=X0();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=i.has(r.key)?null:c;let l=rI(o,c);l!==null&&t.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),t}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),fe())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(i,t)=>g0(i,t))&&Vs(this.baseMutations,e.baseMutations,(i,t)=>g0(i,t))}},im=class n{constructor(e,i,t,r){this.batch=e,this.commitVersion=i,this.mutationResults=t,this.docVersions=r}static from(e,i,t){Ve(e.mutations.length===t.length);let r=function(){return Px}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,t[o].version);return new n(e,i,t,r)}};var rm=class{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sm=class{constructor(e,i){this.count=e,this.unchangedNames=i}};var rt,me;function Ux(n){switch(n){default:return Z();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function oI(n){if(n===void 0)return ui("GRPC error has no .code"),x.UNKNOWN;switch(n){case rt.OK:return x.OK;case rt.CANCELLED:return x.CANCELLED;case rt.UNKNOWN:return x.UNKNOWN;case rt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case rt.INTERNAL:return x.INTERNAL;case rt.UNAVAILABLE:return x.UNAVAILABLE;case rt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case rt.NOT_FOUND:return x.NOT_FOUND;case rt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case rt.ABORTED:return x.ABORTED;case rt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case rt.DATA_LOSS:return x.DATA_LOSS;default:return Z()}}(me=rt||(rt={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";var y0=null;function Bx(){return new TextEncoder}var zx=new Gi([4294967295,4294967295],0);function w0(n){let e=Bx().encode(n),i=new yp;return i.update(e),new Uint8Array(i.digest())}function b0(n){let e=new DataView(n.buffer),i=e.getUint32(0,!0),t=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([i,t],0),new Gi([r,s],0)]}var om=class n{constructor(e,i,t){if(this.bitmap=e,this.padding=i,this.hashCount=t,i<0||i>=8)throw new Dr(`Invalid padding: ${i}`);if(t<0)throw new Dr(`Invalid hash count: ${t}`);if(e.length>0&&this.hashCount===0)throw new Dr(`Invalid hash count: ${t}`);if(e.length===0&&i!==0)throw new Dr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Gi.fromNumber(this.Ie)}Ee(e,i,t){let r=e.add(i.multiply(Gi.fromNumber(t)));return r.compare(zx)===1&&(r=new Gi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let i=w0(e),[t,r]=b0(i);for(let s=0;s<this.hashCount;s++){let o=this.Ee(t,r,s);if(!this.de(o))return!1}return!0}static create(e,i,t){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,i);return t.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let i=w0(e),[t,r]=b0(i);for(let s=0;s<this.hashCount;s++){let o=this.Ee(t,r,s);this.Ae(o)}}Ae(e){let i=Math.floor(e/8),t=e%8;this.bitmap[i]|=1<<t}},Dr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var mu=class n{constructor(e,i,t,r,s){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=t,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,i,t){let r=new Map;return r.set(e,Ga.createSynthesizedTargetChangeForCurrentChange(e,i,t)),new n(ie.min(),r,new Ye(Te),di(),fe())}},Ga=class n{constructor(e,i,t,r,s){this.resumeToken=e,this.current=i,this.addedDocuments=t,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,i,t){return new n(t,i,fe(),fe(),fe())}};var Os=class{constructor(e,i,t,r){this.Re=e,this.removedTargetIds=i,this.key=t,this.Ve=r}},gu=class{constructor(e,i){this.targetId=e,this.me=i}},_u=class{constructor(e,i,t=jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=t,this.cause=r}},vu=class{constructor(){this.fe=0,this.ge=E0(),this.pe=jt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),i=fe(),t=fe();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:t=t.add(r);break;default:Z()}}),new Ga(this.pe,this.ye,e,i,t)}ve(){this.we=!1,this.ge=E0()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ve(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},am=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=di(),this.qe=I0(),this.Qe=new Ye(Te)}Ke(e){for(let i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(let i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{let t=this.Ge(i);switch(e.state){case 0:this.ze(i)&&t.De(e.resumeToken);break;case 1:t.Oe(),t.Se||t.ve(),t.De(e.resumeToken);break;case 2:t.Oe(),t.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(t.Ne(),t.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),t.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((t,r)=>{this.ze(r)&&i(r)})}He(e){let i=e.targetId,t=e.me.count,r=this.Je(i);if(r){let s=r.target;if(Xp(s))if(t===0){let o=new X(s.path);this.Ue(i,o,Dn.newNoDocument(o,ie.min()))}else Ve(t===1);else{let o=this.Ye(i);if(o!==t){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(i);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,u)}y0?.et(function(f,p,g,T,A){var M,D,L,W,B,z;let he={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},H=p.unchangedNames;return H&&(he.bloomFilter={applied:A===0,hashCount:(M=H?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(L=(D=H?.bits)===null||D===void 0?void 0:D.bitmap)===null||L===void 0?void 0:L.length)!==null&&W!==void 0?W:0,padding:(z=(B=H?.bits)===null||B===void 0?void 0:B.padding)!==null&&z!==void 0?z:0,mightContain:E=>{var y;return(y=T?.mightContain(E))!==null&&y!==void 0&&y}}),he}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let i=e.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:t="",padding:r=0},hashCount:s=0}=i,o,c;try{o=Yi(t).toUint8Array()}catch(l){if(l instanceof hu)return Fs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new om(o,r,s)}catch(l){return Fs(l instanceof Dr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,i,t){return i.me.count===t-this.nt(e,i.targetId)?0:2}nt(e,i){let t=this.Le.getRemoteKeysForTarget(i),r=0;return t.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(i,s,null),r++)}),r}rt(e){let i=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&Xp(c.target)){let l=new X(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Dn.newNoDocument(l,e))}s.be&&(i.set(o,s.Ce()),s.ve())}});let t=fe();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(t=t.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new mu(e,i,this.Qe,this.ke,t);return this.ke=di(),this.qe=I0(),this.Qe=new Ye(Te),r}$e(e,i){if(!this.ze(e))return;let t=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,t),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,t){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),t&&(this.ke=this.ke.insert(i,t))}removeTarget(e){this.Be.delete(e)}Ye(e){let i=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new vu,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new kt(Te),this.qe=this.qe.insert(e,i)),i}ze(e){let i=this.Je(e)!==null;return i||G("WatchChangeAggregator","Detected inactive target",e),i}Je(e){let i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vu),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}};function I0(){return new Ye(X.comparator)}function E0(){return new Ye(X.comparator)}var $x={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wx={and:"AND",or:"OR"},cm=class{constructor(e,i){this.databaseId=e,this.useProto3Json=i}};function lm(n,e){return n.useProto3Json||Vu(e)?e:{value:e}}function yu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Gx(n,e){return yu(n,e.toTimestamp())}function Hn(n){return Ve(!!n),ie.fromTimestamp(function(i){let t=hi(i);return new wt(t.seconds,t.nanos)}(n))}function yg(n,e){return um(n,e).canonicalString()}function um(n,e){let i=function(r){return new We(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?i:i.child(e)}function cI(n){let e=We.fromString(n);return Ve(fI(e)),e}function hm(n,e){return yg(n.databaseId,e.path)}function Sp(n,e){let i=cI(e);if(i.get(1)!==n.databaseId.projectId)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new X(uI(i))}function lI(n,e){return yg(n.databaseId,e)}function Hx(n){let e=cI(n);return e.length===4?We.emptyPath():uI(e)}function dm(n){return new We(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uI(n){return Ve(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function T0(n,e,i){return{name:hm(n,e),fields:i.value.mapValue.fields}}function Kx(n,e){let i;if("targetChange"in e){e.targetChange;let t=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Ve(f===void 0||typeof f=="string"),jt.fromBase64String(f||"")):(Ve(f===void 0||f instanceof Buffer||f instanceof Uint8Array),jt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let f=u.code===void 0?x.UNKNOWN:oI(u.code);return new q(f,u.message||"")}(o);i=new _u(t,r,s,c||null)}else if("documentChange"in e){e.documentChange;let t=e.documentChange;t.document,t.document.name,t.document.updateTime;let r=Sp(n,t.document.name),s=Hn(t.document.updateTime),o=t.document.createTime?Hn(t.document.createTime):ie.min(),c=new en({mapValue:{fields:t.document.fields}}),l=Dn.newFoundDocument(r,s,o,c),u=t.targetIds||[],f=t.removedTargetIds||[];i=new Os(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let t=e.documentDelete;t.document;let r=Sp(n,t.document),s=t.readTime?Hn(t.readTime):ie.min(),o=Dn.newNoDocument(r,s),c=t.removedTargetIds||[];i=new Os([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let t=e.documentRemove;t.document;let r=Sp(n,t.document),s=t.removedTargetIds||[];i=new Os([],s,r,null)}else{if(!("filter"in e))return Z();{e.filter;let t=e.filter;t.targetId;let{count:r=0,unchangedNames:s}=t,o=new sm(r,s),c=t.targetId;i=new gu(c,o)}}return i}function Yx(n,e){let i;if(e instanceof Fr)i={update:T0(n,e.key,e.value)};else if(e instanceof pu)i={delete:hm(n,e.key)};else if(e instanceof Yn)i={update:T0(n,e.key,e.data),updateMask:rM(e.fieldMask)};else{if(!(e instanceof tm))return Z();i={verify:hm(n,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(t=>function(s,o){let c=o.transform;if(c instanceof $s)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Or)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Nr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof qs)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw Z()}(0,t))),e.precondition.isNone||(i.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:Gx(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(n,e.precondition)),i}function Qx(n,e){return n&&n.length>0?(Ve(e!==void 0),n.map(i=>function(r,s){let o=r.updateTime?Hn(r.updateTime):Hn(s);return o.isEqual(ie.min())&&(o=Hn(s)),new em(o,r.transformResults||[])}(i,e))):[]}function Xx(n,e){return{documents:[lI(n,e.path)]}}function Jx(n,e){let i={structuredQuery:{}},t=e.path,r;e.collectionGroup!==null?(r=t,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=t.popLast(),i.structuredQuery.from=[{collectionId:t.lastSegment()}]),i.parent=lI(n,r);let s=function(u){if(u.length!==0)return dI(Pn.create(u,"and"))}(e.filters);s&&(i.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:Ps(g.field),direction:tM(g.dir)}}(f))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);let c=lm(n,e.limit);return c!==null&&(i.structuredQuery.limit=c),e.startAt&&(i.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:i,parent:r}}function Zx(n){let e=Hx(n.parent),i=n.structuredQuery,t=i.from?i.from.length:0,r=null;if(t>0){Ve(t===1);let f=i.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];i.where&&(s=function(p){let g=hI(p);return g instanceof Pn&&B0(g)?g.getFilters():[g]}(i.where));let o=[];i.orderBy&&(o=function(p){return p.map(g=>function(A){return new Bs(ks(A.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(g))}(i.orderBy));let c=null;i.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Vu(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(p){let g=!!p.before,T=p.values||[];return new Us(T,g)}(i.startAt));let u=null;return i.endAt&&(u=function(p){let g=!p.before,T=p.values||[];return new Us(T,g)}(i.endAt)),Cx(e,r,o,s,c,"F",l,u)}function eM(n,e){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function hI(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let t=ks(i.unaryFilter.field);return ot.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=ks(i.unaryFilter.field);return ot.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ks(i.unaryFilter.field);return ot.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ks(i.unaryFilter.field);return ot.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(i){return ot.create(ks(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Pn.create(i.compositeFilter.filters.map(t=>hI(t)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Z()}}(i.compositeFilter.op))}(n):Z()}function tM(n){return $x[n]}function nM(n){return qx[n]}function iM(n){return Wx[n]}function Ps(n){return{fieldPath:n.canonicalString()}}function ks(n){return tn.fromServerFormat(n.fieldPath)}function dI(n){return n instanceof ot?function(i){if(i.op==="=="){if(u0(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NAN"}};if(l0(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(u0(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NAN"}};if(l0(i.value))return{unaryFilter:{field:Ps(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(i.field),op:nM(i.op),value:i.value}}}(n):n instanceof Pn?function(i){let t=i.getFilters().map(r=>dI(r));return t.length===1?t[0]:{compositeFilter:{op:iM(i.op),filters:t}}}(n):Z()}function rM(n){let e=[];return n.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function fI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ha=class n{constructor(e,i,t,r,s=ie.min(),o=ie.min(),c=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=i,this.purpose=t,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var fm=class{constructor(e){this.ct=e}};function sM(n){let e=Zx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zp(e,e.limit,"L"):e}var wu=class{constructor(){}Pt(e,i){this.It(e,i),i.Tt()}It(e,i){if("nullValue"in e)this.Et(i,5);else if("booleanValue"in e)this.Et(i,10),i.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(i,15),i.dt(Ke(e.integerValue));else if("doubleValue"in e){let t=Ke(e.doubleValue);isNaN(t)?this.Et(i,13):(this.Et(i,15),$a(t)?i.dt(0):i.dt(t))}else if("timestampValue"in e){let t=e.timestampValue;this.Et(i,20),typeof t=="string"&&(t=hi(t)),i.At(`${t.seconds||""}`),i.dt(t.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,i),this.Vt(i);else if("bytesValue"in e)this.Et(i,30),i.ft(Yi(e.bytesValue)),this.Vt(i);else if("referenceValue"in e)this.gt(e.referenceValue,i);else if("geoPointValue"in e){let t=e.geoPointValue;this.Et(i,45),i.dt(t.latitude||0),i.dt(t.longitude||0)}else"mapValue"in e?L0(e)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,i),this.Vt(i)):"arrayValue"in e?(this.wt(e.arrayValue,i),this.Vt(i)):Z()}Rt(e,i){this.Et(i,25),this.St(e,i)}St(e,i){i.At(e)}yt(e,i){let t=e.fields||{};this.Et(i,55);for(let r of Object.keys(t))this.Rt(r,i),this.It(t[r],i)}wt(e,i){let t=e.values||[];this.Et(i,50);for(let r of t)this.It(r,i)}gt(e,i){this.Et(i,37),X.fromName(e).path.forEach(t=>{this.Et(i,60),this.St(t,i)})}Et(e,i){e.dt(i)}Vt(e){e.dt(2)}};wu.bt=new wu;var pm=class{constructor(){this._n=new mm}addToCollectionParentIndex(e,i){return this._n.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this._n.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(kr.min())}updateCollectionGroup(e,i,t){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}},mm=class{constructor(){this.index={}}add(e){let i=e.lastSegment(),t=e.popLast(),r=this.index[i]||new kt(We.comparator),s=!r.has(t);return this.index[i]=r.add(t),s}has(e){let i=e.lastSegment(),t=e.popLast(),r=this.index[i];return r&&r.has(t)}getEntries(e){return(this.index[e]||new kt(We.comparator)).toArray()}};var ZU=new Uint8Array(0);var $n=class n{constructor(e,i,t){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=t}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};$n.DEFAULT_COLLECTION_PERCENTILE=10,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$n.DEFAULT=new $n(41943040,$n.DEFAULT_COLLECTION_PERCENTILE,$n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$n.DISABLED=new $n(-1,0,0);var Ka=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var gm=class{constructor(){this.changes=new Qi(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();let t=this.changes.get(i);return t!==void 0?F.resolve(t):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var _m=class{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}};var vm=class{constructor(e,i,t,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=t,this.indexManager=r}getDocument(e,i){let t=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(t=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(t!==null&&za(t.mutation,r,mn.empty(),wt.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.getLocalViewOfDocuments(e,t,fe()).next(()=>t))}getLocalViewOfDocuments(e,i,t=fe()){let r=Rr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,t).next(s=>{let o=La();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,i){let t=Rr();return this.populateOverlays(e,t,i).next(()=>this.computeViews(e,i,t,fe()))}populateOverlays(e,i,t){let r=[];return t.forEach(s=>{i.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{i.set(o,c)})})}computeViews(e,i,t,r){let s=di(),o=Ba(),c=function(){return Ba()}();return i.forEach((l,u)=>{let f=t.get(u.key);r.has(u.key)&&(f===void 0||f.mutation instanceof Yn)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),za(f.mutation,u,f.mutation.getFieldMask(),wt.now())):o.set(u.key,mn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),i.forEach((u,f)=>{var p;return c.set(u,new _m(f,(p=o.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,i){let t=Ba(),r=new Ye((o,c)=>o-c),s=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(o=>{for(let c of o)c.keys().forEach(l=>{let u=i.get(l);if(u===null)return;let f=t.get(l)||mn.empty();f=c.applyToLocalView(u,f),t.set(l,f);let p=(r.get(c.batchId)||fe()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,f=l.value,p=X0();f.forEach(g=>{if(!s.has(g)){let T=rI(i.get(g),t.get(g));T!==null&&p.set(g,T),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,i,t,r){return function(o){return X.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):G0(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,t,r):this.getDocumentsMatchingCollectionQuery(e,i,t,r)}getNextDocuments(e,i,t,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,t,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,t.largestBatchId,r-s.size):F.resolve(Rr()),c=-1,l=s;return o.next(u=>F.forEach(u,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,fe())).next(f=>({batchId:c,changes:Q0(f)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new X(i)).next(t=>{let r=La();return t.isFoundDocument()&&(r=r.insert(t.key,t)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,t,r){let s=i.collectionGroup,o=La();return this.indexManager.getCollectionParents(e,s).next(c=>F.forEach(c,l=>{let u=function(p,g){return new Mr(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,t,r).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,i,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,t.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,t,s,r))).next(o=>{s.forEach((l,u)=>{let f=u.getKey();o.get(f)===null&&(o=o.insert(f,Dn.newInvalidDocument(f)))});let c=La();return o.forEach((l,u)=>{let f=s.get(l);f!==void 0&&za(f.mutation,u,mn.empty(),wt.now()),ju(i,u)&&(c=c.insert(l,u))}),c})}};var ym=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,i){return F.resolve(this.cr.get(i))}saveBundleMetadata(e,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Hn(r.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.lr.get(i))}saveNamedQuery(e,i){return this.lr.set(i.name,function(r){return{name:r.name,query:sM(r.bundledQuery),readTime:Hn(r.readTime)}}(i)),F.resolve()}};var wm=class{constructor(){this.overlays=new Ye(X.comparator),this.hr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){let t=Rr();return F.forEach(i,r=>this.getOverlay(e,r).next(s=>{s!==null&&t.set(r,s)})).next(()=>t)}saveOverlays(e,i,t){return t.forEach((r,s)=>{this.ht(e,i,s)}),F.resolve()}removeOverlaysForBatchId(e,i,t){let r=this.hr.get(t);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(t)),F.resolve()}getOverlaysForCollection(e,i,t){let r=Rr(),s=i.length+1,o=new X(i.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!i.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>t&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,i,t,r){let s=new Ye((u,f)=>u-f),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===i&&u.largestBatchId>t){let f=s.get(u.largestBatchId);f===null&&(f=Rr(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let c=Rr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>c.set(u,f)),!(c.size()>=r)););return F.resolve(c)}ht(e,i,t){let r=this.overlays.get(t.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(t.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(t.key,new rm(i,t));let s=this.hr.get(i);s===void 0&&(s=fe(),this.hr.set(i,s)),this.hr.set(i,s.add(t.key))}};var Ya=class{constructor(){this.Pr=new kt(st.Ir),this.Tr=new kt(st.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,i){let t=new st(e,i);this.Pr=this.Pr.add(t),this.Tr=this.Tr.add(t)}dr(e,i){e.forEach(t=>this.addReference(t,i))}removeReference(e,i){this.Ar(new st(e,i))}Rr(e,i){e.forEach(t=>this.removeReference(t,i))}Vr(e){let i=new X(new We([])),t=new st(i,e),r=new st(i,e+1),s=[];return this.Tr.forEachInRange([t,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let i=new X(new We([])),t=new st(i,e),r=new st(i,e+1),s=fe();return this.Tr.forEachInRange([t,r],o=>{s=s.add(o.key)}),s}containsKey(e){let i=new st(e,0),t=this.Pr.firstAfterOrEqual(i);return t!==null&&e.isEqual(t.key)}},st=class{constructor(e,i){this.key=e,this.pr=i}static Ir(e,i){return X.comparator(e.key,i.key)||Te(e.pr,i.pr)}static Er(e,i){return Te(e.pr,i.pr)||X.comparator(e.key,i.key)}};var bm=class{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new kt(st.Ir)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,t,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new nm(s,i,t,r);this.mutationQueue.push(o);for(let c of r)this.wr=this.wr.add(new st(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,i){return F.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(e,i){let t=i+1,r=this.br(t),s=r<0?0:r;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){let t=new st(i,0),r=new st(i,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([t,r],o=>{let c=this.Sr(o.pr);s.push(c)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,i){let t=new kt(Te);return i.forEach(r=>{let s=new st(r,0),o=new st(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],c=>{t=t.add(c.pr)})}),F.resolve(this.Dr(t))}getAllMutationBatchesAffectingQuery(e,i){let t=i.path,r=t.length+1,s=t;X.isDocumentKey(s)||(s=s.child(""));let o=new st(new X(s),0),c=new kt(Te);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!t.isPrefixOf(u)&&(u.length===r&&(c=c.add(l.pr)),!0)},o),F.resolve(this.Dr(c))}Dr(e){let i=[];return e.forEach(t=>{let r=this.Sr(t);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Ve(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let t=this.wr;return F.forEach(i.mutations,r=>{let s=new st(r.key,i.batchId);return t=t.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=t})}Mn(e){}containsKey(e,i){let t=new st(i,0),r=this.wr.firstAfterOrEqual(t);return F.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Cr(e,i){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let i=this.br(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var Im=class{constructor(e){this.vr=e,this.docs=function(){return new Ye(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){let t=i.key,r=this.docs.get(t),s=r?r.size:0,o=this.vr(i);return this.docs=this.docs.insert(t,{document:i.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,t.path.popLast())}removeEntry(e){let i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){let t=this.docs.get(i);return F.resolve(t?t.document.mutableCopy():Dn.newInvalidDocument(i))}getEntries(e,i){let t=di();return i.forEach(r=>{let s=this.docs.get(r);t=t.insert(r,s?s.document.mutableCopy():Dn.newInvalidDocument(r))}),F.resolve(t)}getDocumentsMatchingQuery(e,i,t,r){let s=di(),o=i.path,c=new X(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||mx(px(f),t)<=0||(r.has(f.key)||ju(i,f))&&(s=s.insert(f.key,f.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,i,t,r){Z()}Fr(e,i){return F.forEach(this.docs,t=>i(t))}newChangeBuffer(e){return new Em(this)}getSize(e){return F.resolve(this.size)}},Em=class extends gm{constructor(e){super(),this.ar=e}applyChanges(e){let i=[];return this.changes.forEach((t,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(e,r)):this.ar.removeEntry(t)}),F.waitFor(i)}getFromCache(e,i){return this.ar.getEntry(e,i)}getAllFromCache(e,i){return this.ar.getEntries(e,i)}};var Tm=class{constructor(e){this.persistence=e,this.Mr=new Qi(i=>_g(i),vg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ya,this.targetCount=0,this.Lr=Ka.Nn()}forEachTarget(e,i){return this.Mr.forEach((t,r)=>i(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,t){return t&&(this.lastRemoteSnapshotVersion=t),i>this.Or&&(this.Or=i),F.resolve()}qn(e){this.Mr.set(e.target,e);let i=e.targetId;i>this.highestTargetId&&(this.Lr=new Ka(i),this.highestTargetId=i),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,i){return this.qn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.qn(i),F.resolve()}removeTargetData(e,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,t){let r=0,s=[];return this.Mr.forEach((o,c)=>{c.sequenceNumber<=i&&t.get(c.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),F.waitFor(s).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){let t=this.Mr.get(i)||null;return F.resolve(t)}addMatchingKeys(e,i,t){return this.Nr.dr(i,t),F.resolve()}removeMatchingKeys(e,i,t){this.Nr.Rr(i,t);let r=this.persistence.referenceDelegate,s=[];return r&&i.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,i){return this.Nr.Vr(i),F.resolve()}getMatchingKeysForTargetId(e,i){let t=this.Nr.gr(i);return F.resolve(t)}containsKey(e,i){return F.resolve(this.Nr.containsKey(i))}};var Cm=class{constructor(e,i){this.Br={},this.overlays={},this.kr=new F0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Tm(this),this.indexManager=new pm,this.remoteDocumentCache=function(r){return new Im(r)}(t=>this.referenceDelegate.Kr(t)),this.serializer=new fm(i),this.$r=new ym(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new wm,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let t=this.Br[e.toKey()];return t||(t=new bm(i,this.referenceDelegate),this.Br[e.toKey()]=t),t}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,i,t){G("MemoryPersistence","Starting transaction:",e);let r=new Sm(this.kr.next());return this.referenceDelegate.Ur(),t(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,i){return F.or(Object.values(this.Br).map(t=>()=>t.containsKey(e,i)))}},Sm=class extends Lp{constructor(e){super(),this.currentSequenceNumber=e}},Am=class n{constructor(e){this.persistence=e,this.zr=new Ya,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw Z()}addReference(e,i,t){return this.zr.addReference(t,i),this.Jr.delete(t.toString()),F.resolve()}removeReference(e,i,t){return this.zr.removeReference(t,i),this.Jr.add(t.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.Jr.add(i.toString()),F.resolve()}removeTarget(e,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>t.removeTargetData(e,i))}Ur(){this.jr=new Set}Wr(e){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Jr,t=>{let r=X.fromPath(t);return this.Yr(e,r).next(s=>{s||i.removeEntry(r,ie.min())})}).next(()=>(this.jr=null,i.apply(e)))}updateLimboDocument(e,i){return this.Yr(e,i).next(t=>{t?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(e){return 0}Yr(e,i){return F.or([()=>F.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gr(e,i)])}};var Rm=class n{constructor(e,i,t,r){this.targetId=e,this.fromCache=i,this.qi=t,this.Qi=r}static Ki(e,i){let t=fe(),r=fe();for(let s of i.docChanges)switch(s.type){case 0:t=t.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,i.fromCache,t,r)}};var Dm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Pm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return wb()?8:_x(Zt())>0?6:4}()}initialize(e,i){this.zi=e,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(e,i,t,r){let s={result:null};return this.ji(e,i).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,i,r,t).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Dm;return this.Ji(e,i,o).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,i,o,c.size)})}).next(()=>s.result)}Yi(e,i,t,r){return t.documentReadCount<this.Wi?(Va()<=de.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),F.resolve()):(Va()<=de.DEBUG&&G("QueryEngine","Query:",Ds(i),"scans",t.documentReadCount,"local documents and returns",r,"documents as results."),t.documentReadCount>this.Gi*r?(Va()<=de.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(i))):F.resolve())}ji(e,i){if(p0(i))return F.resolve(null);let t=Gn(i);return this.indexManager.getIndexType(e,t).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Zp(i,null,"F"),t=Gn(i)),this.indexManager.getDocumentsMatchingTarget(e,t).next(s=>{let o=fe(...s);return this.zi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,t).next(l=>{let u=this.Zi(i,c);return this.Xi(i,u,o,l.readTime)?this.ji(e,Zp(i,null,"F")):this.es(e,u,i,l)}))})))}Hi(e,i,t,r){return p0(i)||r.isEqual(ie.min())?F.resolve(null):this.zi.getDocuments(e,t).next(s=>{let o=this.Zi(i,s);return this.Xi(i,o,t,r)?F.resolve(null):(Va()<=de.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ds(i)),this.es(e,o,i,fx(r,-1)).next(c=>c))})}Zi(e,i){let t=new kt(K0(e));return i.forEach((r,s)=>{ju(e,s)&&(t=t.add(s))}),t}Xi(e,i,t,r){if(e.limit===null)return!1;if(t.size!==i.size)return!0;let s=e.limitType==="F"?i.last():i.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,i,t){return Va()<=de.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ds(i)),this.zi.getDocumentsMatchingQuery(e,i,kr.min(),t)}es(e,i,t,r){return this.zi.getDocumentsMatchingQuery(e,t,r).next(s=>(i.forEach(o=>{s=s.insert(o.key,o)}),s))}};var km=class{constructor(e,i,t,r){this.persistence=e,this.ts=i,this.serializer=r,this.ns=new Ye(Te),this.rs=new Qi(s=>_g(s),vg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(t)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ns))}};function oM(n,e,i,t){return new km(n,e,i,t)}function pI(n,e){return S(this,null,function*(){let i=ne(n);return yield i.persistence.runTransaction("Handle user change","readonly",t=>{let r;return i.mutationQueue.getAllMutationBatches(t).next(s=>(r=s,i._s(e),i.mutationQueue.getAllMutationBatches(t))).next(s=>{let o=[],c=[],l=fe();for(let u of r){o.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}for(let u of s){c.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(t,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:c}))})})})}function aM(n,e){let i=ne(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{let r=e.batch.keys(),s=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,u,f){let p=u.batch,g=p.keys(),T=F.resolve();return g.forEach(A=>{T=T.next(()=>f.getEntry(l,A)).next(M=>{let D=u.docVersions.get(A);Ve(D!==null),M.version.compareTo(D)<0&&(p.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),f.addEntry(M)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(i,t,e,s).next(()=>s.apply(t)).next(()=>i.mutationQueue.performConsistencyCheck(t)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(c){let l=fe();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>i.localDocuments.getDocuments(t,r))})}function mI(n){let e=ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Qr.getLastRemoteSnapshotVersion(i))}function cM(n,e){let i=ne(n),t=e.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];e.targetChanges.forEach((f,p)=>{let g=r.get(p);if(!g)return;c.push(i.Qr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(s,f.addedDocuments,p)));let T=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(jt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,t)),r=r.insert(p,T),function(M,D,L){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(g,T,f)&&c.push(i.Qr.updateTargetData(s,T))});let l=di(),u=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(lM(s,o,e.documentUpdates).next(f=>{l=f.cs,u=f.ls})),!t.isEqual(ie.min())){let f=i.Qr.getLastRemoteSnapshotVersion(s).next(p=>i.Qr.setTargetsMetadata(s,s.currentSequenceNumber,t));c.push(f)}return F.waitFor(c).next(()=>o.apply(s)).next(()=>i.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(i.ns=r,s))}function lM(n,e,i){let t=fe(),r=fe();return i.forEach(s=>t=t.add(s)),e.getEntries(n,t).next(s=>{let o=di();return i.forEach((c,l)=>{let u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ie.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):G("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:r}})}function uM(n,e){let i=ne(n);return i.persistence.runTransaction("Get next mutation batch","readonly",t=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function hM(n,e){let i=ne(n);return i.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return i.Qr.getTargetData(t,e).next(s=>s?(r=s,F.resolve(r)):i.Qr.allocateTargetId(t).next(o=>(r=new Ha(e,o,"TargetPurposeListen",t.currentSequenceNumber),i.Qr.addTargetData(t,r).next(()=>r))))}).then(t=>{let r=i.ns.get(t.targetId);return(r===null||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(t.targetId,t),i.rs.set(e,t.targetId)),t})}function xm(n,e,i){return S(this,null,function*(){let t=ne(n),r=t.ns.get(e),s=i?"readwrite":"readwrite-primary";try{i||(yield t.persistence.runTransaction("Release target",s,o=>t.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!tc(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}t.ns=t.ns.remove(e),t.rs.delete(r.target)})}function C0(n,e,i){let t=ne(n),r=ie.min(),s=fe();return t.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){let p=ne(l),g=p.rs.get(f);return g!==void 0?F.resolve(p.ns.get(g)):p.Qr.getTargetData(u,f)}(t,o,Gn(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,t.Qr.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>t.ts.getDocumentsMatchingQuery(o,e,i?r:ie.min(),i?s:fe())).next(c=>(dM(t,Ax(e),c),{documents:c,hs:s})))}function dM(n,e,i){let t=n.ss.get(e)||ie.min();i.forEach((r,s)=>{s.readTime.compareTo(t)>0&&(t=s.readTime)}),n.ss.set(e,t)}var bu=class{constructor(){this.activeTargetIds=Mx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Mm=class{constructor(){this.no=new bu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,t){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,i,t){this.ro[e]=i}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new bu,Promise.resolve()}handleUserChange(e,i,t){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Om=class{io(e){}shutdown(){}};var Iu=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ru=null;function Ap(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}var fM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Nm=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Pt="WebChannelConnection",Fm=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let t=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+i.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(i,t,r,s,o){let c=Ap(),l=this.vo(i,t.toUriEncodedString());G("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(i,l,u,r).then(f=>(G("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw Fs("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,t,r,s,o,c){return this.Co(i,t,r,s,o)}Fo(i,t,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>i[o]=s),r&&r.headers.forEach((s,o)=>i[o]=s)}vo(i,t){let r=fM[i];return`${this.wo}/v1/${t}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,i,t,r){let s=Ap();return new Promise((o,c)=>{let l=new wp;l.setWithCredentials(!0),l.listenOnce(Ip.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fa.NO_ERROR:let f=l.getResponseJson();G(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Fa.TIMEOUT:G(Pt,`RPC '${e}' ${s} timed out`),c(new q(x.DEADLINE_EXCEEDED,"Request time out"));break;case Fa.HTTP_ERROR:let p=l.getStatus();if(G(Pt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let T=g?.error;if(T&&T.status&&T.message){let A=function(D){let L=D.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(L)>=0?L:x.UNKNOWN}(T.status);c(new q(A,T.message))}else c(new q(x.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new q(x.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{G(Pt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);G(Pt,`RPC '${e}' ${s} sending request:`,r),l.send(i,"POST",u,t,15)})}Oo(e,i,t){let r=Ap(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Cp(),c=Tp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new bp({})),this.Fo(l.initMessageHeaders,i,t),l.encodeInitMessageHeaders=!0;let f=s.join("");G(Pt,`Creating RPC '${e}' stream ${r}: ${f}`,l);let p=o.createWebChannel(f,l),g=!1,T=!1,A=new Nm({lo:D=>{T?G(Pt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(g||(G(Pt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),g=!0),G(Pt,`RPC '${e}' stream ${r} sending:`,D),p.send(D))},ho:()=>p.close()}),M=(D,L,W)=>{D.listen(L,B=>{try{W(B)}catch(z){setTimeout(()=>{throw z},0)}})};return M(p,Rs.EventType.OPEN,()=>{T||(G(Pt,`RPC '${e}' stream ${r} transport opened.`),A.mo())}),M(p,Rs.EventType.CLOSE,()=>{T||(T=!0,G(Pt,`RPC '${e}' stream ${r} transport closed`),A.po())}),M(p,Rs.EventType.ERROR,D=>{T||(T=!0,Fs(Pt,`RPC '${e}' stream ${r} transport errored:`,D),A.po(new q(x.UNAVAILABLE,"The operation could not be completed")))}),M(p,Rs.EventType.MESSAGE,D=>{var L;if(!T){let W=D.data[0];Ve(!!W);let B=W,z=B.error||((L=B[0])===null||L===void 0?void 0:L.error);if(z){G(Pt,`RPC '${e}' stream ${r} received error:`,z);let he=z.status,H=function(_){let v=rt[_];if(v!==void 0)return oI(v)}(he),E=z.message;H===void 0&&(H=x.INTERNAL,E="Unknown error status: "+he+" with message "+z.message),T=!0,A.po(new q(H,E)),p.close()}else G(Pt,`RPC '${e}' stream ${r} received:`,W),A.yo(W)}}),M(c,Ep.STAT_EVENT,D=>{D.stat===nu.PROXY?G(Pt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===nu.NOPROXY&&G(Pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{A.fo()},0),A}};function Rp(){return typeof document<"u"?document:null}function Uu(n){return new cm(n,!0)}var Eu=class{constructor(e,i,t=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=i,this.No=t,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let i=Math.floor(this.ko+this.Uo()),t=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-t);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${t} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Tu=class{constructor(e,i,t,r,s,o,c,l){this.oi=e,this.Go=t,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Eu(e,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return S(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return S(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,i){return S(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():i&&i.code===x.RESOURCE_EXHAUSTED?(ui(i.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,r])=>{this.jo===i&&this.u_(t,r)},t=>{e(()=>{let r=new q(x.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(r)})})}u_(e,i){let t=this.a_(this.jo);this.stream=this.l_(e,i),this.stream.Po(()=>{t(()=>this.listener.Po())}),this.stream.To(()=>{t(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{t(()=>this.c_(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>S(this,null,function*(){this.state=0,this.start()}))}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return i=>{this.oi.enqueueAndForget(()=>this.jo===e?i():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Vm=class extends Tu{constructor(e,i,t,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,t,r,o),this.serializer=s}l_(e,i){return this.connection.Oo("Listen",e,i)}onMessage(e){this.Yo.reset();let i=Kx(this.serializer,e),t=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?Hn(o.readTime):ie.min()}(e);return this.listener.h_(i,t)}P_(e){let i={};i.database=dm(this.serializer),i.addTarget=function(s,o){let c,l=o.target;if(c=Xp(l)?{documents:Xx(s,l)}:{query:Jx(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=aI(s,o.resumeToken);let u=lm(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){c.readTime=yu(s,o.snapshotVersion.toTimestamp());let u=lm(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let t=eM(this.serializer,e);t&&(i.labels=t),this.i_(i)}I_(e){let i={};i.database=dm(this.serializer),i.removeTarget=e,this.i_(i)}},Lm=class extends Tu{constructor(e,i,t,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,t,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,i){return this.connection.Oo("Write",e,i)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let i=Qx(e.writeResults,e.commitTime),t=Hn(e.commitTime);return this.listener.A_(t,i)}return Ve(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=dm(this.serializer),this.i_(e)}d_(e){let i={streamToken:this.lastStreamToken,writes:e.map(t=>Yx(this.serializer,t))};this.i_(i)}};var jm=class extends class{}{constructor(e,i,t,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=t,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,i,t,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,um(i,t),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(x.UNKNOWN,s.toString())})}xo(e,i,t,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.xo(e,um(i,t),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(x.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Um=class{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ui(i),this.y_=!1):G("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Bm=class{constructor(e,i,t,r,s){this.localStore=e,this.datastore=i,this.asyncQueue=t,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{t.enqueueAndForget(()=>S(this,null,function*(){Lr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(l){return S(this,null,function*(){let u=ne(l);u.M_.add(4),yield nc(u),u.N_.set("Unknown"),u.M_.delete(4),yield Bu(u)})}(this))}))}),this.N_=new Um(t,r)}};function Bu(n){return S(this,null,function*(){if(Lr(n))for(let e of n.x_)yield e(!0)})}function nc(n){return S(this,null,function*(){for(let e of n.x_)yield e(!1)})}function gI(n,e){let i=ne(n);i.F_.has(e.targetId)||(i.F_.set(e.targetId,e),Eg(i)?Ig(i):Zs(i).Xo()&&bg(i,e))}function wg(n,e){let i=ne(n),t=Zs(i);i.F_.delete(e),t.Xo()&&_I(i,e),i.F_.size===0&&(t.Xo()?t.n_():Lr(i)&&i.N_.set("Unknown"))}function bg(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Zs(n).P_(e)}function _I(n,e){n.L_.xe(e),Zs(n).I_(e)}function Ig(n){n.L_=new am({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Zs(n).start(),n.N_.w_()}function Eg(n){return Lr(n)&&!Zs(n).Zo()&&n.F_.size>0}function Lr(n){return ne(n).M_.size===0}function vI(n){n.L_=void 0}function pM(n){return S(this,null,function*(){n.N_.set("Online")})}function mM(n){return S(this,null,function*(){n.F_.forEach((e,i)=>{bg(n,e)})})}function gM(n,e){return S(this,null,function*(){vI(n),Eg(n)?(n.N_.D_(e),Ig(n)):n.N_.set("Unknown")})}function _M(n,e,i){return S(this,null,function*(){if(n.N_.set("Online"),e instanceof _u&&e.state===2&&e.cause)try{yield function(r,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.F_.delete(c),r.L_.removeTarget(c))})}(n,e)}catch(t){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),t),yield Cu(n,t)}else if(e instanceof Os?n.L_.Ke(e):e instanceof gu?n.L_.He(e):n.L_.We(e),!i.isEqual(ie.min()))try{let t=yield mI(n.localStore);i.compareTo(t)>=0&&(yield function(s,o){let c=s.L_.rt(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{let f=s.F_.get(l);if(!f)return;s.F_.set(l,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),_I(s,l);let p=new Ha(f.target,l,u,f.sequenceNumber);bg(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,i))}catch(t){G("RemoteStore","Failed to raise snapshot:",t),yield Cu(n,t)}})}function Cu(n,e,i){return S(this,null,function*(){if(!tc(e))throw e;n.M_.add(1),yield nc(n),n.N_.set("Offline"),i||(i=()=>mI(n.localStore)),n.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield i(),n.M_.delete(1),yield Bu(n)}))})}function yI(n,e){return e().catch(i=>Cu(n,i,e))}function zu(n){return S(this,null,function*(){let e=ne(n),i=Xi(e),t=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;vM(e);)try{let r=yield uM(e.localStore,t);if(r===null){e.v_.length===0&&i.n_();break}t=r.batchId,yM(e,r)}catch(r){yield Cu(e,r)}wI(e)&&bI(e)})}function vM(n){return Lr(n)&&n.v_.length<10}function yM(n,e){n.v_.push(e);let i=Xi(n);i.Xo()&&i.E_&&i.d_(e.mutations)}function wI(n){return Lr(n)&&!Xi(n).Zo()&&n.v_.length>0}function bI(n){Xi(n).start()}function wM(n){return S(this,null,function*(){Xi(n).V_()})}function bM(n){return S(this,null,function*(){let e=Xi(n);for(let i of n.v_)e.d_(i.mutations)})}function IM(n,e,i){return S(this,null,function*(){let t=n.v_.shift(),r=im.from(t,e,i);yield yI(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zu(n)})}function EM(n,e){return S(this,null,function*(){e&&Xi(n).E_&&(yield function(t,r){return S(this,null,function*(){if(function(o){return Ux(o)&&o!==x.ABORTED}(r.code)){let s=t.v_.shift();Xi(t).t_(),yield yI(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield zu(t)}})}(n,e)),wI(n)&&bI(n)})}function S0(n,e){return S(this,null,function*(){let i=ne(n);i.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let t=Lr(i);i.M_.add(3),yield nc(i),t&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.M_.delete(3),yield Bu(i)})}function TM(n,e){return S(this,null,function*(){let i=ne(n);e?(i.M_.delete(2),yield Bu(i)):e||(i.M_.add(2),yield nc(i),i.N_.set("Unknown"))})}function Zs(n){return n.B_||(n.B_=function(i,t,r){let s=ne(i);return s.f_(),new Vm(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:pM.bind(null,n),To:mM.bind(null,n),Ao:gM.bind(null,n),h_:_M.bind(null,n)}),n.x_.push(e=>S(this,null,function*(){e?(n.B_.t_(),Eg(n)?Ig(n):n.N_.set("Unknown")):(yield n.B_.stop(),vI(n))}))),n.B_}function Xi(n){return n.k_||(n.k_=function(i,t,r){let s=ne(i);return s.f_(),new Lm(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:wM.bind(null,n),Ao:EM.bind(null,n),R_:bM.bind(null,n),A_:IM.bind(null,n)}),n.x_.push(e=>S(this,null,function*(){e?(n.k_.t_(),yield zu(n)):(yield n.k_.stop(),n.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var zm=class n{constructor(e,i,t,r,s){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=t,this.op=r,this.removalCallback=s,this.deferred=new qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,t,r,s){let o=Date.now()+t,c=new n(e,i,o,r,s);return c.start(t),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tg(n,e){if(ui("AsyncQueue",`${e}: ${n}`),tc(n))return new q(x.UNAVAILABLE,`${e}: ${n}`);throw n}var Su=class n{constructor(e){this.comparator=e?(i,t)=>e(i,t)||X.comparator(i.key,t.key):(i,t)=>X.comparator(i.key,t.key),this.keyedMap=La(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,t)=>(e(i),!1))}add(e){let i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){let i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let i=this.sortedSet.getIterator(),t=e.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,s=t.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){let t=new n;return t.comparator=this.comparator,t.keyedMap=e,t.sortedSet=i,t}};var Au=class{constructor(){this.q_=new Ye(X.comparator)}track(e){let i=e.doc.key,t=this.q_.get(i);t?e.type!==0&&t.type===3?this.q_=this.q_.insert(i,e):e.type===3&&t.type!==1?this.q_=this.q_.insert(i,{type:t.type,doc:e.doc}):e.type===2&&t.type===2?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):e.type===2&&t.type===0?this.q_=this.q_.insert(i,{type:0,doc:e.doc}):e.type===1&&t.type===0?this.q_=this.q_.remove(i):e.type===1&&t.type===2?this.q_=this.q_.insert(i,{type:1,doc:t.doc}):e.type===0&&t.type===1?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):Z():this.q_=this.q_.insert(i,e)}Q_(){let e=[];return this.q_.inorderTraversal((i,t)=>{e.push(t)}),e}},Gs=class n{constructor(e,i,t,r,s,o,c,l,u){this.query=e,this.docs=i,this.oldDocs=t,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,i,t,r,s){let o=[];return i.forEach(c=>{o.push({type:0,doc:c})}),new n(e,i,Su.emptySet(i),o,t,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let i=this.docChanges,t=e.docChanges;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==t[r].type||!i[r].doc.isEqual(t[r].doc))return!1;return!0}};var $m=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},qm=class{constructor(){this.queries=new Qi(e=>H0(e),Lu),this.onlineState="Unknown",this.z_=new Set}};function CM(n,e){return S(this,null,function*(){let i=ne(n),t=3,r=e.query,s=i.queries.get(r);s?!s.W_()&&e.G_()&&(t=2):(s=new $m,t=e.G_()?0:1);try{switch(t){case 0:s.K_=yield i.onListen(r,!0);break;case 1:s.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(o){let c=Tg(o,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(c)}i.queries.set(r,s),s.U_.push(e),e.j_(i.onlineState),s.K_&&e.H_(s.K_)&&Cg(i)})}function SM(n,e){return S(this,null,function*(){let i=ne(n),t=e.query,r=3,s=i.queries.get(t);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(t),i.onUnlisten(t,!0);case 1:return i.queries.delete(t),i.onUnlisten(t,!1);case 2:return i.onLastRemoteStoreUnlisten(t);default:return}})}function AM(n,e){let i=ne(n),t=!1;for(let r of e){let s=r.query,o=i.queries.get(s);if(o){for(let c of o.U_)c.H_(r)&&(t=!0);o.K_=r}}t&&Cg(i)}function RM(n,e,i){let t=ne(n),r=t.queries.get(e);if(r)for(let s of r.U_)s.onError(i);t.queries.delete(e)}function Cg(n){n.z_.forEach(e=>{e.next()})}var Wm,A0;(A0=Wm||(Wm={})).J_="default",A0.Cache="cache";var Gm=class{constructor(e,i,t){this.query=e,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=t||{}}H_(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)r.type!==3&&t.push(r);e=new Gs(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),i=!0):this.ta(e,this.onlineState)&&(this.na(e),i=!0),this.X_=e,i}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),i=!0),i}ta(e,i){if(!e.fromCache||!this.G_())return!0;let t=i!=="Offline";return(!this.options.ra||!t)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Wm.Cache}};var Ru=class{constructor(e){this.key=e}},Du=class{constructor(e){this.key=e}},Hm=class{constructor(e,i){this.query=e,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=K0(e),this.Ta=new Su(this.Ia)}get Ea(){return this.la}da(e,i){let t=i?i.Aa:new Au,r=i?i.Ta:this.Ta,s=i?i.mutatedKeys:this.mutatedKeys,o=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{let g=r.get(f),T=ju(this.query,p)?p:null,A=!!g&&this.mutatedKeys.has(g.key),M=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),D=!1;g&&T?g.data.isEqual(T.data)?A!==M&&(t.track({type:3,doc:T}),D=!0):this.Ra(g,T)||(t.track({type:2,doc:T}),D=!0,(l&&this.Ia(T,l)>0||u&&this.Ia(T,u)<0)&&(c=!0)):!g&&T?(t.track({type:0,doc:T}),D=!0):g&&!T&&(t.track({type:1,doc:g}),D=!0,(l||u)&&(c=!0)),D&&(T?(o=o.add(T),s=M?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),t.track({type:1,doc:f})}return{Ta:o,Aa:t,Xi:c,mutatedKeys:s}}Ra(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,t,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((f,p)=>function(T,A){let M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return M(T)-M(A)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(t),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Gs(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!t&&t.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Au,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(i=>this.la=this.la.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=fe(),this.Ta.forEach(t=>{this.ga(t.key)&&(this.Pa=this.Pa.add(t.key))});let i=[];return e.forEach(t=>{this.Pa.has(t)||i.push(new Du(t))}),this.Pa.forEach(t=>{e.has(t)||i.push(new Ru(t))}),i}pa(e){this.la=e.hs,this.Pa=fe();let i=this.da(e.documents);return this.applyChanges(i,!0)}ya(){return Gs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Km=class{constructor(e,i,t){this.query=e,this.targetId=i,this.view=t}},Ym=class{constructor(e){this.key=e,this.wa=!1}},Qm=class{constructor(e,i,t,r,s,o){this.localStore=e,this.remoteStore=i,this.eventManager=t,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Qi(c=>H0(c),Lu),this.Da=new Map,this.Ca=new Set,this.va=new Ye(X.comparator),this.Fa=new Map,this.Ma=new Ya,this.xa={},this.Oa=new Map,this.Na=Ka.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function DM(n,e,i=!0){return S(this,null,function*(){let t=AI(n),r,s=t.ba.get(e);return s?(t.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield II(t,e,i,!0),r})}function PM(n,e){return S(this,null,function*(){let i=AI(n);yield II(i,e,!0,!1)})}function II(n,e,i,t){return S(this,null,function*(){let r=yield hM(n.localStore,Gn(e)),s=r.targetId,o=i?n.sharedClientState.addLocalQueryTarget(s):"not-current",c;return t&&(c=yield kM(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&i&&gI(n.remoteStore,r),c})}function kM(n,e,i,t,r){return S(this,null,function*(){n.Ba=(p,g,T)=>function(M,D,L,W){return S(this,null,function*(){let B=D.view.da(L);B.Xi&&(B=yield C0(M.localStore,D.query,!1).then(({documents:E})=>D.view.da(E,B)));let z=W&&W.targetChanges.get(D.targetId),he=W&&W.targetMismatches.get(D.targetId)!=null,H=D.view.applyChanges(B,M.isPrimaryClient,z,he);return D0(M,D.targetId,H.fa),H.snapshot})}(n,p,g,T);let s=yield C0(n.localStore,e,!0),o=new Hm(e,s.hs),c=o.da(s.documents),l=Ga.createSynthesizedTargetChangeForCurrentChange(i,t&&n.onlineState!=="Offline",r),u=o.applyChanges(c,n.isPrimaryClient,l);D0(n,i,u.fa);let f=new Km(e,i,o);return n.ba.set(e,f),n.Da.has(i)?n.Da.get(i).push(e):n.Da.set(i,[e]),u.snapshot})}function xM(n,e,i){return S(this,null,function*(){let t=ne(n),r=t.ba.get(e),s=t.Da.get(r.targetId);if(s.length>1)return t.Da.set(r.targetId,s.filter(o=>!Lu(o,e))),void t.ba.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),i&&wg(t.remoteStore,r.targetId),Xm(t,r.targetId)}).catch(ec))):(Xm(t,r.targetId),yield xm(t.localStore,r.targetId,!0))})}function MM(n,e){return S(this,null,function*(){let i=ne(n),t=i.ba.get(e),r=i.Da.get(t.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(t.targetId),wg(i.remoteStore,t.targetId))})}function OM(n,e,i){return S(this,null,function*(){let t=BM(n);try{let r=yield function(o,c){let l=ne(o),u=wt.now(),f=c.reduce((T,A)=>T.add(A.key),fe()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let A=di(),M=fe();return l.os.getEntries(T,f).next(D=>{A=D,A.forEach((L,W)=>{W.isValidDocument()||(M=M.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,A)).next(D=>{p=D;let L=[];for(let W of c){let B=jx(W,p.get(W.key).overlayedDocument);B!=null&&L.push(new Yn(W.key,B,j0(B.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(T,u,L,c)}).next(D=>{g=D;let L=D.applyToLocalDocumentSet(p,M);return l.documentOverlayCache.saveOverlays(T,D.batchId,L)})}).then(()=>({batchId:g.batchId,changes:Q0(p)}))}(t.localStore,e);t.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Ye(Te)),u=u.insert(c,l),o.xa[o.currentUser.toKey()]=u}(t,r.batchId,i),yield ic(t,r.changes),yield zu(t.remoteStore)}catch(r){let s=Tg(r,"Failed to persist write");i.reject(s)}})}function EI(n,e){return S(this,null,function*(){let i=ne(n);try{let t=yield cM(i.localStore,e);e.targetChanges.forEach((r,s)=>{let o=i.Fa.get(s);o&&(Ve(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Ve(o.wa):r.removedDocuments.size>0&&(Ve(o.wa),o.wa=!1))}),yield ic(i,t,e)}catch(t){yield ec(t)}})}function R0(n,e,i){let t=ne(n);if(t.isPrimaryClient&&i===0||!t.isPrimaryClient&&i===1){let r=[];t.ba.forEach((s,o)=>{let c=o.view.j_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){let l=ne(o);l.onlineState=c;let u=!1;l.queries.forEach((f,p)=>{for(let g of p.U_)g.j_(c)&&(u=!0)}),u&&Cg(l)}(t.eventManager,e),r.length&&t.Sa.h_(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function NM(n,e,i){return S(this,null,function*(){let t=ne(n);t.sharedClientState.updateQueryState(e,"rejected",i);let r=t.Fa.get(e),s=r&&r.key;if(s){let o=new Ye(X.comparator);o=o.insert(s,Dn.newNoDocument(s,ie.min()));let c=fe().add(s),l=new mu(ie.min(),new Map,new Ye(Te),o,c);yield EI(t,l),t.va=t.va.remove(s),t.Fa.delete(e),Sg(t)}else yield xm(t.localStore,e,!1).then(()=>Xm(t,e,i)).catch(ec)})}function FM(n,e){return S(this,null,function*(){let i=ne(n),t=e.batch.batchId;try{let r=yield aM(i.localStore,e);CI(i,t,null),TI(i,t),i.sharedClientState.updateMutationState(t,"acknowledged"),yield ic(i,r)}catch(r){yield ec(r)}})}function VM(n,e,i){return S(this,null,function*(){let t=ne(n);try{let r=yield function(o,c){let l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,c).next(p=>(Ve(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(t.localStore,e);CI(t,e,i),TI(t,e),t.sharedClientState.updateMutationState(e,"rejected",i),yield ic(t,r)}catch(r){yield ec(r)}})}function TI(n,e){(n.Oa.get(e)||[]).forEach(i=>{i.resolve()}),n.Oa.delete(e)}function CI(n,e,i){let t=ne(n),r=t.xa[t.currentUser.toKey()];if(r){let s=r.get(e);s&&(i?s.reject(i):s.resolve(),r=r.remove(e)),t.xa[t.currentUser.toKey()]=r}}function Xm(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(let t of n.Da.get(e))n.ba.delete(t),i&&n.Sa.ka(t,i);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(t=>{n.Ma.containsKey(t)||SI(n,t)})}function SI(n,e){n.Ca.delete(e.path.canonicalString());let i=n.va.get(e);i!==null&&(wg(n.remoteStore,i),n.va=n.va.remove(e),n.Fa.delete(i),Sg(n))}function D0(n,e,i){for(let t of i)t instanceof Ru?(n.Ma.addReference(t.key,e),LM(n,t)):t instanceof Du?(G("SyncEngine","Document no longer in limbo: "+t.key),n.Ma.removeReference(t.key,e),n.Ma.containsKey(t.key)||SI(n,t.key)):Z()}function LM(n,e){let i=e.key,t=i.path.canonicalString();n.va.get(i)||n.Ca.has(t)||(G("SyncEngine","New document in limbo: "+i),n.Ca.add(t),Sg(n))}function Sg(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let i=new X(We.fromString(e)),t=n.Na.next();n.Fa.set(t,new Ym(i)),n.va=n.va.insert(i,t),gI(n.remoteStore,new Ha(Gn(W0(i.path)),t,"TargetPurposeLimboResolution",F0.oe))}}function ic(n,e,i){return S(this,null,function*(){let t=ne(n),r=[],s=[],o=[];t.ba.isEmpty()||(t.ba.forEach((c,l)=>{o.push(t.Ba(l,e,i).then(u=>{var f;if((u||i)&&t.isPrimaryClient){let p=u?!u.fromCache:(f=i?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;t.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=Rm.Ki(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),t.Sa.h_(r),yield function(l,u){return S(this,null,function*(){let f=ne(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,g=>F.forEach(g.qi,T=>f.persistence.referenceDelegate.addReference(p,g.targetId,T)).next(()=>F.forEach(g.Qi,T=>f.persistence.referenceDelegate.removeReference(p,g.targetId,T)))))}catch(p){if(!tc(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let T=f.ns.get(g),A=T.snapshotVersion,M=T.withLastLimboFreeSnapshotVersion(A);f.ns=f.ns.insert(g,M)}}})}(t.localStore,s))})}function jM(n,e){return S(this,null,function*(){let i=ne(n);if(!i.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());let t=yield pI(i.localStore,e);i.currentUser=e,function(s,o){s.Oa.forEach(c=>{c.forEach(l=>{l.reject(new q(x.CANCELLED,o))})}),s.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield ic(i,t.us)}})}function UM(n,e){let i=ne(n),t=i.Fa.get(e);if(t&&t.wa)return fe().add(t.key);{let r=fe(),s=i.Da.get(e);if(!s)return r;for(let o of s){let c=i.ba.get(o);r=r.unionWith(c.view.Ea)}return r}}function AI(n){let e=ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NM.bind(null,e),e.Sa.h_=AM.bind(null,e.eventManager),e.Sa.ka=RM.bind(null,e.eventManager),e}function BM(n){let e=ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VM.bind(null,e),e}var Pu=class{constructor(){this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return oM(this.persistence,new Pm,e.initialUser,this.serializer)}createPersistence(e){return new Cm(Am.Hr,this.serializer)}createSharedClientState(e){return new Mm}terminate(){return S(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Jm=class{initialize(e,i){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>R0(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=jM.bind(null,this.syncEngine),yield TM(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new qm}()}createDatastore(e){let i=Uu(e.databaseInfo.databaseId),t=function(s){return new Fm(s)}(e.databaseInfo);return function(s,o,c,l){return new jm(s,o,c,l)}(e.authCredentials,e.appCheckCredentials,t,i)}createRemoteStore(e){return function(t,r,s,o,c){return new Bm(t,r,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,i=>R0(this.syncEngine,i,0),function(){return Iu.D()?new Iu:new Om}())}createSyncEngine(e,i){return function(r,s,o,c,l,u,f){let p=new Qm(r,s,o,c,l,u);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return S(this,null,function*(){var e;yield function(t){return S(this,null,function*(){let r=ne(t);G("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield nc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Zm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}};var eg=class{constructor(e,i,t,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=t,this.databaseInfo=r,this.user=dt.UNAUTHENTICATED,this.clientId=cu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(t,s=>S(this,null,function*(){G("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(t,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let t=Tg(i,"Failed to shutdown persistence");e.reject(t)}})),e.promise}};function Dp(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let i=n.configuration;yield e.initialize(i);let t=i.initialUser;n.setCredentialChangeListener(r=>S(this,null,function*(){t.isEqual(r)||(yield pI(e.localStore,r),t=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function P0(n,e){return S(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let i=yield $M(n);G("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,n.configuration),n.setCredentialChangeListener(t=>S0(e.remoteStore,t)),n.setAppCheckTokenChangeListener((t,r)=>S0(e.remoteStore,r)),n._onlineComponents=e})}function zM(n){return n.name==="FirebaseError"?n.code===x.FAILED_PRECONDITION||n.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function $M(n){return S(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dp(n,n._uninitializedComponentsProvider._offline)}catch(e){let i=e;if(!zM(i))throw i;Fs("Error using user provided cache. Falling back to memory cache: "+i),yield Dp(n,new Pu)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield Dp(n,new Pu);return n._offlineComponents})}function RI(n){return S(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield P0(n,n._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield P0(n,new Jm))),n._onlineComponents})}function qM(n){return RI(n).then(e=>e.syncEngine)}function WM(n){return S(this,null,function*(){let e=yield RI(n),i=e.eventManager;return i.onListen=DM.bind(null,e.syncEngine),i.onUnlisten=xM.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=PM.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=MM.bind(null,e.syncEngine),i})}function GM(n,e,i={}){let t=new qn;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return function(s,o,c,l,u){let f=new Zm({next:g=>{o.enqueueAndForget(()=>SM(s,p)),g.fromCache&&l.source==="server"?u.reject(new q(x.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new Gm(c,f,{includeMetadataChanges:!0,ra:!0});return CM(s,p)}(yield WM(n),n.asyncQueue,e,i,t)})),t.promise}function DI(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var k0=new Map;function PI(n,e,i){if(!i)throw new q(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HM(n,e,i,t){if(e===!0&&t===!0)throw new q(x.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function x0(n){if(!X.isDocumentKey(n))throw new q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M0(n){if(X.isDocumentKey(n))throw new q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $u(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function Hs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=$u(n);throw new q(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}var ku=class{constructor(e){var i,t;if(e.host===void 0){if(e.ssl!==void 0)throw new q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI((t=e.experimentalLongPollingOptions)!==null&&t!==void 0?t:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,r){return t.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ks=class{constructor(e,i,t,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=t,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ku({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ku(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new Pp;switch(t.type){case"firstParty":return new Op(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let t=k0.get(i);t&&(G("ComponentProvider","Removing Datastore"),k0.delete(i),t.terminate())}(this),Promise.resolve()}};function kI(n,e,i,t={}){var r;let s=(n=Hs(n,Ks))._getSettings(),o=`${e}:${i}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),t.mockUserToken){let c,l;if(typeof t.mockUserToken=="string")c=t.mockUserToken,l=dt.MOCK_USER;else{c=gb(t.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=t.mockUserToken.sub||t.mockUserToken.user_id;if(!u)throw new q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dt(u)}n._authCredentials=new kp(new au(c,l))}}var Ys=class n{constructor(e,i,t){this.converter=i,this._query=t,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},nn=class n{constructor(e,i,t){this.converter=i,this._key=t,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Ki=class n extends Ys{constructor(e,i,t){super(e,i,W0(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function xI(n,e,...i){if(n=Lt(n),PI("collection","path",e),n instanceof Ks){let t=We.fromString(e,...i);return M0(t),new Ki(n,null,t)}{if(!(n instanceof nn||n instanceof Ki))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let t=n._path.child(We.fromString(e,...i));return M0(t),new Ki(n.firestore,null,t)}}function MI(n,e,...i){if(n=Lt(n),arguments.length===1&&(e=cu.newId()),PI("doc","path",e),n instanceof Ks){let t=We.fromString(e,...i);return x0(t),new nn(n,null,new X(t))}{if(!(n instanceof nn||n instanceof Ki))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let t=n._path.child(We.fromString(e,...i));return x0(t),new nn(n.firestore,n instanceof Ki?n.converter:null,new X(t))}}var tg=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Eu(this,"async_queue_retry"),this.hu=()=>{let i=Rp();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let e=Rp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let i=Rp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new qn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return S(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!tc(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let i=this.iu.then(()=>(this.uu=!0,e().catch(t=>{this.au=t,this.uu=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(t);throw ui("INTERNAL UNHANDLED ERROR: ",r),t}).then(t=>(this.uu=!1,t))));return this.iu=i,i}enqueueAfterDelay(e,i,t){this.Pu(),this.lu.indexOf(e)>-1&&(i=0);let r=zm.createAndSchedule(this,e,i,t,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&Z()}verifyOperationInProgress(){}du(){return S(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let i of this._u)if(i.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((i,t)=>i.targetTimeMs-t.targetTimeMs);for(let i of this._u)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let i=this._u.indexOf(e);this._u.splice(i,1)}};var Qs=class extends Ks{constructor(e,i,t,r){super(e,i,t,r),this.type="firestore",this._queue=function(){return new tg}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||FI(this),this._firestoreClient.terminate()}};function OI(n,e){let i=typeof n=="object"?n:Sa(),t=typeof n=="string"?n:e||"(default)",r=ep(i,"firestore").getImmediate({identifier:t});if(!r._initialized){let s=pb("firestore");s&&kI(r,...s)}return r}function NI(n){return n._firestoreClient||FI(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function FI(n){var e,i,t;let r=n._freezeSettings(),s=function(c,l,u,f){return new jp(c,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,DI(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new eg(n._authCredentials,n._appCheckCredentials,n._queue,s),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((t=r.localCache)===null||t===void 0)&&t._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Qa=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(jt.fromBase64String(e))}catch(i){throw new q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new n(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Xs=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xa=class{constructor(e){this._methodName=e}};var Ja=class{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var KM=/^__.*__$/,ng=class{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,i,this.fieldTransforms):new Fr(e,this.data,i,this.fieldTransforms)}},xu=class{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return new Yn(e,this.data,this.fieldMask,i,this.fieldTransforms)}};function VI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var ig=class n{constructor(e,i,t,r,s,o){this.settings=e,this.databaseId=i,this.serializer=t,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var i;let t=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:t,yu:!1});return r.wu(e),r}Su(e){var i;let t=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:t,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Ou(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(VI(this.fu)&&KM.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},rg=class{constructor(e,i,t){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=t||Uu(e)}Fu(e,i,t,r=!1){return new ig({fu:e,methodName:i,vu:t,path:tn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Ag(n){let e=n._freezeSettings(),i=Uu(n._databaseId);return new rg(n._databaseId,!!e.ignoreUndefinedProperties,i)}function YM(n,e,i,t,r,s={}){let o=n.Fu(s.merge||s.mergeFields?2:0,e,i,r);Rg("Data must be an object, but it was:",o,t);let c=LI(t,o),l,u;if(s.merge)l=new mn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let g=sg(e,p,i);if(!o.contains(g))throw new q(x.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);UI(f,g)||f.push(g)}l=new mn(f),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new ng(new en(c),l,u)}var Mu=class n extends Xa{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function QM(n,e,i,t){let r=n.Fu(1,e,i);Rg("Data must be an object, but it was:",r,t);let s=[],o=en.empty();Vr(t,(l,u)=>{let f=Dg(e,l,i);u=Lt(u);let p=r.Su(f);if(u instanceof Mu)s.push(f);else{let g=rc(u,p);g!=null&&(s.push(f),o.set(f,g))}});let c=new mn(s);return new xu(o,c,r.fieldTransforms)}function XM(n,e,i,t,r,s){let o=n.Fu(1,e,i),c=[sg(e,t,i)],l=[r];if(s.length%2!=0)throw new q(x.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)c.push(sg(e,s[g])),l.push(s[g+1]);let u=[],f=en.empty();for(let g=c.length-1;g>=0;--g)if(!UI(u,c[g])){let T=c[g],A=l[g];A=Lt(A);let M=o.Su(T);if(A instanceof Mu)u.push(T);else{let D=rc(A,M);D!=null&&(u.push(T),f.set(T,D))}}let p=new mn(u);return new xu(f,p,o.fieldTransforms)}function JM(n,e,i,t=!1){return rc(i,n.Fu(t?4:3,e))}function rc(n,e){if(jI(n=Lt(n)))return Rg("Unsupported field value:",e,n),LI(n,e);if(n instanceof Xa)return function(t,r){if(!VI(r.fu))throw r.Du(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${t._methodName}() is not currently supported inside arrays`);let s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(t,r){let s=[],o=0;for(let c of t){let l=rc(c,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if((t=Lt(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return Ox(r.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){let s=wt.fromDate(t);return{timestampValue:yu(r.serializer,s)}}if(t instanceof wt){let s=new wt(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yu(r.serializer,s)}}if(t instanceof Ja)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Qa)return{bytesValue:aI(r.serializer,t._byteString)};if(t instanceof nn){let s=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Du(`Unsupported field value: ${$u(t)}`)}(n,e)}function LI(n,e){let i={};return V0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(n,(t,r)=>{let s=rc(r,e.pu(t));s!=null&&(i[t]=s)}),{mapValue:{fields:i}}}function jI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof wt||n instanceof Ja||n instanceof Qa||n instanceof nn||n instanceof Xa)}function Rg(n,e,i){if(!jI(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let t=$u(i);throw t==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+t)}}function sg(n,e,i){if((e=Lt(e))instanceof Xs)return e._internalPath;if(typeof e=="string")return Dg(n,e);throw Ou("Field path arguments must be of type string or ",n,!1,void 0,i)}var ZM=new RegExp("[~\\*/\\[\\]]");function Dg(n,e,i){if(e.search(ZM)>=0)throw Ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Xs(...e.split("."))._internalPath}catch{throw Ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function Ou(n,e,i,t,r){let s=t&&!t.isEmpty(),o=r!==void 0,c=`Function ${e}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${t}`),o&&(l+=` in document ${r}`),l+=")"),new q(x.INVALID_ARGUMENT,c+n+l)}function UI(n,e){return n.some(i=>i.isEqual(e))}var Nu=class{constructor(e,i,t,r,s){this._firestore=e,this._userDataWriter=i,this._key=t,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new og(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(Pg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},og=class extends Nu{data(){return super.data()}};function Pg(n,e){return typeof e=="string"?Dg(n,e):e instanceof Xs?e._internalPath:e._delegate._internalPath}function eO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new q(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Za=class{},ag=class extends Za{};function BI(n,e,...i){let t=[];e instanceof Za&&t.push(e),t=t.concat(i),function(s){let o=s.filter(l=>l instanceof cg).length,c=s.filter(l=>l instanceof Fu).length;if(o>1||o>0&&c>0)throw new q(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(let r of t)n=r._apply(n);return n}var Fu=class n extends ag{constructor(e,i,t){super(),this._field=e,this._op=i,this._value=t,this.type="where"}static _create(e,i,t){return new n(e,i,t)}_apply(e){let i=this._parse(e);return $I(e._query,i),new Ys(e.firestore,e.converter,Jp(e._query,i))}_parse(e){let i=Ag(e.firestore);return function(s,o,c,l,u,f,p){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){N0(p,f);let T=[];for(let A of p)T.push(O0(l,s,A));g={arrayValue:{values:T}}}else g=O0(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||N0(p,f),g=JM(c,o,p,f==="in"||f==="not-in");return ot.create(u,f,g)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}};function zI(n,e,i){let t=e,r=Pg("where",n);return Fu._create(r,t,i)}var cg=class n extends Za{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new n(e,i)}_parse(e){let i=this._queryConstraints.map(t=>t._parse(e)).filter(t=>t.getFilters().length>0);return i.length===1?i[0]:Pn.create(i,this._getOperator())}_apply(e){let i=this._parse(e);return i.getFilters().length===0?e:(function(r,s){let o=r,c=s.getFlattenedFilters();for(let l of c)$I(o,l),o=Jp(o,l)}(e._query,i),new Ys(e.firestore,e.converter,Jp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function O0(n,e,i){if(typeof(i=Lt(i))=="string"){if(i==="")throw new q(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G0(e)&&i.indexOf("/")!==-1)throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let t=e.path.child(We.fromString(i));if(!X.isDocumentKey(t))throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${t}' is not because it has an odd number of segments (${t.length}).`);return c0(n,new X(t))}if(i instanceof nn)return c0(n,i._key);throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$u(i)}.`)}function N0(n,e){if(!Array.isArray(n)||n.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $I(n,e){let i=function(r,s){for(let o of r)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new q(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}var lg=class{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw Z()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){let t={};return Vr(e,(r,s)=>{t[r]=this.convertValue(s,i)}),t}convertGeoPoint(e){return new Ja(Ke(e.latitude),Ke(e.longitude))}convertArray(e,i){return(e.values||[]).map(t=>this.convertValue(t,i))}convertServerTimestamp(e,i){switch(i){case"previous":let t=mg(e);return t==null?null:this.convertValue(t,i);case"estimate":return this.convertTimestamp(qa(e));default:return null}}convertTimestamp(e){let i=hi(e);return new wt(i.seconds,i.nanos)}convertDocumentKey(e,i){let t=We.fromString(e);Ve(fI(t));let r=new du(t.get(1),t.get(3)),s=new X(t.popFirst(5));return r.isEqual(i)||ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),s}};function tO(n,e,i){let t;return t=n?i&&(i.merge||i.mergeFields)?n.toFirestore(e,i):n.toFirestore(e):e,t}var Ms=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ug=class extends Nu{constructor(e,i,t,r,s,o){super(e,i,t,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new Ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t,i.serverTimestamps)}}},Ns=class extends ug{data(e={}){return super.data(e)}},hg=class{constructor(e,i,t,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new Ms(r.hasPendingWrites,r.fromCache),this.query=t}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(t=>{e.call(i,new Ns(this._firestore,this._userDataWriter,t.key,t,new Ms(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new q(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let l=new Ns(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ms(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Ns(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ms(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:nO(c.type),doc:l,oldIndex:u,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function nO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var dg=class extends lg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,i)}};function qI(n){n=Hs(n,Ys);let e=Hs(n.firestore,Qs),i=NI(e),t=new dg(e);return eO(n._query),GM(i,n._query).then(r=>new hg(e,t,n,r))}function WI(n,e,i,...t){n=Hs(n,nn);let r=Hs(n.firestore,Qs),s=Ag(r),o;return o=typeof(e=Lt(e))=="string"||e instanceof Xs?XM(s,"updateDoc",n._key,e,i,t):QM(s,"updateDoc",n._key,e),HI(r,[o.toMutation(n._key,Hi.exists(!0))])}function GI(n,e){let i=Hs(n.firestore,Qs),t=MI(n),r=tO(n.converter,e);return HI(i,[YM(Ag(n.firestore),"addDoc",t._key,r,n.converter!==null,{}).toMutation(t._key,Hi.exists(!1))]).then(()=>t)}function HI(n,e){return function(t,r){let s=new qn;return t.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return OM(yield qM(t),r,s)})),s.promise}(NI(n),e)}(function(e,i=!0){(function(r){Js=r})(Cs),qi(new pn("firestore",(t,{instanceIdentifier:r,options:s})=>{let o=t.getProvider("app").getImmediate(),c=new Qs(new xp(t.getProvider("auth-internal")),new Fp(t.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(u.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:i},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ht(s0,"4.6.4",e),ht(s0,"4.6.4","esm2017")})();var jr=class{constructor(e){return e}},KI="firestore",kg=class{constructor(){return Ra(KI)}};var xg=new Y("angularfire2.firestore-instances");function iO(n,e){let i=ip(KI,n,e);return i&&new jr(i)}function rO(n){return(e,i)=>{let t=e.runOutsideAngular(()=>n(i));return new jr(t)}}var sO={provide:kg,deps:[[new yn,xg]]},oO={provide:jr,useFactory:iO,deps:[[new yn,xg],Cr]};function YI(n,...e){return ht("angularfire",As.full,"fst"),wn([oO,sO,{provide:xg,useFactory:rO(n),multi:!0,deps:[ee,ct,Da,Pa,[new yn,eu],[new yn,Aa],...e]}])}var QI=Rn(GI,!0);var XI=Rn(xI,!0);var Mg=Rn(qI,!0);var JI=Rn(OI,!0);var ZI=Rn(BI,!0);var eE=Rn(WI,!0);var tE=Rn(zI,!0);var De=$h(kE(),1);var JB=De.default.DataSet,ZB=De.default.ParserError,ez=De.default.PhraseBuilder,xE=De.default.RegExpMatcher,tz=De.default.SyntaxKind,nz=De.default.TextCensor,iz=De.default.assignIncrementingIds,rz=De.default.asteriskCensorStrategy,sz=De.default.collapseDuplicatesTransformer,oz=De.default.compareMatchByPositionAndId,ME=De.default.englishDataset,az=De.default.englishRecommendedBlacklistMatcherTransformers,OE=De.default.englishRecommendedTransformers,cz=De.default.englishRecommendedWhitelistMatcherTransformers,lz=De.default.fixedCharCensorStrategy,uz=De.default.fixedPhraseCensorStrategy,hz=De.default.grawlixCensorStrategy,dz=De.default.keepEndCensorStrategy,fz=De.default.keepStartCensorStrategy,pz=De.default.parseRawPattern,mz=De.default.pattern,gz=De.default.randomCharFromSetCensorStrategy,_z=De.default.remapCharactersTransformer,vz=De.default.resolveConfusablesTransformer,yz=De.default.resolveLeetSpeakTransformer,wz=De.default.skipNonAlphabeticTransformer,bz=De.default.toAsciiLowerCaseTransformer;var ro=(()=>{let e=class e{constructor(){this.playerName=new Fw("",[ml.required,this.profanityValidator()]);let t=window.localStorage.getItem("playerName");t&&this.playerName.setValue(t)}saveName(){this.playerName.value&&this.playerName.valid&&window.localStorage.setItem("playerName",this.playerName.value.toUpperCase())}profanityValidator(){return t=>new xE(O(O({},ME.build()),OE)).hasMatch(t.value)?{profanity:!0}:null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var so=(()=>{let e=class e{constructor(t){this.nameService=t,this.firestore=U(jr),this.scoresCollection=XI(this.firestore,"scores")}saveScore(t){return S(this,null,function*(){let r=this.nameService.playerName.value?.toUpperCase();if(r)try{let s=yield this.getExistingScoreDoc(r);s?yield this.updateScoreIfHigher(s,t):yield this.addNewScore(r,t)}catch(s){console.error("Error saving or updating score: ",s)}})}getExistingScoreDoc(t){return S(this,null,function*(){let r=ZI(this.scoresCollection,tE("playerName","==",t)),s=yield Mg(r);return s.empty?null:s.docs[0]})}updateScoreIfHigher(t,r){return S(this,null,function*(){let s=t.data().score;r>s?(yield eE(t.ref,{score:r}),console.log("Score updated successfully!")):console.log("Existing score is higher or equal. No update made.")})}addNewScore(t,r){return S(this,null,function*(){yield QI(this.scoresCollection,{playerName:t,score:r}),console.log("Score saved successfully!")})}getAllScores(){return S(this,null,function*(){try{return(yield Mg(this.scoresCollection)).docs.map(s=>({playerName:s.data().playerName,score:s.data().score})).sort((s,o)=>o.score-s.score)}catch(t){return console.error("Error retrieving scores: ",t),[]}})}};e.\u0275fac=function(r){return new(r||e)(k(ro))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var gh=(()=>{let e=class e{constructor(t,r,s,o,c,l){this.canvasService=t,this.cursor=r,this.textService=s,this.particleService=o,this.firebaseService=c,this.nameService=l,this.paused=!0,this.ghost=!0,this.powerUpFrequency=3,this.scores=[],this.peas=new br(Se.pea().count,Se.pea().settings),this.corn=new br(Se.corn().count,Se.corn().settings),this.powerUps=new br(Se.powerUp().count,Se.powerUp().settings),this.hearts=new br(Se.heart().count,Se.heart().settings)}play(){window.localStorage.getItem("playerName")?(this.hideMenu(),this.hideNamePrompt(),this.newGame()):(this.hideMenu(),this.showNamePrompt())}newGame(){this.level=1,this.lives=3,this.resetObjectGroup(this.peas,Se.pea()),this.resetObjectGroup(this.corn,Se.corn()),this.resetObjectGroup(this.powerUps,Se.powerUp()),this.resetObjectGroup(this.hearts,Se.heart()),this.cursor.reset(),this.cursor.toggle(),this.textService.show(`Level ${this.level}`,"",2500),setTimeout(()=>{this.start()},3e3)}start(){this.peas.createObjects(),this.corn.createObjects(),this.hearts.createObjects(),this.paused=!1,this.cursor.blink(Ui.Gray,4,125),this.activateImmunity(1e3)}levelComplete(){this.ghost=!0,this.cursor.setInvincibility(!1),this.level++,this.paused=!0,this.textService.show(`Level ${this.level}`,this.hearts.objects[0].destroyed?"+ 1":"",3500),setTimeout(()=>{this.levelUp(),this.start()},4e3)}levelUp(){this.levelUpPeas(),this.levelUpCorn(),this.levelUpPowerUps(),this.levelUpHearts(),this.levelUpCursor(),this.level%this.powerUpFrequency===0?this.powerUps.createObjects():this.powerUps.objects=[]}levelUpPeas(){let t=Se.pea().settings,s=Math.max(t.size*Math.pow(.98,this.level),10),o=t.speed*Math.pow(1.005,this.level),c=Se.pea().count;this.peas.editSettings(s,o,c)}levelUpCorn(){let t=Se.corn().settings,s=Math.max(t.size*Math.pow(.98,this.level),20),o=t.speed*Math.pow(1.002,this.level),c=Math.min(Se.corn().count*Math.pow(1.05,this.level));this.corn.editSettings(s,o,c)}levelUpPowerUps(){let t=Se.powerUp().settings,s=Math.max(t.size*Math.pow(.98,this.level),10),o=t.speed,c=Se.powerUp().count;this.powerUps.editSettings(s,o,c)}levelUpHearts(){let t=Se.heart().settings,s=Math.max(t.size*Math.pow(.98,this.level),10),o=t.speed,c=Se.heart().count;this.hearts.editSettings(s,o,c)}levelUpCursor(){this.cursor.object.size=Math.max(Se.cursor().size*Math.pow(.98,this.level),10)}isLevelComplete(){let t=this.peas.objects.some(s=>!s.destroyed&&s.isWithinViewport),r=this.corn.objects.some(s=>s.isPea&&!s.destroyed&&s.isWithinViewport);return!t&&!r}gameOver(){this.firebaseService.saveScore(this.level),this.paused=!0,this.textService.show("Game Over",`You reached level ${this.level}`,5e3),setTimeout(()=>{this.showMenu(),this.cursor.toggle()},6e3)}resetObjectGroup(t,r){t.editSettings(r.settings.size,r.settings.speed,r.count)}handleGameObject(t){t.destroyed||(this.canvasService.drawObject(this.canvasService.context,t),this.customObjectBehaviour(t),this.handleCollisions(t),t.move())}customObjectBehaviour(t){let r=t.behaviourIncludes(Dt.Attract),s=t.behaviourIncludes(Dt.Repel),o=t.behaviourIncludes(Dt.Blue),c=t.behaviourIncludes(Dt.Slow);this.paused?(this.cursor.object.magnetise(t,500,7,!0,!1),this.particleService.create(t,1,.5),t.deltaY=t.deltaY+.05):(r&&this.cursor.object.magnetise(t,25,4,!1),s&&this.cursor.object.magnetise(t,20,5,!0),o&&(t.type=Rt.Pea,t.color="#0055FF",t.size=this.peas.objects[0].size,t.shape=qt.Circle),c&&(t.deltaX=1*(Math.random()<.5?-1:1),t.deltaY=1*(Math.random()<.5?-1:1)))}handleCollisions(t){this.paused||(t.handleWallCollisions(),this.ghost||(t.isPea?this.peaCollision(t):t.isCorn?this.cornCollision(t):t.isPowerUp?this.powerUpCollision(t):t.isHeart&&this.heartCollision(t)),this.isLevelComplete()&&this.levelComplete())}peaCollision(t){t.detectCollision(this.cursor.object)&&(t.destroyed=!0,this.particleService.create(t,20))}cornCollision(t){return S(this,null,function*(){t.detectCollision(this.cursor.object)&&(t.destroyed=!0,this.particleService.create(t),this.cursor.invincible||(this.lives--,this.canvasService.flash(500,"#7F1D1D","animate-jiggle"),this.activateImmunity(500)),this.lives===0&&this.gameOver())})}powerUpCollision(t){t.detectCollision(this.cursor.object)&&(t.destroyed=!0,this.particleService.create(t,100),this.canvasService.flash(500,"#1A40AF","animate-pulse"),this.randomPowerUp())}heartCollision(t){t.detectCollision(this.cursor.object)&&(t.destroyed=!0,this.particleService.create(t,8),this.lives++,this.cursor.blink(t.color,2,100))}randomPowerUp(){let t=[this.powerAttract.bind(this),this.powerRepel.bind(this),this.powerSlowCorn.bind(this),this.powerAttract.bind(this),this.powerInvincible.bind(this),this.powerSlowCorn.bind(this),this.powerRepel.bind(this),this.powerBlueCorn.bind(this)];if(this.level%this.powerUpFrequency===0){let r=(this.level/this.powerUpFrequency-1)%t.length;t[r](),this.peas.setBehaviour(Dt.Blue)}}powerInvincible(){this.cursor.setInvincibility(!0)}powerAttract(){this.peas.setBehaviour(Dt.Attract)}powerRepel(){this.corn.setBehaviour(Dt.Repel)}powerBlueCorn(){this.corn.setBehaviour(Dt.Blue),this.corn.setBehaviour(Dt.Attract),this.peas.setBehaviour(Dt.Attract)}powerSlowCorn(){this.corn.setBehaviour(Dt.Slow)}draw(){this.drawPeas(),this.drawCorn(),this.drawPowerUps(),this.drawHearts(),this.drawCursor()}drawPeas(){this.peas.objects.forEach(t=>this.handleGameObject(t))}drawCorn(){this.corn.objects.forEach(t=>this.handleGameObject(t))}drawPowerUps(){this.powerUps.objects.forEach(t=>this.handleGameObject(t))}drawHearts(){this.hearts.objects.forEach(t=>this.handleGameObject(t))}drawCursor(){this.paused||this.cursor.draw(this.canvasService.context,this.canvasService)}activateImmunity(t){this.ghost=!0,setTimeout(()=>this.ghost=!1,t)}hideMenu(){this.particleService.hideMenuParticles();let t=document.getElementsByClassName("MENU")[0].classList;t.add("opacity-0"),t.add("pointer-events-none")}showMenu(){this.particleService.showMenuParticles();let t=document.getElementsByClassName("MENU")[0].classList;t.remove("opacity-0"),t.remove("pointer-events-none")}hideNamePrompt(){let t=document.getElementsByClassName("NAME")[0].classList;t.add("opacity-0"),t.add("pointer-events-none")}showNamePrompt(){let t=document.getElementsByClassName("NAME")[0].classList;t.remove("opacity-0"),t.remove("pointer-events-none")}hideScores(){let t=document.getElementsByClassName("SCORES")[0].classList;t.add("opacity-0"),t.add("pointer-events-none")}showScores(){return S(this,null,function*(){let t=document.getElementsByClassName("SCORES")[0].classList;t.remove("opacity-0"),t.remove("pointer-events-none");let r=yield this.firebaseService.getAllScores();this.scores=r.slice(0,10)})}};e.\u0275fac=function(r){return new(r||e)(k(Un),k(Nl),k(Bi),k(Fl),k(so),k(ro))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dN=["canvas"];function fN(n,e){if(n&1&&($(0,"div",23)(1,"div",24)(2,"span",6),we(3),Q(),$(4,"mat-icon",25),we(5,"favorite"),Q()()()),n&2){let i=Ie();se(3),Ln(i.gameService.lives)}}function pN(n,e){n&1&&($(0,"mat-icon",25),we(1," favorite "),Q())}function mN(n,e){if(n&1){let i=pt();$(0,"button",26),ye("click",function(){Be(i);let r=Ie();return r.nameService.saveName(),ze(r.gameService.play())}),$(1,"span",13),we(2,"Play"),Q()()}if(n&2){let i=Ie();ue("disabled",!(i.nameService.playerName.value!=null&&i.nameService.playerName.value.length))}}function gN(n,e){n&1&&($(0,"span",27),we(1," LOL... "),Q())}function _N(n,e){if(n&1&&($(0,"div",22)(1,"span",28),we(2),Q(),$(3,"span",29),we(4),Q()()),n&2){let i=e.$implicit;se(2),Ln(i.playerName),se(2),Ln(i.score)}}var FE=(()=>{let e=class e{constructor(t,r,s,o,c,l,u){this.router=t,this.canvasService=r,this.gameService=s,this.textService=o,this.particleService=c,this.firebaseService=l,this.nameService=u,this.hostClasses="w-full h-full flex justify-center items-center text-nowrap font-ink bg-game-black"}ngAfterViewInit(){this.canvasService.setup(this.canvasEle),this.animate()}animate(){let t=this.canvasService.context,r=this.canvasService.canvasEle.nativeElement,s=()=>{t.clearRect(0,0,r.width,r.height),this.draw(),requestAnimationFrame(s)};requestAnimationFrame(s)}draw(){this.gameService.draw(),this.particleService.draw(this.canvasService.context),this.particleService.decay()}exit(){this.router.navigate(["/home"]).then(()=>window.location.reload())}};e.\u0275fac=function(r){return new(r||e)(N(ps),N(Un),N(gh),N(Bi),N(Fl),N(so),N(ro))},e.\u0275cmp=ae({type:e,selectors:[["app-avoid-the-cob"]],viewQuery:function(r,s){if(r&1&&Zn(dN,7),r&2){let o;mt(o=gt())&&(s.canvasEle=o.first)}},hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:36,vars:8,consts:[["canvas",""],[1,"flex","size-full","transition-all","duration-500","ease-in-out"],["class","pointer-events-none absolute bottom-0 left-0 mb-4 ml-4 transform",4,"ngIf"],[1,"TEXT","pointer-events-none","absolute","flex","flex-col","items-center","justify-center","text-game-white","opacity-0","transition-opacity","duration-1000","ease-in-out"],[1,"mb-4","text-5xl","md:text-9xl"],[1,"flex","items-center","justify-center"],[1,"mr-1","text-3xl","md:text-5xl"],["class","!size-full text-3xl text-game-red md:text-5xl",4,"ngIf"],[1,"MENU","absolute","flex","size-full","flex-col","items-center","justify-center","text-primary","transition-opacity","duration-500","ease-in-out"],[1,"relative","flex","flex-1"],["src","corn-text.svg",1,"absolute","inset-0","m-auto","max-h-[75vh]"],["src","corn.svg",1,"relative","inset-0","m-auto","max-h-[75vh]","hover:animate-jiggle"],[1,"absolute","bottom-0","left-0","m-8","text-5xl",3,"click"],[1,"hover:text-game-white"],[1,"absolute","right-0","top-0","m-8","text-5xl",3,"click"],[1,"absolute","bottom-0","right-0","m-8","text-5xl",3,"click"],[1,"NAME","pointer-events-none","absolute","flex","size-full","flex-col","items-center","justify-center","opacity-0","transition-opacity","duration-500","ease-in-out"],["placeholder","Name",1,"max-w-[60%]","border-b-2","border-primary","bg-transparent","pb-10","text-center","font-ink","text-5xl","uppercase","text-primary","placeholder-game-white","outline-none","md:text-6xl","lg:text-8xl",3,"formControl","maxlength"],[1,"absolute","bottom-0","left-0","m-8","text-5xl","text-primary",3,"click"],["class","absolute bottom-0 right-0 m-8 text-5xl text-primary",3,"disabled","click",4,"ngIf"],["class","absolute bottom-0 right-0 m-8 text-5xl text-game-white",4,"ngIf"],[1,"SCORES","pointer-events-none","absolute","flex","h-full","w-full","flex-col","items-center","justify-center","bg-game-black","font-ink","opacity-0"],[1,"mb-4","flex","w-1/2","justify-between","text-3xl"],[1,"pointer-events-none","absolute","bottom-0","left-0","mb-4","ml-4","transform"],[1,"flex","items-center","text-game-white"],[1,"!size-full","text-3xl","text-game-red","md:text-5xl"],[1,"absolute","bottom-0","right-0","m-8","text-5xl","text-primary",3,"click","disabled"],[1,"absolute","bottom-0","right-0","m-8","text-5xl","text-game-white"],[1,"text-game-white"],[1,"text-primary"]],template:function(r,s){if(r&1){let o=pt();ve(0,"canvas",1,0),it(2,fN,6,1,"div",2),$(3,"div",3)(4,"strong",4),we(5),Q(),$(6,"div",5)(7,"span",6),we(8),Q(),it(9,pN,2,0,"mat-icon",7),Q()(),$(10,"div",8)(11,"div",9),ve(12,"img",10)(13,"img",11),Q(),$(14,"button",12),ye("click",function(){return Be(o),ze(s.gameService.play())}),$(15,"span",13),we(16,"Play"),Q()(),$(17,"button",14),ye("click",function(){return Be(o),ze(s.gameService.showScores())}),$(18,"span",13),we(19,"Top 10"),Q()(),$(20,"button",15),ye("click",function(){return Be(o),ze(s.exit())}),$(21,"span",13),we(22,"Exit"),Q()()(),$(23,"div",16),ve(24,"input",17),$(25,"button",18),ye("click",function(){return Be(o),s.gameService.hideNamePrompt(),ze(s.gameService.showMenu())}),$(26,"span",13),we(27,"Back"),Q()(),it(28,mN,3,1,"button",19)(29,gN,2,0,"span",20),Q(),$(30,"div",21),Ai(31,_N,5,2,"div",22,Si),$(33,"button",18),ye("click",function(){return Be(o),ze(s.gameService.hideScores())}),$(34,"span",13),we(35,"Back"),Q()()()}r&2&&(se(2),ue("ngIf",s.gameService.lives>0),se(3),Ln(s.textService.text),se(3),Ln(s.textService.subText),se(),ue("ngIf",s.textService.subText==="+ 1"),se(15),ue("formControl",s.nameService.playerName)("maxlength",25),se(4),ue("ngIf",s.nameService.playerName.valid),se(),ue("ngIf",s.nameService.playerName.hasError("profanity")),se(2),Ri(s.gameService.scores))},dependencies:[Yt,ns,Lw,wl,Mw,yf,vf,ji,Li],encapsulation:2});let n=e;return n})();var VE=(()=>{let e=class e{constructor(){this.hostClasses=""}onResize(){document.activeElement instanceof HTMLInputElement||location.reload()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-game"]],hostVars:2,hostBindings:function(r,s){r&1&&ye("resize",function(c){return s.onResize(c)},!1,Mc),r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:0,template:function(r,s){r&1&&ve(0,"app-avoid-the-cob")},dependencies:[Yt,FE],encapsulation:2});let n=e;return n})();var LE=(()=>{let e=class e{constructor(){this.hostClasses=""}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-home"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:1,consts:[[3,"hero"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-home.jpg")},dependencies:[hn],encapsulation:2});let n=e;return n})();var jE=(()=>{let e=class e{constructor(){this.hostClasses="",this.photos=[{header:"Canada",urls:["canada-1.jpg","canada-2.jpg","canada-3.jpg","canada-4.jpg","canada-5.jpg","canada-6.jpg","canada-7.jpg","canada-8.jpg","canada-9.jpg","canada-10.jpg","canada-11.jpg","canada-12.jpg","canada-13.jpg","canada-14.jpg","canada-15.jpg","canada-16.jpg","canada-17.jpg","canada-18.jpg","canada-19.jpg","canada-20.jpg","canada-21.jpg","canada-22.jpg","canada-23.jpg"]},{header:"Guatemala and Costa Rica",urls:["guatemala-costa-rica-1.jpg","guatemala-costa-rica-2.jpg","guatemala-costa-rica-3.jpg","guatemala-costa-rica-4.jpg","guatemala-costa-rica-5.jpg","guatemala-costa-rica-6.jpg"]},{header:"Mexico",urls:["mexico-1.jpg","mexico-2.jpg","mexico-3.jpg","mexico-4.jpg","mexico-5.jpg","mexico-6.jpg","mexico-7.jpg","mexico-8.jpg","mexico-9.jpg","mexico-10.jpg","mexico-11.jpg","mexico-12.jpg"]},{header:"USA",urls:["usa-1.jpg","usa-2.jpg","usa-3.jpg","usa-4.jpg","usa-5.jpg","usa-6.jpg","usa-7.jpg","usa-8.jpg","usa-9.jpg","usa-10.jpg","usa-11.jpg","usa-12.jpg","usa-13.jpg","usa-14.jpg","usa-15.jpg","usa-16.jpg","usa-17.jpg","usa-18.jpg","usa-19.jpg","usa-20.jpg","usa-21.jpg","usa-22.jpg","usa-23.jpg","usa-24.jpg","usa-25.jpg","usa-26.jpg","usa-27.jpg","usa-28.jpg","usa-29.jpg","usa-30.jpg","usa-31.jpg","usa-32.jpg","usa-33.jpg","usa-34.jpg","usa-35.jpg","usa-36.jpg","usa-37.jpg","usa-38.jpg"]}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-north-america"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:2,consts:[[3,"hero","photos"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-north-america.jpg")("photos",s.photos)},dependencies:[hn],encapsulation:2});let n=e;return n})();var UE=(()=>{let e=class e{constructor(){this.hostClasses="",this.photos=[{header:"Australia",urls:["australia-1.jpg","australia-2.jpg","australia-3.jpg","australia-4.jpg","australia-5.jpg","australia-6.jpg","australia-7.jpg","australia-8.jpg","australia-9.jpg","australia-10.jpg","australia-11.jpg"]},{header:"Fiji",urls:["fiji-1.jpg","fiji-2.jpg","fiji-3.jpg","fiji-4.jpg"]},{header:"Hobbiton",urls:["hobbiton-1.jpg","hobbiton-2.jpg","hobbiton-3.jpg","hobbiton-4.jpg","hobbiton-5.jpg"]},{header:"New Zealand",urls:["new-zealand-1.jpg","new-zealand-2.jpg","new-zealand-3.jpg","new-zealand-4.jpg","new-zealand-5.jpg","new-zealand-6.jpg","new-zealand-7.jpg","new-zealand-8.jpg","new-zealand-9.jpg","new-zealand-10.jpg","new-zealand-11.jpg","new-zealand-12.jpg","new-zealand-13.jpg","new-zealand-14.jpg","new-zealand-15.jpg","new-zealand-16.jpg","new-zealand-17.jpg","new-zealand-18.jpg","new-zealand-19.jpg","new-zealand-20.jpg","new-zealand-21.jpg","new-zealand-22.jpg","new-zealand-23.jpg","new-zealand-24.jpg","new-zealand-25.jpg","new-zealand-26.jpg","new-zealand-27.jpg","new-zealand-28.jpg","new-zealand-29.jpg","new-zealand-30.jpg"]}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-oceania"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:2,consts:[[3,"hero","photos"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-oceania.jpg")("photos",s.photos)},dependencies:[hn],encapsulation:2});let n=e;return n})();var BE=(()=>{let e=class e{constructor(){this.hostClasses="",this.photos=[{header:"Argentina and Chile",urls:["argentina-chile-1.jpg","argentina-chile-2.jpg","argentina-chile-3.jpg","argentina-chile-4.jpg","argentina-chile-5.jpg","argentina-chile-6.jpg","argentina-chile-7.jpg","argentina-chile-8.jpg","argentina-chile-9.jpg","argentina-chile-10.jpg"]},{header:"Bolivia",urls:["bolivia-1.jpg","bolivia-2.jpg","bolivia-3.jpg","bolivia-4.jpg","bolivia-5.jpg","bolivia-6.jpg","bolivia-7.jpg","bolivia-8.jpg","bolivia-9.jpg","bolivia-10.jpg","bolivia-11.jpg","bolivia-12.jpg"]},{header:"Brazil",urls:["brazil-1.jpg","brazil-2.jpg","brazil-3.jpg","brazil-4.jpg","brazil-5.jpg","brazil-6.jpg","brazil-7.jpg","brazil-8.jpg","brazil-9.jpg"]},{header:"Peru",urls:["peru-1.jpg","peru-2.jpg","peru-3.jpg","peru-4.jpg","peru-5.jpg","peru-6.jpg","peru-7.jpg","peru-8.jpg","peru-9.jpg","peru-10.jpg","peru-11.jpg","peru-12.jpg","peru-13.jpg","peru-14.jpg","peru-15.jpg","peru-16.jpg","peru-17.jpg","peru-18.jpg"]}]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-south-america"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},standalone:!0,features:[ce],decls:1,vars:2,consts:[[3,"hero","photos"]],template:function(r,s){r&1&&ve(0,"app-gallery",0),r&2&&ue("hero","hero-south-america.jpg")("photos",s.photos)},dependencies:[hn],encapsulation:2});let n=e;return n})();var zE=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:LE},{path:"europe",component:uw},{path:"asia",component:lw},{path:"north-america",component:jE},{path:"south-america",component:BE},{path:"oceania",component:UE},{path:"game",component:VE}];var $E={providers:[Kv({eventCoalescing:!0}),iw(zE),sw(),fy(),Vb(()=>Lb(ow.firebase)),YI(()=>JI())]};var vN=20,oo=(()=>{let e=class e{constructor(t,r,s){this._ngZone=t,this._platform=r,this._scrolled=new re,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=vN){return this._platform.isBrowser?new vn(r=>{this._globalSubscription||this._addGlobalListener();let s=t>0?this._scrolled.pipe(Xh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):K()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let s=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Oe(o=>!o||s.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((s,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let s=oi(r),o=t.getElementRef().nativeElement;do if(s==o)return!0;while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return So(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(k(ee),k(et),k(te,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ao=(()=>{let e=class e{constructor(t,r,s,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=s,this.dir=o,this._destroyed=new re,this._elementScrolled=new vn(c=>this.ngZone.runOutsideAngular(()=>So(this.elementRef.nativeElement,"scroll").pipe(je(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){let r=this.elementRef.nativeElement,s=this.dir&&this.dir.value=="rtl";t.left==null&&(t.left=s?t.end:t.start),t.right==null&&(t.right=s?t.start:t.end),t.bottom!=null&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),s&&vs()!=Cn.NORMAL?(t.left!=null&&(t.right=r.scrollWidth-r.clientWidth-t.left),vs()==Cn.INVERTED?t.left=t.right:vs()==Cn.NEGATED&&(t.left=t.right?-t.right:t.right)):t.right!=null&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){let r=this.elementRef.nativeElement;El()?r.scrollTo(t):(t.top!=null&&(r.scrollTop=t.top),t.left!=null&&(r.scrollLeft=t.left))}measureScrollOffset(t){let r="left",s="right",o=this.elementRef.nativeElement;if(t=="top")return o.scrollTop;if(t=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let c=this.dir&&this.dir.value=="rtl";return t=="start"?t=c?s:r:t=="end"&&(t=c?r:s),c&&vs()==Cn.INVERTED?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&vs()==Cn.NEGATED?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(oo),N(ee),N(Fi,8))},e.\u0275dir=nt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let n=e;return n})(),yN=20,oc=(()=>{let e=class e{constructor(t,r,s){this._platform=t,this._change=new re,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),s=t.documentElement,o=s.getBoundingClientRect(),c=-o.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:c,left:l}}change(t=yN){return t>0?this._change.pipe(Xh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(k(et),k(ee),k(te,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Br=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({});let n=e;return n})(),n_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[Vi,Br,Vi,Br]});let n=e;return n})();var yh=["*"],wN=["content"],bN=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],IN=["mat-drawer","mat-drawer-content","*"];function EN(n,e){if(n&1){let i=pt();$(0,"div",1),ye("click",function(){Be(i);let r=Ie();return ze(r._onBackdropClicked())}),Q()}if(n&2){let i=Ie();At("mat-drawer-shown",i._isShowingBackdrop())}}function TN(n,e){n&1&&($(0,"mat-drawer-content"),lt(1,2),Q())}var CN=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],SN=["mat-sidenav","mat-sidenav-content","*"];function AN(n,e){if(n&1){let i=pt();$(0,"div",1),ye("click",function(){Be(i);let r=Ie();return ze(r._onBackdropClicked())}),Q()}if(n&2){let i=Ie();At("mat-drawer-shown",i._isShowingBackdrop())}}function RN(n,e){n&1&&($(0,"mat-sidenav-content"),lt(1,2),Q())}var DN='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',WE={transformDrawer:Oo("transform",[is("open, open-instant",ti({transform:"none",visibility:"visible"})),is("void",ti({"box-shadow":"none",visibility:"hidden"})),fr("void => open-instant",dr("0ms")),fr("void <=> open, open-instant => void",dr("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var PN=new Y("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:kN}),r_=new Y("MAT_DRAWER_CONTAINER");function kN(){return!1}var _h=(()=>{let e=class e extends ao{constructor(t,r,s,o,c){super(s,o,c),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}};e.\u0275fac=function(r){return new(r||e)(N(vt),N(ar(()=>HE)),N(Re),N(oo),N(ee))},e.\u0275cmp=ae({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(r,s){r&2&&xo("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},standalone:!0,features:[_t([{provide:ao,useExisting:e}]),Kt,ce],ngContentSelectors:yh,decls:1,vars:0,template:function(r,s){r&1&&($t(),lt(0))},encapsulation:2,changeDetection:0});let n=e;return n})(),GE=(()=>{let e=class e{get position(){return this._position}set position(t){t=t==="end"?"end":"start",t!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=Ni(t)}get autoFocus(){let t=this._autoFocus;return t??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(t){(t==="true"||t==="false"||t==null)&&(t=Ni(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(Ni(t))}constructor(t,r,s,o,c,l,u,f){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=s,this._platform=o,this._ngZone=c,this._interactivityChecker=l,this._doc=u,this._container=f,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new re,this._animationEnd=new re,this._animationState="void",this.openedChange=new $e(!0),this._openedStream=this.openedChange.pipe(Oe(p=>p),J(()=>{})),this.openedStart=this._animationStarted.pipe(Oe(p=>p.fromState!==p.toState&&p.toState.indexOf("open")===0),Ao(void 0)),this._closedStream=this.openedChange.pipe(Oe(p=>!p),J(()=>{})),this.closedStart=this._animationStarted.pipe(Oe(p=>p.fromState!==p.toState&&p.toState==="void"),Ao(void 0)),this._destroyed=new re,this.onPositionChanged=new $e,this._modeChanged=new re,this._injector=U(ct),this._changeDetectorRef=U(vt),this.openedChange.pipe(je(this._destroyed)).subscribe(p=>{p?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{So(this._elementRef.nativeElement,"keydown").pipe(Oe(p=>p.keyCode===27&&!this.disableClose&&!ws(p)),je(this._destroyed)).subscribe(p=>this._ngZone.run(()=>{this.close(),p.stopPropagation(),p.preventDefault()}))}),this._animationEnd.pipe(Ro((p,g)=>p.fromState===g.fromState&&p.toState===g.toState)).subscribe(p=>{let{fromState:g,toState:T}=p;(T.indexOf("open")===0&&g==="void"||T==="void"&&g.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(r)}_focusByCssSelector(t,r){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,r)}_takeFocus(){if(!this._focusTrap)return;let t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Nn(()=>{!this._focusTrap.focusInitialElement()&&typeof t.focus=="function"&&t.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(t){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);let s=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),s}_setOpen(t,r,s){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(s)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ft(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){if(!this._platform.isBrowser)return;let r=this._elementRef.nativeElement,s=r.parentNode;t==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,r)),s.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(Hw),N(ya),N(et),N(ee),N(Af),N(te,8),N(r_,8))},e.\u0275cmp=ae({type:e,selectors:[["mat-drawer"]],viewQuery:function(r,s){if(r&1&&Zn(wN,5),r&2){let o;mt(o=gt())&&(s._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(r,s){r&1&&Gv("@transform.start",function(c){return s._animationStarted.next(c)})("@transform.done",function(c){return s._animationEnd.next(c)}),r&2&&(Wv("@transform",s._animationState),Vt("align",null),At("mat-drawer-end",s.position==="end")("mat-drawer-over",s.mode==="over")("mat-drawer-push",s.mode==="push")("mat-drawer-side",s.mode==="side")("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[ce],ngContentSelectors:yh,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,s){r&1&&($t(),$(0,"div",1,0),lt(2),Q())},dependencies:[ao],encapsulation:2,data:{animation:[WE.transformDrawer]},changeDetection:0});let n=e;return n})(),HE=(()=>{let e=class e{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=Ni(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=t==null?null:Ni(t)}get scrollable(){return this._userContent||this._content}constructor(t,r,s,o,c,l=!1,u){this._dir=t,this._element=r,this._ngZone=s,this._changeDetectorRef=o,this._animationMode=u,this._drawers=new lr,this.backdropClick=new $e,this._destroyed=new re,this._doCheckSubject=new re,this._contentMargins={left:null,right:null},this._contentMarginChanges=new re,this._injector=U(ct),t&&t.change.pipe(je(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(je(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=l}ngAfterContentInit(){this._allDrawers.changes.pipe(cn(this._allDrawers),je(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(cn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Kr(10),je(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened){if(this._left.mode=="side")t+=this._left._getWidth();else if(this._left.mode=="push"){let s=this._left._getWidth();t+=s,r-=s}}if(this._right&&this._right.opened){if(this._right.mode=="side")r+=this._right._getWidth();else if(this._right.mode=="push"){let s=this._right._getWidth();r+=s,t-=s}}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Oe(r=>r.fromState!==r.toState),je(this._drawers.changes)).subscribe(r=>{r.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),t.mode!=="side"&&t.openedChange.pipe(je(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(je(this._drawers.changes)).subscribe(()=>{Nn(()=>{this._validateDrawers()},{injector:this._injector,phase:Bv.Read})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(je(yi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){let r=this._element.nativeElement.classList,s="mat-drawer-container-has-open";t?r.add(s):r.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{t.position=="end"?(this._end!=null,this._end=t):(this._start!=null,this._start=t)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return t!=null&&t.opened}_drawerHasBackdrop(t){return this._backdropOverride==null?!!t&&t.mode!=="side":this._backdropOverride}};e.\u0275fac=function(r){return new(r||e)(N(Fi,8),N(Re),N(ee),N(vt),N(oc),N(PN),N(Ci,8))},e.\u0275cmp=ae({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(r,s,o){if(r&1&&(Vn(o,_h,5),Vn(o,GE,5)),r&2){let c;mt(c=gt())&&(s._content=c.first),mt(c=gt())&&(s._allDrawers=c)}},viewQuery:function(r,s){if(r&1&&Zn(_h,5),r&2){let o;mt(o=gt())&&(s._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(r,s){r&2&&At("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[_t([{provide:r_,useExisting:e}]),ce],ngContentSelectors:IN,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,s){r&1&&($t(bN),it(0,EN,1,2,"div",0),lt(1),lt(2,1),it(3,TN,2,0,"mat-drawer-content")),r&2&&(En(s.hasBackdrop?0:-1),se(3),En(s._content?-1:3))},dependencies:[_h],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0});let n=e;return n})(),vh=(()=>{let e=class e extends _h{constructor(t,r,s,o,c){super(t,r,s,o,c)}};e.\u0275fac=function(r){return new(r||e)(N(vt),N(ar(()=>o_)),N(Re),N(oo),N(ee))},e.\u0275cmp=ae({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(r,s){r&2&&xo("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},standalone:!0,features:[_t([{provide:ao,useExisting:e}]),Kt,ce],ngContentSelectors:yh,decls:1,vars:0,template:function(r,s){r&1&&($t(),lt(0))},encapsulation:2,changeDetection:0});let n=e;return n})(),s_=(()=>{let e=class e extends GE{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=Ni(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=ga(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=ga(t)}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275cmp=ae({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(r,s){r&2&&(Vt("align",null),xo("top",s.fixedInViewport?s.fixedTopGap:null,"px")("bottom",s.fixedInViewport?s.fixedBottomGap:null,"px"),At("mat-drawer-end",s.position==="end")("mat-drawer-over",s.mode==="over")("mat-drawer-push",s.mode==="push")("mat-drawer-side",s.mode==="side")("mat-drawer-opened",s.opened)("mat-sidenav-fixed",s.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[Kt,ce],ngContentSelectors:yh,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(r,s){r&1&&($t(),$(0,"div",1,0),lt(2),Q())},dependencies:[ao],encapsulation:2,data:{animation:[WE.transformDrawer]},changeDetection:0});let n=e;return n})(),o_=(()=>{let e=class e extends HE{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=On(e)))(s||e)}})(),e.\u0275cmp=ae({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(r,s,o){if(r&1&&(Vn(o,vh,5),Vn(o,s_,5)),r&2){let c;mt(c=gt())&&(s._content=c.first),mt(c=gt())&&(s._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(r,s){r&2&&At("mat-drawer-container-explicit-backdrop",s._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[_t([{provide:r_,useExisting:e}]),Kt,ce],ngContentSelectors:SN,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(r,s){r&1&&($t(CN),it(0,AN,1,2,"div",0),lt(1),lt(2,1),it(3,RN,2,0,"mat-sidenav-content")),r&2&&(En(s.hasBackdrop?0:-1),se(3),En(s._content?-1:3))},dependencies:[vh],styles:[DN],encapsulation:2,changeDetection:0});let n=e;return n})(),KE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({imports:[An,Br,Br,An]});let n=e;return n})();var fT=$h(YE());var cc=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},c_=class extends cc{constructor(e,i,t,r,s){super(),this.component=e,this.viewContainerRef=i,this.injector=t,this.componentFactoryResolver=r,this.projectableNodes=s}},co=class extends cc{constructor(e,i,t,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},l_=class extends cc{constructor(e){super(),this.element=e instanceof Re?e.nativeElement:e}},u_=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof c_)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof co)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof l_)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var lc=class extends u_{constructor(e,i,t,r,s){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=t,this._defaultInjector=r,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=s}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=t.create(e.injector||this._defaultInjector||ct.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,t=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(t);r!==-1&&i.remove(r)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var QE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({});let n=e;return n})();var XE=El(),h_=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=tt(-this._previousScrollPosition.left),e.style.top=tt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,t=e.style,r=i.style,s=t.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XE&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XE&&(t.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,t=this._viewportRuler.getViewportSize();return i.scrollHeight>t.height||i.scrollWidth>t.width}};var d_=class{constructor(e,i,t,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=t,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Oe(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},wh=class{enable(){}disable(){}attach(){}};function f_(n,e){return e.some(i=>{let t=n.bottom<i.top,r=n.top>i.bottom,s=n.right<i.left,o=n.left>i.right;return t||r||s||o})}function JE(n,e){return e.some(i=>{let t=n.top<i.top,r=n.bottom>i.bottom,s=n.left<i.left,o=n.right>i.right;return t||r||s||o})}var p_=class{constructor(e,i,t,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=t,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();f_(i,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},MN=(()=>{let e=class e{constructor(t,r,s,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new wh,this.close=c=>new d_(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new h_(this._viewportRuler,this._document),this.reposition=c=>new p_(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}};e.\u0275fac=function(r){return new(r||e)(k(oo),k(oc),k(ee),k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),uc=class{constructor(e){if(this.scrollStrategy=new wh,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let t of i)e[t]!==void 0&&(this[t]=e[t])}}};var m_=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var rT=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(k(te))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ON=(()=>{let e=class e extends rT{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=s=>{let o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){let l=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(s)):l.next(s);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(k(te),k(ee,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),NN=(()=>{let e=class e extends rT{constructor(t,r,s){super(t),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Sn(o)},this._clickListener=o=>{let c=Sn(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){let p=u[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(ZE(p.overlayElement,c)||ZE(p.overlayElement,l))break;let g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(o)):g.next(o)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(k(te),k(et),k(ee,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function ZE(n,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,t=e;for(;t;){if(t===n)return!0;t=i&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var sT=(()=>{let e=class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||ma()){let s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let r=this._document.createElement("div");r.classList.add(t),ma()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(k(te),k(et))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),g_=class{constructor(e,i,t,r,s,o,c,l,u,f=!1,p){this._portalOutlet=e,this._host=i,this._pane=t,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=f,this._injector=p,this._backdropElement=null,this._backdropClick=new re,this._attachments=new re,this._detachments=new re,this._locationChanges=zt.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new re,this._outsidePointerEvents=new re,this._renders=new re,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=ei(()=>zv(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Nn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=O(O({},this._config),e),this._updateElementSize()}setDirection(e){this._config=le(O({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=tt(this._config.width),e.height=tt(this._config.height),e.minWidth=tt(this._config.minWidth),e.minHeight=tt(this._config.minHeight),e.maxWidth=tt(this._config.maxWidth),e.maxHeight=tt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,t){let r=bs(i||[]).filter(s=>!!s);r.length&&(t?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(je(yi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},eT="cdk-overlay-connected-position-bounding-box",FN=/([A-Za-z%]+)$/,__=class{get positions(){return this._preferredPositions}constructor(e,i,t,r,s){this._viewportRuler=i,this._document=t,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re,this._resizeSubscription=zt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(eT),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,t=this._viewportRect,r=this._containerRect,s=[],o;for(let c of this._preferredPositions){let l=this._getOriginPoint(e,r,c),u=this._getOverlayPoint(l,i,c),f=this._getOverlayFit(u,i,t,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,u,t)){s.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!o||o.overlayFit.visibleArea<f.visibleArea)&&(o={overlayFit:f,overlayPoint:u,originPoint:l,position:c,overlayRect:i})}if(s.length){let c=null,l=-1;for(let u of s){let f=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);f>l&&(l=f,c=u)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,t){let r;if(t.originX=="center")r=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=t.originX=="start"?o:c}i.left<0&&(r-=i.left);let s;return t.originY=="center"?s=e.top+e.height/2:s=t.originY=="top"?e.top:e.bottom,i.top<0&&(s-=i.top),{x:r,y:s}}_getOverlayPoint(e,i,t){let r;t.overlayX=="center"?r=-i.width/2:t.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let s;return t.overlayY=="center"?s=-i.height/2:s=t.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,i,t,r){let s=nT(i),{x:o,y:c}=e,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(o+=l),u&&(c+=u);let f=0-o,p=o+s.width-t.width,g=0-c,T=c+s.height-t.height,A=this._subtractOverflows(s.width,f,p),M=this._subtractOverflows(s.height,g,T),D=A*M;return{visibleArea:D,isCompletelyWithinViewport:s.width*s.height===D,fitsInViewportVertically:M===s.height,fitsInViewportHorizontally:A==s.width}}_canFitWithFlexibleDimensions(e,i,t){if(this._hasFlexibleDimensions){let r=t.bottom-i.y,s=t.right-i.x,o=tT(this._overlayRef.getConfig().minHeight),c=tT(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=r,u=e.fitsInViewportHorizontally||c!=null&&c<=s;return l&&u}return!1}_pushOverlayOnScreen(e,i,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=nT(i),s=this._viewportRect,o=Math.max(e.x+r.width-s.width,0),c=Math.max(e.y+r.height-s.height,0),l=Math.max(s.top-t.top-e.y,0),u=Math.max(s.left-t.left-e.x,0),f=0,p=0;return r.width<=s.width?f=u||-o:f=e.x<this._viewportMargin?s.left-t.left-e.x:0,r.height<=s.height?p=l||-c:p=e.y<this._viewportMargin?s.top-t.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!VN(this._lastScrollVisibility,t)){let r=new m_(e,t);this._positionChanges.next(r)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,r=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let s=0;s<i.length;s++)i[s].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(e,i){let t=this._viewportRect,r=this._isRtl(),s,o,c;if(i.overlayY==="top")o=e.y,s=t.height-o+this._viewportMargin;else if(i.overlayY==="bottom")c=t.height-e.y+this._viewportMargin*2,s=t.height-c+this._viewportMargin;else{let T=Math.min(t.bottom-e.y+t.top,e.y),A=this._lastBoundingBoxSize.height;s=T*2,o=e.y-T,s>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,u=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,f,p,g;if(u)g=t.width-e.x+this._viewportMargin*2,f=e.x-this._viewportMargin;else if(l)p=e.x,f=t.right-e.x;else{let T=Math.min(t.right-e.x+t.left,e.x),A=this._lastBoundingBoxSize.width;f=T*2,p=e.x-T,f>A&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-A/2)}return{top:o,left:p,bottom:c,right:g,width:f,height:s}}_setBoundingBoxStyles(e,i){let t=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=tt(t.height),r.top=tt(t.top),r.bottom=tt(t.bottom),r.width=tt(t.width),r.left=tt(t.left),r.right=tt(t.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=tt(s)),o&&(r.maxWidth=tt(o))}this._lastBoundingBoxSize=t,zr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let t={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();zr(t,this._getExactOverlayY(i,e,f)),zr(t,this._getExactOverlayX(i,e,f))}else t.position="static";let c="",l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(c+=`translateX(${l}px) `),u&&(c+=`translateY(${u}px)`),t.transform=c.trim(),o.maxHeight&&(r?t.maxHeight=tt(o.maxHeight):s&&(t.maxHeight="")),o.maxWidth&&(r?t.maxWidth=tt(o.maxWidth):s&&(t.maxWidth="")),zr(this._pane.style,t)}_getExactOverlayY(e,i,t){let r={top:"",bottom:""},s=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=tt(s.y);return r}_getExactOverlayX(e,i,t){let r={left:"",right:""},s=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,t));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(s.x+this._overlayRect.width)}px`}else r.left=tt(s.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JE(e,t),isOriginOutsideView:f_(e,t),isOverlayClipped:JE(i,t),isOverlayOutsideView:f_(i,t)}}_subtractOverflows(e,...i){return i.reduce((t,r)=>t-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&bs(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Re)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+i,height:t,width:i}}};function zr(n,e){for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function tT(n){if(typeof n!="number"&&n!=null){let[e,i]=n.split(FN);return!i||i==="px"?parseFloat(e):null}return n||null}function nT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function VN(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var iT="cdk-global-overlay-wrapper",v_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iT),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=t,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),u=(s==="100%"||s==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",T="",A="",M="";l?M="flex-start":f==="center"?(M="center",g?A=p:T=p):g?f==="left"||f==="end"?(M="flex-end",T=p):(f==="right"||f==="start")&&(M="flex-start",A=p):f==="left"||f==="start"?(M="flex-start",T=p):(f==="right"||f==="end")&&(M="flex-end",A=p),e.position=this._cssPosition,e.marginLeft=l?"0":T,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,i.justifyContent=M,i.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,t=i.style;i.classList.remove(iT),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},LN=(()=>{let e=class e{constructor(t,r,s,o){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=o}global(){return new v_}flexibleConnectedTo(t){return new __(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(k(oc),k(te),k(et),k(sT))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),jN=0,Zi=(()=>{let e=class e{constructor(t,r,s,o,c,l,u,f,p,g,T,A){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=l,this._ngZone=u,this._document=f,this._directionality=p,this._location=g,this._outsideClickDispatcher=T,this._animationsModuleType=A}create(t){let r=this._createHostElement(),s=this._createPaneElement(r),o=this._createPortalOutlet(s),c=new uc(t);return c.direction=c.direction||this._directionality.value,new g_(o,r,s,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Ei))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${jN++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(hr)),new lc(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(k(MN),k(sT),k(Oc),k(LN),k(ON),k(ct),k(ee),k(te),k(Fi),k(ts),k(NN),k(Ci,8))},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var UN=new Y("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=U(Zi);return()=>n.scrollStrategies.reposition()}});function BN(n){return()=>n.scrollStrategies.reposition()}var zN={provide:UN,deps:[Zi],useFactory:BN},oT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({providers:[Zi,zN],imports:[Vi,QE,n_,n_]});let n=e;return n})();var GN=["mat-menu-item",""],HN=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],KN=["mat-icon, [matMenuItemIcon]","*"];function YN(n,e){n&1&&(Pv(),$(0,"svg",2),ve(1,"polygon",3),Q())}var QN=["*"];function XN(n,e){if(n&1){let i=pt();$(0,"div",0),ye("keydown",function(r){Be(i);let s=Ie();return ze(s._handleKeydown(r))})("click",function(){Be(i);let r=Ie();return ze(r.closed.emit("click"))})("@transformMenu.start",function(r){Be(i);let s=Ie();return ze(s._onAnimationStart(r))})("@transformMenu.done",function(r){Be(i);let s=Ie();return ze(s._onAnimationDone(r))}),$(1,"div",1),lt(2),Q()()}if(n&2){let i=Ie();Fe(i._classList),ue("id",i.panelId)("@transformMenu",i._panelAnimationState),Vt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var y_=new Y("MAT_MENU_PANEL"),hc=(()=>{let e=class e{constructor(t,r,s,o,c){this._elementRef=t,this._document=r,this._focusMonitor=s,this._parentMenu=o,this._changeDetectorRef=c,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new re,this._focused=new re,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let s=0;s<r.length;s++)r[s].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(te),N(ya),N(y_,8),N(vt))},e.\u0275cmp=ae({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,s){r&1&&ye("click",function(c){return s._checkDisabled(c)})("mouseenter",function(){return s._handleMouseEnter()}),r&2&&(Vt("role",s.role)("tabindex",s._getTabIndex())("aria-disabled",s.disabled)("disabled",s.disabled||null),At("mat-mdc-menu-item-highlighted",s._highlighted)("mat-mdc-menu-item-submenu-trigger",s._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",ln],disableRipple:[2,"disableRipple","disableRipple",ln]},exportAs:["matMenuItem"],standalone:!0,features:[Fn,ce],attrs:GN,ngContentSelectors:KN,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,s){r&1&&($t(HN),lt(0),$(1,"span",0),lt(2,1),Q(),ve(3,"div",1),it(4,YN,2,0,":svg:svg",2)),r&2&&(se(3),ue("matRippleDisabled",s.disableRipple||s.disabled)("matRippleTrigger",s._getHostElement()),se(),En(s._triggersSubmenu?4:-1))},dependencies:[tb],encapsulation:2,changeDetection:0});let n=e;return n})();var JN=new Y("MatMenuContent");var bh={transformMenu:Oo("transformMenu",[is("void",ti({opacity:0,transform:"scale(0.8)"})),fr("void => enter",dr("120ms cubic-bezier(0, 0, 0.2, 1)",ti({opacity:1,transform:"scale(1)"}))),fr("* => void",dr("100ms 25ms linear",ti({opacity:0})))]),fadeInItems:Oo("fadeInItems",[is("showing",ti({opacity:1})),fr("void => *",[ti({opacity:0}),dr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Bq=bh.fadeInItems,zq=bh.transformMenu,ZN=0,e1=new Y("mat-menu-default-options",{providedIn:"root",factory:t1});function t1(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var lo=(()=>{let e=class e{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}set panelClass(t){let r=this._previousPanelClass,s=O({},this._classList);r&&r.length&&r.split(" ").forEach(o=>{s[o]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(o=>{s[o]=!0}),this._elementRef.nativeElement.className=""),this._classList=s}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,r,s,o){this._elementRef=t,this._changeDetectorRef=o,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new lr,this._classList={},this._panelAnimationState="void",this._animationDone=new re,this.closed=new $e,this.close=this.closed,this.panelId=`mat-menu-panel-${ZN++}`,this._injector=U(ct),this.overlayPanelClass=s.overlayPanelClass||"",this._xPosition=s.xPosition,this._yPosition=s.yPosition,this.backdropClass=s.backdropClass,this.overlapTrigger=s.overlapTrigger,this.hasBackdrop=s.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Sl(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(cn(this._directDescendantItems),St(t=>yi(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let s=t.toArray(),o=Math.max(0,Math.min(s.length-1,r.activeItemIndex||0));s[o]&&!s[o].disabled?r.setActiveItem(o):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe(cn(this._directDescendantItems),St(r=>yi(...r.map(s=>s._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){let r=t.keyCode,s=this._keyManager;switch(r){case 27:ws(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&s.setFocusOrigin("keyboard"),s.onKeydown(t);return}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=Nn(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let s=this._keyManager;s.setFocusOrigin(t).setFirstItemActive(),!s.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){if(this._baseElevation===null){let l=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(l)}let r=Math.min(this._baseElevation+t,24),s=`${this._elevationPrefix}${r}`,o=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let c=O({},this._classList);this._previousElevation&&(c[this._previousElevation]=!1),c[s]=!0,this._previousElevation=s,this._classList=c}}setPositionClasses(t=this.xPosition,r=this.yPosition){this._classList=le(O({},this._classList),{"mat-menu-before":t==="before","mat-menu-after":t==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,t.toState==="enter"&&this._keyManager.activeItemIndex===0&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(cn(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};e.\u0275fac=function(r){return new(r||e)(N(Re),N(ee),N(e1),N(vt))},e.\u0275cmp=ae({type:e,selectors:[["mat-menu"]],contentQueries:function(r,s,o){if(r&1&&(Vn(o,JN,5),Vn(o,hc,5),Vn(o,hc,4)),r&2){let c;mt(c=gt())&&(s.lazyContent=c.first),mt(c=gt())&&(s._allItems=c),mt(c=gt())&&(s.items=c)}},viewQuery:function(r,s){if(r&1&&Zn(Xr,5),r&2){let o;mt(o=gt())&&(s.templateRef=o.first)}},hostVars:3,hostBindings:function(r,s){r&2&&Vt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",ln],hasBackdrop:[2,"hasBackdrop","hasBackdrop",t=>t==null?null:ln(t)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[_t([{provide:y_,useExisting:e}]),Fn,ce],ngContentSelectors:QN,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,s){r&1&&($t(),it(0,XN,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[bh.transformMenu,bh.fadeInItems]},changeDetection:0});let n=e;return n})(),cT=new Y("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let n=U(Zi);return()=>n.scrollStrategies.reposition()}});function n1(n){return()=>n.scrollStrategies.reposition()}var i1={provide:cT,deps:[Zi],useFactory:n1},aT=Oi({passive:!0});var lT=(()=>{let e=class e{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._parentMaterialMenu,this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,r,s,o,c,l,u,f,p){this._overlay=t,this._element=r,this._viewContainerRef=s,this._menuItemInstance=l,this._dir=u,this._focusMonitor=f,this._ngZone=p,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=zt.EMPTY,this._hoverSubscription=zt.EMPTY,this._menuCloseSubscription=zt.EMPTY,this._changeDetectorRef=U(vt),this._handleTouchStart=g=>{va(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new $e,this.onMenuOpen=this.menuOpened,this.menuClosed=new $e,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=c instanceof lo?c:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,aT)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,aT),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let t=this.menu;if(this._menuOpen||!t)return;let r=this._createOverlay(t),s=r.getConfig(),o=s.positionStrategy;this._setPosition(t,o),s.hasBackdrop=t.hasBackdrop==null?!this.triggersSubmenu():t.hasBackdrop,r.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof lo&&(t._startAnimation(),t._directDescendantItems.changes.pipe(je(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(t==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof lo?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Oe(s=>s.toState==="void"),Ft(1),je(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let r=0,s=t.parentMenu;for(;s;)r++,s=s.parentMenu;t.setElevation(r)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){let r=this._getOverlayConfig(t);this._subscribeToPositions(t,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new uc({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,r){t.setPositionClasses&&r.positionChanges.subscribe(s=>{let o=s.connectionPair.overlayX==="start"?"after":"before",c=s.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,c)):t.setPositionClasses(o,c)})}_setPosition(t,r){let[s,o]=t.xPosition==="before"?["end","start"]:["start","end"],[c,l]=t.yPosition==="above"?["bottom","top"]:["top","bottom"],[u,f]=[c,l],[p,g]=[s,o],T=0;if(this.triggersSubmenu()){if(g=s=t.xPosition==="before"?"start":"end",o=p=s==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let A=this._parentMaterialMenu.items.first;this._parentInnerPadding=A?A._getHostElement().offsetTop:0}T=c==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(u=c==="top"?"bottom":"top",f=l==="top"?"bottom":"top");r.withPositions([{originX:s,originY:u,overlayX:p,overlayY:c,offsetY:T},{originX:o,originY:u,overlayX:g,overlayY:c,offsetY:T},{originX:s,originY:f,overlayX:p,overlayY:l,offsetY:-T},{originX:o,originY:f,overlayX:g,overlayY:l,offsetY:-T}])}_menuClosingActions(){let t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:K(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Oe(c=>c!==this._menuItemInstance),Oe(()=>this._menuOpen)):K();return yi(t,s,o,r)}_handleMousedown(t){_a(t)||(this._openedBy=t.button===0?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){let r=t.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Oe(t=>t===this._menuItemInstance&&!t.disabled),Zh(0,Ac)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof lo&&this.menu._isAnimating?this.menu._animationDone.pipe(Ft(1),Zh(0,Ac),je(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new co(t.templateRef,this._viewContainerRef)),this._portal}};e.\u0275fac=function(r){return new(r||e)(N(Zi),N(Re),N(ur),N(cT),N(y_,8),N(hc,10),N(Fi,8),N(ya),N(ee))},e.\u0275dir=nt({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,s){r&1&&ye("click",function(c){return s._handleClick(c)})("mousedown",function(c){return s._handleMousedown(c)})("keydown",function(c){return s._handleKeydown(c)}),r&2&&Vt("aria-haspopup",s.menu?"menu":null)("aria-expanded",s.menuOpen)("aria-controls",s.menuOpen?s.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let n=e;return n})(),uT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Me({type:e}),e.\u0275inj=xe({providers:[i1],imports:[Yt,nb,An,oT,Br,An]});let n=e;return n})();var Ih=(()=>{let e=class e{constructor(){this.currentTheme$=new Ct("dark-theme");let t=window.localStorage.getItem("theme");this.setTheme(t??this.currentTheme$.value)}setTheme(t){document.documentElement.classList.remove(this.currentTheme$.value),document.documentElement.classList.add(t),this.currentTheme$.next(t),window.localStorage.setItem("theme",t)}get isLight(){return this.currentTheme$.value==="light-theme"}get isDark(){return this.currentTheme$.value==="dark-theme"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=j({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var hT=(()=>{let e=class e{constructor(t){this.service=t}setTheme(t){this.service.setTheme(t)}};e.\u0275fac=function(r){return new(r||e)(N(Ih))},e.\u0275cmp=ae({type:e,selectors:[["app-theme-selector"]],standalone:!0,features:[ce],decls:15,vars:3,consts:[["themes",""],["mat-icon-button","",3,"mat-menu-trigger-for"],["color","primary"],["mat-menu-item","",3,"click","disabled"]],template:function(r,s){if(r&1){let o=pt();$(0,"button",1)(1,"mat-icon",2),we(2,"contrast"),Q()(),$(3,"mat-menu",null,0)(5,"button",3),ye("click",function(){return Be(o),ze(s.setTheme("light-theme"))}),$(6,"mat-icon"),we(7,"light_mode"),Q(),$(8,"span"),we(9,"Light"),Q()(),$(10,"button",3),ye("click",function(){return Be(o),ze(s.setTheme("dark-theme"))}),$(11,"mat-icon"),we(12,"dark_mode"),Q(),$(13,"span"),we(14,"Dark"),Q()()()}if(r&2){let o=Jr(4);ue("mat-menu-trigger-for",o),se(5),ue("disabled",s.service.isLight),se(5),ue("disabled",s.service.isDark)}},dependencies:[ji,Li,uT,lo,hc,lT],encapsulation:2});let n=e;return n})();var w_=n=>({"text-primary":n});function o1(n,e){if(n&1){let i=pt();$(0,"button",5),ye("click",function(){Be(i);let r=Ie().$implicit,s=Ie();return ze(s.navigate(r.url))}),$(1,"span",6),we(2),Q()()}if(n&2){let i=Ie().$implicit,t=Ie();ue("disabled",t.currentRoute===i.url),se(),ue("ngClass",Lc(3,w_,t.currentRoute===i.url)),se(),Ln(i.label)}}function a1(n,e){if(n&1){let i=pt();$(0,"div",10)(1,"button",11),ye("click",function(){let r=Be(i).$implicit,s=Ie(4);return ze(s.navigate(r.url))}),$(2,"span",6),we(3),Q()()()}if(n&2){let i=e.$implicit,t=Ie(4);se(),ue("disabled",t.currentRoute===i.url),se(),ue("ngClass",Lc(3,w_,t.currentRoute===i.url)),se(),Ln(i.label)}}function c1(n,e){if(n&1&&Ai(0,a1,4,5,"div",10,Si),n&2){let i=Ie(2).$implicit;Ri(i.sublinks)}}function l1(n,e){if(n&1){let i=pt();$(0,"div",7)(1,"span",8),we(2),Q(),$(3,"button",9),ye("click",function(){Be(i);let r=Ie().$implicit;return ze(r.expanded=!r.expanded)}),$(4,"mat-icon"),we(5),Q()()(),it(6,c1,2,0)}if(n&2){let i=Ie().$implicit,t=Ie();se(),ue("ngClass",Lc(4,w_,t.hasActiveSublink(i.sublinks))),se(),Mo(" ",i.label," "),se(3),Ln(i.expanded?"keyboard_arrow_down":"chevron_right"),se(),En(i.expanded?6:-1)}}function u1(n,e){if(n&1&&it(0,o1,3,5,"button",4)(1,l1,7,6),n&2){let i=e.$implicit;En(i.sublinks?1:0)}}var dT=(()=>{let e=class e{constructor(t){this.router=t,this.hostClasses="h-full flex flex-col items-center",this.toggleDrawer=new $e,this.links=[{label:"Home",url:"/home"},{label:"Gallery",url:"",sublinks:[{label:"Europe",url:"/europe"},{label:"Asia",url:"/asia"},{label:"North America",url:"/north-america"},{label:"South America",url:"/south-america"},{label:"Oceania",url:"/oceania"}],expanded:!0},{label:"Games",url:"",sublinks:[{label:"Avoid the Cob 2",url:"/game"}],expanded:!0}],this.router.events.subscribe(r=>{r instanceof si&&(this.currentRoute=r.url,window.scrollTo(0,0))})}navigate(t){this.toggleDrawer.emit(),this.router.navigate([t]).then(()=>window.location.reload())}hasActiveSublink(t){return t.map(r=>r.url).includes(this.currentRoute)}};e.\u0275fac=function(r){return new(r||e)(N(ps))},e.\u0275cmp=ae({type:e,selectors:[["app-nav"]],hostVars:2,hostBindings:function(r,s){r&2&&Fe(s.hostClasses)},outputs:{toggleDrawer:"toggleDrawer"},standalone:!0,features:[ce],decls:7,vars:0,consts:[["mat-icon-button","",1,"m-6","flex","self-end",3,"click"],["color","primary"],[1,"ml-32","mt-6","flex","size-full","flex-1","flex-col","items-start"],[1,"m-6","flex","justify-end","self-end"],[1,"mb-8",3,"disabled"],[1,"mb-8",3,"click","disabled"],[3,"ngClass"],[1,"mb-6","flex","items-center","justify-center"],[1,"pointer-events-none","mr-1",3,"ngClass"],["mat-icon-button","",1,"mt-2",3,"click"],[1,"mb-8","ml-6","flex","flex-col"],[1,"",3,"click","disabled"]],template:function(r,s){r&1&&($(0,"button",0),ye("click",function(){return s.toggleDrawer.emit()}),$(1,"mat-icon",1),we(2,"close"),Q()(),$(3,"div",2),Ai(4,u1,2,1,null,null,Si),Q(),ve(6,"app-theme-selector",3)),r&2&&(se(4),Ri(s.links))},dependencies:[Yt,ey,hT,ji,Li],encapsulation:2});let n=e;return n})();function h1(n,e){if(n&1){let i=pt();$(0,"button",5),ye("click",function(){Be(i),Ie();let r=Jr(3);return ze(r.toggle())}),$(1,"mat-icon",6),we(2,"menu"),Q()()}}var pT=(()=>{let e=class e{constructor(){this.hostClasses="!size-full",this.animateOnScroll()}onPopState(){location.reload()}registerIcons(){}animateOnScroll(){document.onreadystatechange=()=>{document.readyState==="complete"&&fT.init()}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-root"]],hostVars:2,hostBindings:function(r,s){r&1&&ye("popstate",function(c){return s.onPopState(c)},!1,Mc),r&2&&Fe(s.hostClasses)},standalone:!0,features:[_t([Un,Nl,gh,Bi,Ih,so]),ce],decls:7,vars:3,consts:[["drawer",""],["mat-icon-button","","class","fixed left-0 top-0 z-20 m-6",3,"click",4,"ngIf"],["mode","over",3,"autoFocus","fixedInViewport"],[3,"toggleDrawer"],[1,"!overflow-hidden"],["mat-icon-button","",1,"fixed","left-0","top-0","z-20","m-6",3,"click"],["color","primary"]],template:function(r,s){if(r&1){let o=pt();it(0,h1,3,0,"button",1),$(1,"mat-sidenav-container")(2,"mat-sidenav",2,0)(4,"app-nav",3),ye("toggleDrawer",function(){Be(o);let l=Jr(3);return ze(l.toggle())}),Q()(),$(5,"mat-sidenav-content",4),ve(6,"router-outlet"),Q()()}if(r&2){let o=Jr(3);ue("ngIf",!o.opened),se(2),ue("autoFocus",!1)("fixedInViewport",!0)}},dependencies:[Yt,ns,nf,dT,ji,Li,KE,s_,o_,vh],encapsulation:2});let n=e;return n})();wy(pT,$E).catch(n=>console.error(n));
