@use '@angular/material' as mat;
@use '../../m3-theme.scss' as m3-theme;

@include mat.core();

$light-theme: m3-theme.$light-theme;
$dark-theme: m3-theme.$dark-theme;
$black: mat.get-theme-color($light-theme, neutral, 10) !important;
$white: mat.get-theme-color($light-theme, neutral, 99) !important;
$blue: mat.get-theme-color($dark-theme, primary, 40) !important;
$yellow: mat.get-theme-color($dark-theme, tertiary, 80) !important;

@mixin neutral($theme, $opacity) {
  @if $theme == light {
    background-color: rgba(mat.get-theme-color($light-theme, neutral, 99), $opacity);
  } @else if $theme == dark {
    background-color: rgba(mat.get-theme-color($light-theme, neutral, 10), $opacity);
  }
}

@mixin slide-toggle() {
  .yellow-slide-toggle {
    --mdc-switch-selected-focus-state-layer-color: #{$yellow};
    --mdc-switch-selected-hover-state-layer-color: #{$yellow};
    --mdc-switch-selected-pressed-state-layer-color: #{$yellow};
    --mdc-switch-selected-focus-track-color: #{$yellow};
    --mdc-switch-selected-hover-track-color: #{$yellow};
    --mdc-switch-selected-pressed-track-color: #{$yellow};
    --mdc-switch-selected-track-color: #{$yellow};
  }
}

@mixin slider() {
  .yellow-slider {
    --mdc-slider-handle-color: #{$yellow};
    --mdc-slider-focus-handle-color: #{$yellow};
    --mdc-slider-hover-handle-color: #{$yellow};
    --mdc-slider-active-track-color: #{$yellow};
    --mdc-slider-label-container-color: #{$yellow};
  }
}

html {
  @include mat.core-color($light-theme);
  @include mat.core-color($dark-theme);
}

// Light Theme
.light-theme {
  @include mat.all-component-colors($light-theme);
  @include mat.all-component-typographies($light-theme);
  @include mat.icon-color($light-theme, $color-variant: primary);
  @include mat.button-color($light-theme, $color-variant: secondary);
  @include slide-toggle();
  @include slider();

  .bg-primary {
    background-color: $blue;
  }

  .text-primary {
    color: $black;
  }

  .text-secondary {
    color: $yellow;
  }

  .text-active {
    color: $blue;
  }

  .toolbar-neutral {
    @include neutral(light, 0.9);
  }
}

// Dark Theme
.dark-theme {
  @include mat.all-component-colors($dark-theme);
  @include mat.all-component-typographies($dark-theme);
  @include mat.icon-color($dark-theme, $color-variant: tertiary);
  @include slide-toggle();
  @include slider();

  .bg-primary {
    background-color: $yellow;
  }

  .text-primary {
    color: $yellow;
  }

  .text-secondary {
    color: $white;
  }

  .text-active {
    color: $white;
  }

  .toolbar-neutral {
    @include neutral(dark, 0.9);
  }
}
