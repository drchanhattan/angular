<mat-sidenav-container>
  <!-- Country Side Nav -->
  <mat-sidenav
    #drawer
    mode="over"
    position="end"
    class="mat-elevation-z5 mt-16 !w-64 !rounded-none backdrop-blur"
    [autoFocus]="false"
    [fixedInViewport]="true">
    <app-country-picker [photos]="photos" (selected)="drawer.close()"></app-country-picker>
  </mat-sidenav>

  <mat-sidenav-content class="!overflow-hidden">
    <!-- Photo Grid -->
    @if (photos && countriesService.isSelected) {
      <div
        class="mx-auto min-h-screen columns-1 gap-16 overflow-hidden bg-neutral-white px-4 pb-10 pt-28 sm:px-20 lg:columns-3">
        @for (url of photos[countriesService.index].urls; track $index) {
          <div class="mat-elevation-z5 mb-16 overflow-hidden rounded-lg">
            <img
              class="!scale-110 !duration-1000 hover:!scale-100"
              data-src="{{ url }}"
              data-aos="fade-up"
              data-aos-once="true"
              loading="lazy"
              (load)="animate()" />
          </div>
        }
      </div>
    } @else {
      <!-- Hero -->
      <img class="absolute h-screen w-screen animate-zoom object-cover" [src]="hero" />

      <div
        class="flex h-screen w-full flex-col items-center justify-end pb-60 sm:pb-20"
        data-aos="fade-out"
        data-aos-duration="1000">
        <!-- Continent Label -->
        <span
          class="text-center font-ink text-7xl font-semibold text-mat-yellow drop-shadow sm:text-9xl sm:font-medium">
          {{ name }}
        </span>

        <!-- Countries -->
        <div class="my-20 hidden flex-row items-center justify-center sm:flex">
          @for (photo of photos; track $index; let index = $index) {
            @for (icon of photo.icons; track $index) {
              <app-icon-button
                (click)="countriesService.select(index)"
                class="mx-6 scale-175 hover:scale-200"
                classes="mat-elevation-z1 rounded-full"
                [icon]="{ svgIcon: icon }"></app-icon-button>
            }
          }
        </div>
      </div>
    }

    <!-- Footer -->
    <app-footer></app-footer>
  </mat-sidenav-content>
</mat-sidenav-container>
